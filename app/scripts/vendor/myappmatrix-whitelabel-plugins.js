var COMPILED=!0,goog=goog||{};goog.global=this;goog.DEBUG=!0;goog.LOCALE="en";goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var d=a;(d=d.substring(0,d.lastIndexOf(".")))&&!goog.getObjectByName(d);)goog.implicitNamespaces_[d]=!0}goog.exportPath_(a)};goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};
COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={});goog.exportPath_=function(a,d,b){a=a.split(".");b=b||goog.global;!(a[0]in b)&&b.execScript&&b.execScript("var "+a[0]);for(var c;a.length&&(c=a.shift());)!a.length&&goog.isDef(d)?b[c]=d:b=b[c]?b[c]:b[c]={}};goog.getObjectByName=function(a,d){for(var b=a.split("."),c=d||goog.global,e;e=b.shift();)if(goog.isDefAndNotNull(c[e]))c=c[e];else return null;return c};
goog.globalize=function(a,d){var b=d||goog.global,c;for(c in a)b[c]=a[c]};goog.addDependency=function(a,d,b){if(!COMPILED){var c;a=a.replace(/\\/g,"/");for(var e=goog.dependencies_,g=0;c=d[g];g++)e.nameToPath[c]=a,a in e.pathToNames||(e.pathToNames[a]={}),e.pathToNames[a][c]=!0;for(c=0;d=b[c];c++)a in e.requires||(e.requires[a]={}),e.requires[a][d]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var d=goog.getPathFromDeps_(a);if(d){goog.included_[d]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),d=a.length-1;0<=d;--d){var b=a[d].src,c=b.lastIndexOf("?"),c=
-1==c?b.length:c;if("base.js"==b.substr(c-7,7)){goog.basePath=b.substr(0,c-7);break}}},goog.importScript_=function(a){var d=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&d(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){if(goog.inHtmlDocument_()){var d=goog.global.document;if("complete"==d.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}d.write('<script type="text/javascript" src="'+
a+'">\x3c/script>');return!0}return!1},goog.writeScripts_=function(){function a(e){if(!(e in c.written)){if(!(e in c.visited)&&(c.visited[e]=!0,e in c.requires))for(var k in c.requires[e])if(!goog.isProvided_(k))if(k in c.nameToPath)a(c.nameToPath[k]);else throw Error("Undefined nameToPath for "+k);e in b||(b[e]=!0,d.push(e))}}var d=[],b={},c=goog.dependencies_,e;for(e in goog.included_)c.written[e]||a(e);for(e=0;e<d.length;e++)if(d[e])goog.importScript_(goog.basePath+d[e]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var d=typeof a;if("object"==d)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return d;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==d&&"undefined"==typeof a.call)return"object";return d};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var d=goog.typeOf(a);return"array"==d||"object"==d&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var d=typeof a;return"object"==d&&null!=a||"function"==d};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(d){}};
goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var d=goog.typeOf(a);if("object"==d||"array"==d){if(a.clone)return a.clone();var d="array"==d?[]:{},b;for(b in a)d[b]=goog.cloneObject(a[b]);return d}return a};goog.bindNative_=function(a,d,b){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,d,b){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,c);return a.apply(d,b)}}return function(){return a.apply(d,arguments)}};goog.bind=function(a,d,b){goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,d){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}};goog.mixin=function(a,d){for(var b in d)a[b]=d[b]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var d=goog.global.document,b=d.createElement("script");b.type="text/javascript";b.defer=!1;b.appendChild(d.createTextNode(a));d.body.appendChild(b);
d.body.removeChild(b)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,d){var b=function(a){return goog.cssNameMapping_[a]||a},c=function(a){a=a.split("-");for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c.join("-")},c=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?b:c:function(a){return a};return d?a+"-"+c(d):c(a)};goog.setCssNameMapping=function(a,d){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=d};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,d){var b=d||{},c;for(c in b){var e=(""+b[c]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+c+"\\}","gi"),e)}return a};goog.getMsgWithFallback=function(a){return a};goog.exportSymbol=function(a,d,b){goog.exportPath_(a,d,b)};goog.exportProperty=function(a,d,b){a[d]=b};
goog.inherits=function(a,d){function b(){}b.prototype=d.prototype;a.superClass_=d.prototype;a.prototype=new b;a.prototype.constructor=a};
goog.base=function(a,d,b){var c=arguments.callee.caller;if(c.superClass_)return c.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),g=!1,k=a.constructor;k;k=k.superClass_&&k.superClass_.constructor)if(k.prototype[d]===c)g=!0;else if(g)return k.prototype[d].apply(a,e);if(a[d]===c)return a.constructor.prototype[d].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(a){a.call(goog.global)};$(document).ready(function(){$.parseData=function(a,d){/^\[(.*)\]$/.test(a)&&(a=a.substr(1,a.length-2).split(","));d&&(!$.isArray(a)&&null!=a)&&(a=Array(a));return a};$.preload=function(){for(var a=[],d=arguments.length;d--;){var b=document.createElement("img");b.src=arguments[d];a.push(b)}};$.fn.fadeInSlide=function(a,d){$.isFunction(a)&&(d=a);a||(a=200);d||(d=function(){});this.each(function(){$(this).fadeTo(a/2,1).slideDown(a/2,function(){d()})});return this};$.fn.fadeOutSlide=function(a,d){$.isFunction(a)&&
(d=a);a||(a=200);d||(d=function(){});this.each(function(){var b=$(this);b.fadeTo(a/2,0).slideUp(a/2,function(){b.remove();d()})});return this};$.fn.textFadeOut=function(a,d,b){if(!a)return!1;$.isFunction(d)&&(b=d);d||(d=2E3);b||(b=function(){});this.each(function(){var c=$(this);c.stop().text(a).show().delay(d).fadeOut(1E3,function(){c.text("").show();b()})});return this};$.leadingZero=function(a){a=parseInt(a,10);isNaN(a)||(10>a?a="0"+a:a);return a}});(function(a){function d(b){b.stopPropagation();var c=b.originalEvent.changedTouches[0];return a.extend(b,{type:k[b.type],which:1,pageX:c.pageX,pageY:c.pageY,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY})}a.support.touch="object"===typeof Touch;if(a.support.touch){var b=a.ui.mouse.prototype,c=b._mouseInit,e=b._mouseDown,g=b._mouseUp,k={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"};b._mouseInit=function(){var a=this;a.element.bind("touchstart."+a.widgetName,
function(b){return a._mouseDown(d(b))});c.call(a)};b._mouseDown=function(c){var g=this,t=e.call(g,c);if(g.options.handle&&!a(c.target).is(g.options.handle))b._mouseUp(c);else return g._touchMoveDelegate=function(a){return g._mouseMove(d(a))},g._touchEndDelegate=function(a){return g._mouseUp(d(a))},a(document).bind("touchmove."+g.widgetName,g._touchMoveDelegate).bind("touchend."+g.widgetName,g._touchEndDelegate),t};b._mouseUp=function(b){a(document).unbind("touchmove."+this.widgetName,this._touchMoveDelegate).unbind("touchend."+
this.widgetName,this._touchEndDelegate);return g.call(this,b)}}})(jQuery);
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),j=0,n=0,t=0;b=a.event.fix(c);b.type="mousewheel";c.wheelDelta&&(j=c.wheelDelta/120);c.detail&&(j=-c.detail/3);t=j;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(t=0,n=-1*j);void 0!==c.wheelDeltaY&&(t=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(n=-1*c.wheelDeltaX/120);d.unshift(b,j,n,t);return(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=
a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
(function(a){function d(a){if(a.attr("title")||"string"!=typeof a.attr("original-title"))a.attr("original-title",a.attr("title")||"").removeAttr("title")}function b(b,e){this.$element=a(b);this.options=e;this.enabled=!0;d(this.$element)}b.prototype={show:function(){var b,e,d=this.getTitle();if(d&&this.enabled){var k=this.tip();k.find(".tipsy-inner")[this.options.html?"html":"text"](d);k[0].className="tipsy";k.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(this.options.appendTo);
d=a.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});"body"!=this.options.appendTo&&(d.top=d.left=0);var j=k[0].offsetWidth,n=k[0].offsetHeight,t="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity,A;switch(t.charAt(0)){case "n":A={top:d.top+d.height+this.options.offset,left:d.left+d.width/2-j/2};b=15;e=-j/2;break;case "s":A={top:d.top-n-this.options.offset,left:d.left+d.width/2-j/2};b=
-n-15;e=-j/2;break;case "e":A={top:d.top+d.height/2-n/2,left:d.left-j-this.options.offset};b=-n/2;e=-12-j;break;case "w":A={top:d.top+d.height/2-n/2,left:d.left+d.width+this.options.offset},b=-n/2,e=12}2==t.length&&("w"==t.charAt(1)?(A.left=d.left-5,e+=j/2-15):(e-=j/2-15,A.left=d.left+d.width-j+5));this.options.followMouse&&a(document).bind("mousemove.tipsy",function(a){k.css({left:a.pageX+e,top:a.pageY+b})});k.css(A).addClass("tipsy-"+t);this.options.fade?k.stop().css({opacity:0,display:"block",
visibility:"visible"}).animate({opacity:this.options.opacity}):k.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.followMouse&&a(document).unbind("mousemove.tipsy");this.options.fade?this.tip().stop().fadeOut(function(){a(this).remove()}):this.tip().remove()},getTitle:function(){var a,b=this.$element,g=this.options;d(b);"string"==typeof g.title?a=b.attr("title"==g.title?"original-title":g.title):"function"==typeof g.title&&(a=g.title.call(b[0]));a||(a=g.fallback);
return(a=(""+a).replace(/(^\s*|\s*$)/,""))||g.fallback},setTitel:function(a){this.options.fallback=a},tip:function(){this.$tip||(this.$tip=a('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-outer"><div class="tipsy-inner"/></div></div>'));return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},update:function(){this.tip().find(".tipsy-inner")[this.options.html?
"html":"text"](this.options.fallback)},toggleEnabled:function(){this.enabled=!this.enabled}};a.fn.tipsy=function(c,d,g){function k(d){var e=a.data(d,"tipsy");e||(e=new b(d,a.fn.tipsy.elementOptions(d,c)),a.data(d,"tipsy",e));return e}function j(){var a=k(this);a.hoverState="in";0==c.delayIn?a.show():setTimeout(function(){"in"==a.hoverState&&a.show()},c.delayIn)}function n(){var a=k(this);a.hoverState="out";0==c.delayOut?a.hide():setTimeout(function(){"out"==a.hoverState&&a.hide()},c.delayOut)}if(!0===
c)return this.data("tipsy");if("string"==typeof c)return this.data("tipsy")[c](d,g);c=a.extend({},a.fn.tipsy.defaults,c);c.live||this.each(function(){k(this)});"manual"!=c.trigger&&(d=c.live?"live":"bind",g="hover"==c.trigger?"mouseleave":"blur",this[d](("hover"==c.trigger?"mouseenter":"focus")+".tipsy",j)[d](g+".tipsy",n));return this};a.fn.tipsy.defaults={delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:0.8,followMouse:!1,appendTo:"body",title:"title",trigger:"hover"};
a.fn.tipsy.elementOptions=function(b,d){return a.metadata?a.extend({},d,a(b).metadata()):d};a.fn.tipsy.autoNS=function(){return a(this).offset().top>a(document).scrollTop()+a(window).height()/2?"s":"n"};a.fn.tipsy.autoWE=function(){return a(this).offset().left>a(document).scrollLeft()+a(window).width()/2?"e":"w"}})(jQuery);
(function(a){a.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]};a.support.selectOpacity=a.browser.msie&&7>a.browser.version?!1:!0;a.fn.uniform=
function(d){function b(b){b=a(b).get();1<b.length?a.each(b,function(b,c){a.uniform.elements.push(c)}):a.uniform.elements.push(b)}d=a.extend(a.uniform.options,d);var c=this;!1!=d.resetSelector&&a(d.resetSelector).mouseup(function(){setTimeout(function(){a.uniform.update(c)},10)});a.uniform.restore=function(b){void 0==b&&(b=a(a.uniform.elements));a(b).each(function(){a(this).is(":checkbox")?a(this).unwrap().unwrap():a(this).is("select")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is(":radio")?
a(this).unwrap().unwrap():a(this).is(":file")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is("button, :submit, :reset, a, input[type='button']")&&a(this).unwrap().unwrap();a(this).unbind(".uniform");a(this).css("opacity","1");var c=a.inArray(a(b),a.uniform.elements);a.uniform.elements.splice(c,1)})};a.uniform.noSelect=function(b){function c(){return!1}a(b).each(function(){this.onselectstart=this.ondragstart=c;a(this).mousedown(c).css({MozUserSelect:"none"})})};a.uniform.update=function(b){void 0==
b&&(b=a(a.uniform.elements));b=a(b);b.each(function(){var c=a(this);if(c.is("select")){var k=c.siblings("span"),j=c.parent("div");j.removeClass(d.hoverClass+" "+d.focusClass+" "+d.activeClass);k.html(c.find(":selected").html());c.is(":disabled")?j.addClass(d.disabledClass):j.removeClass(d.disabledClass)}else if(c.is(":checkbox"))k=c.closest("span"),j=c.closest("div"),j.removeClass(d.hoverClass+" "+d.focusClass+" "+d.activeClass),k.removeClass(d.checkedClass),c.is(":checked")&&k.addClass(d.checkedClass),
c.is(":disabled")?j.addClass(d.disabledClass):j.removeClass(d.disabledClass);else if(c.is(":radio"))k=c.closest("span"),j=c.closest("div"),j.removeClass(d.hoverClass+" "+d.focusClass+" "+d.activeClass),k.removeClass(d.checkedClass),c.is(":checked")&&k.addClass(d.checkedClass),c.is(":disabled")?j.addClass(d.disabledClass):j.removeClass(d.disabledClass);else if(c.is(":file"))j=c.parent("div"),k=c.siblings(d.filenameClass),btnTag=c.siblings(d.fileBtnClass),j.removeClass(d.hoverClass+" "+d.focusClass+
" "+d.activeClass),k.text(c.val()),c.is(":disabled")?j.addClass(d.disabledClass):j.removeClass(d.disabledClass);else if(c.is(":submit")||c.is(":reset")||c.is("button")||c.is("a")||b.is("input[type=button]"))j=c.closest("div"),j.removeClass(d.hoverClass+" "+d.focusClass+" "+d.activeClass),c.is(":disabled")?j.addClass(d.disabledClass):j.removeClass(d.disabledClass)})};return this.each(function(){if(a.support.selectOpacity){var c=a(this);if(c.is("select")){if(!0!=c.attr("multiple")&&(void 0==c.attr("size")||
1>=c.attr("size"))){var g=a(c),k=a("<div />"),j=a("<span />");"none"==!g.css("display")&&d.autoHide&&k.hide();k.addClass(d.selectClass);d.useID&&""!=c.attr("id")&&k.attr("id",d.idPrefix+"-"+c.attr("id"));g=c.find(":selected:first");0==g.length&&(g=c.find("option:first"));j.html(g.html());c.css("opacity",0);c.wrap(k);c.before(j);k=c.parent("div");j=c.siblings("span");c.bind({"change.uniform":function(){j.text(c.find(":selected").html());k.removeClass(d.activeClass)},"focus.uniform":function(){k.addClass(d.focusClass)},
"blur.uniform":function(){k.removeClass(d.focusClass);k.removeClass(d.activeClass)},"mousedown.uniform touchbegin.uniform":function(){k.addClass(d.activeClass)},"mouseup.uniform touchend.uniform":function(){k.removeClass(d.activeClass)},"click.uniform touchend.uniform":function(){k.removeClass(d.activeClass)},"mouseenter.uniform":function(){k.addClass(d.hoverClass)},"mouseleave.uniform":function(){k.removeClass(d.hoverClass);k.removeClass(d.activeClass)},"keyup.uniform":function(){j.text(c.find(":selected").html())}});
a(c).attr("disabled")&&k.addClass(d.disabledClass);a.uniform.noSelect(j);b(c)}}else if(c.is(":checkbox")){var g=a(c),n=a("<div />"),t=a("<span />");"none"==!g.css("display")&&d.autoHide&&n.hide();n.addClass(d.checkboxClass);d.useID&&""!=c.attr("id")&&n.attr("id",d.idPrefix+"-"+c.attr("id"));a(c).wrap(n);a(c).wrap(t);t=c.parent();n=t.parent();a(c).css("opacity",0).bind({"focus.uniform":function(){n.addClass(d.focusClass)},"blur.uniform":function(){n.removeClass(d.focusClass)},"click.uniform touchend.uniform":function(){a(c).attr("checked")?
t.addClass(d.checkedClass):t.removeClass(d.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){n.addClass(d.activeClass)},"mouseup.uniform touchend.uniform":function(){n.removeClass(d.activeClass)},"mouseenter.uniform":function(){n.addClass(d.hoverClass)},"mouseleave.uniform":function(){n.removeClass(d.hoverClass);n.removeClass(d.activeClass)}});a(c).attr("checked")&&t.addClass(d.checkedClass);a(c).attr("disabled")&&n.addClass(d.disabledClass);b(c)}else if(c.is(":radio")){var g=a(c),
A=a("<div />"),B=a("<span />");"none"==!g.css("display")&&d.autoHide&&A.hide();A.addClass(d.radioClass);d.useID&&""!=c.attr("id")&&A.attr("id",d.idPrefix+"-"+c.attr("id"));a(c).wrap(A);a(c).wrap(B);B=c.parent();A=B.parent();a(c).css("opacity",0).bind({"focus.uniform":function(){A.addClass(d.focusClass)},"blur.uniform":function(){A.removeClass(d.focusClass)},"click.uniform touchend.uniform":function(){if(a(c).attr("checked")){var b=d.radioClass.split(" ")[0];a("."+b+" span."+d.checkedClass+":has([name='"+
a(c).attr("name")+"'])").removeClass(d.checkedClass);B.addClass(d.checkedClass)}else B.removeClass(d.checkedClass)},"mousedown.uniform touchend.uniform":function(){a(c).is(":disabled")||A.addClass(d.activeClass)},"mouseup.uniform touchbegin.uniform":function(){A.removeClass(d.activeClass)},"mouseenter.uniform touchend.uniform":function(){A.addClass(d.hoverClass)},"mouseleave.uniform":function(){A.removeClass(d.hoverClass);A.removeClass(d.activeClass)}});a(c).attr("checked")&&B.addClass(d.checkedClass);
a(c).attr("disabled")&&A.addClass(d.disabledClass);b(c)}else if(c.is(":file")){var r=a(c),q=a("<div />"),z=a("<span>"+d.fileDefaultText+"</span>"),g=a("<span>"+d.fileBtnText+"</span>");"none"==!r.css("display")&&d.autoHide&&q.hide();q.addClass(d.fileClass);z.addClass(d.filenameClass);g.addClass(d.fileBtnClass);d.useID&&""!=r.attr("id")&&q.attr("id",d.idPrefix+"-"+r.attr("id"));r.wrap(q);r.after(g);r.after(z);q=r.closest("div");z=r.siblings("."+d.filenameClass);g=r.siblings("."+d.fileBtnClass);if(!r.attr("size")){var p=
q.width();r.attr("size",p/10)}var F=function(){var a=r.val();""===a?a=d.fileDefaultText:(a=a.split(/[\/\\]+/),a=a[a.length-1]);z.text(a)};F();r.css("opacity",0).bind({"focus.uniform":function(){q.addClass(d.focusClass)},"blur.uniform":function(){q.removeClass(d.focusClass)},"mousedown.uniform":function(){a(c).is(":disabled")||q.addClass(d.activeClass)},"mouseup.uniform":function(){q.removeClass(d.activeClass)},"mouseenter.uniform":function(){q.addClass(d.hoverClass)},"mouseleave.uniform":function(){q.removeClass(d.hoverClass);
q.removeClass(d.activeClass)}});a.browser.msie?r.bind("click.uniform.ie7",function(){setTimeout(F,0)}):r.bind("change.uniform",F);r.attr("disabled")&&q.addClass(d.disabledClass);a.uniform.noSelect(z);a.uniform.noSelect(g);b(c)}else if(c.is(":text, :password, input[type='email']"))$el=a(c),$el.addClass($el.attr("type")),b(c);else if(c.is("textarea"))a(c).addClass("uniform"),b(c);else if(c.is("a")||c.is(":submit")||c.is(":reset")||c.is("button")||c.is("input[type=button]")){var g=a(c),D=a("<div>"),
p=a("<span>");D.addClass(d.buttonClass);d.useID&&""!=g.attr("id")&&D.attr("id",d.idPrefix+"-"+g.attr("id"));var E;if(g.is("a")||g.is("button"))E=g.text();else if(g.is(":submit")||g.is(":reset")||g.is("input[type=button]"))E=g.attr("value");E=""==E?g.is(":reset")?"Reset":"Submit":E;p.html(E);g.css("opacity",0);g.wrap(D);g.wrap(p);D=g.closest("div");p=g.closest("span");g.is(":disabled")&&D.addClass(d.disabledClass);D.bind({"mouseenter.uniform":function(){D.addClass(d.hoverClass)},"mouseleave.uniform":function(){D.removeClass(d.hoverClass);
D.removeClass(d.activeClass)},"mousedown.uniform touchbegin.uniform":function(){D.addClass(d.activeClass)},"mouseup.uniform touchend.uniform":function(){D.removeClass(d.activeClass)},"click.uniform touchend.uniform":function(b){if(a(b.target).is("span")||a(b.target).is("div"))c[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),c[0].dispatchEvent(b)):c[0].click()}});c.bind({"focus.uniform":function(){D.addClass(d.focusClass)},"blur.uniform":function(){D.removeClass(d.focusClass)}});
a.uniform.noSelect(D);b(c)}}})}})(jQuery);
(function(a){a.fn.extend({elastic:function(){var d="paddingTop paddingRight paddingBottom paddingLeft fontSize lineHeight fontFamily width fontWeight".split(" ");return this.each(function(){function b(a,b){curratedHeight=Math.floor(parseInt(a,10));e.height()!=curratedHeight&&e.css({height:curratedHeight+"px",overflow:b})}function c(){var a=e.val().replace(/&/g,"&amp;").replace(/  /g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),c=g.html().replace(/<br>/ig,"<br />");a+"&nbsp;"!=c&&(g.html(a+
"&nbsp;"),3<Math.abs(g.height()+k-e.height())&&(a=g.height()+k,a>=n?b(n,"auto"):a<=j?b(j,"hidden"):b(a,"hidden")))}if("textarea"!=this.type)return!1;var e=a(this),g=a("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),k=parseInt(e.css("line-height"),10)||parseInt(e.css("font-size"),"10"),j=parseInt(e.css("height"),10)||3*k,n=parseInt(e.css("max-height"),10)||Number.MAX_VALUE,t=0;0>n&&(n=Number.MAX_VALUE);g.appendTo(e.parent());for(t=d.length;t--;)g.css(d[t].toString(),e.css(d[t].toString()));
e.css({overflow:"hidden"});e.bind("keyup change cut paste",function(){c()});e.bind("blur",function(){g.height()<n&&(g.height()>j?e.height(g.height()):e.height(j))});e.live("input paste",function(){setTimeout(c,250)});c()})}})})(jQuery);
(function(a){a.fn.miniColors=function(d,b){var c=function(a){e(a);a.attr("disabled",!0);a.data("trigger").css("opacity",0.5)},e=function(b){b||(b=".miniColors");a(b).each(function(){var b=a(this).data("selector");a(this).removeData("selector");a(b).fadeOut(100,function(){a(this).remove()})});a(document).unbind("mousedown.miniColors");a(document).unbind("mousemove.miniColors")},g=function(b,c){var d=b.data("colorPicker");d.hide();var e={x:c.clientX-b.data("selector").find(".miniColors-colors").offset().left+
a(document).scrollLeft()-5,y:c.clientY-b.data("selector").find(".miniColors-colors").offset().top+a(document).scrollTop()-5};-5>=e.x&&(e.x=-5);144<=e.x&&(e.x=144);-5>=e.y&&(e.y=-5);144<=e.y&&(e.y=144);b.data("colorPosition",e);d.css("left",e.x).css("top",e.y).show();d=Math.round(0.67*(e.x+5));0>d&&(d=0);100<d&&(d=100);e=100-Math.round(0.67*(e.y+5));0>e&&(e=0);100<e&&(e=100);var g=b.data("hsb");g.s=d;g.b=e;j(b,g,!0)},k=function(b,c){var d=b.data("huePicker");d.hide();var e={y:c.clientY-b.data("selector").find(".miniColors-colors").offset().top+
a(document).scrollTop()-1};-1>=e.y&&(e.y=-1);149<=e.y&&(e.y=149);b.data("huePosition",e);d.css("top",e.y).show();d=Math.round(2.4*(150-e.y-1));0>d&&(d=0);360<d&&(d=360);e=b.data("hsb");e.h=d;j(b,e,!0)},j=function(a,b,c){a.data("hsb",b);var d=r(B(b));c&&a.val("#"+d);a.data("trigger").css("backgroundColor","#"+d);a.data("selector")&&a.data("selector").find(".miniColors-colors").css("backgroundColor","#"+r(B({h:b.h,s:100,b:100})));a.data("change")&&a.data("change").call(a,"#"+d,B(b))},n=function(a){var b=
Math.ceil(a.s/0.67);0>b&&(b=0);150<b&&(b=150);a=150-Math.ceil(a.b/0.67);0>a&&(a=0);150<a&&(a=150);return{x:b-5,y:a-5}},t=function(a){a=150-a.h/2.4;0>a&&(h=0);150<a&&(h=150);return{y:a-1}},A=function(a){a=a.replace(/[^A-Fa-f0-9]/,"");3==a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);return 6===a.length?a:null},B=function(a){var b,c,d;b=Math.round(a.h);var e=Math.round(255*a.s/100);a=Math.round(255*a.b/100);if(0==e)b=c=d=a;else{var e=(255-e)*a/255,g=(a-e)*(b%60)/60;360==b&&(b=0);60>b?(b=a,d=e,c=e+g):120>
b?(c=a,d=e,b=a-g):180>b?(c=a,b=e,d=e+g):240>b?(d=a,b=e,c=a-g):300>b?(d=a,c=e,b=e+g):360>b?(b=a,c=e,d=a-g):d=c=b=0}return{r:Math.round(b),g:Math.round(c),b:Math.round(d)}},r=function(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];a.each(c,function(a,b){1==b.length&&(c[a]="0"+b)});return c.join("")},q=function(a){var b=a,b=parseInt(-1<b.indexOf("#")?b.substring(1):b,16);a=b>>16;var c=(b&65280)>>8,b=b&255,d={h:0,s:0,b:0},e=Math.min(a,c,b),g=Math.max(a,c,b),e=g-e;d.b=g;d.s=0!=g?255*e/g:
0;d.h=0!=d.s?a==g?(c-b)/e:c==g?2+(b-a)/e:4+(a-c)/e:-1;d.h*=60;0>d.h&&(d.h+=360);d.s*=100/255;d.b*=100/255;0===d.s&&(d.h=360);return d};switch(d){case "readonly":return a(this).each(function(){a(this).attr("readonly",b)}),a(this);case "disabled":return a(this).each(function(){if(b)c(a(this));else{var d=a(this);d.attr("disabled",!1);d.data("trigger").css("opacity",1)}}),a(this);case "value":return a(this).each(function(){"string"!==typeof b&&(b=r(B(b)));a(this).val(b).trigger("keyup")}),a(this);case "destroy":return a(this).each(function(){var b=
a(this);e();b=a(b);b.data("trigger").remove();b.removeAttr("autocomplete");b.removeData("trigger");b.removeData("selector");b.removeData("hsb");b.removeData("huePicker");b.removeData("colorPicker");b.removeData("mousebutton");b.removeData("moving");b.unbind("click.miniColors");b.unbind("focus.miniColors");b.unbind("blur.miniColors");b.unbind("keyup.miniColors");b.unbind("keydown.miniColors");b.unbind("paste.miniColors");a(document).unbind("mousedown.miniColors");a(document).unbind("mousemove.miniColors")}),
a(this);default:return d||(d={}),a(this).each(function(){if("input"===a(this)[0].tagName.toLowerCase()&&!a(this).data("trigger")){var b=a(this),p=d,F=A(b.val());F||(F="FFFFFF");var D=q(F),F=a('<a class="miniColors-trigger" style="background-color: #'+F+'" href="#"></a>');F.insertAfter(b);b.addClass("miniColors").attr("maxlength",7).attr("autocomplete","off");b.data("trigger",F);b.data("hsb",D);p.change&&b.data("change",p.change);p.readonly&&b.attr("readonly",!0);p.disabled&&c(b);F.bind("click.miniColors",
function(a){a.preventDefault();b.trigger("focus")});b.bind("focus.miniColors",function(){if(!b.attr("disabled")){e();var c=a('<div class="miniColors-selector"></div>');c.append('<div class="miniColors-colors" style="background-color: #FFF;"><div class="miniColors-colorPicker"></div></div>');c.append('<div class="miniColors-hues"><div class="miniColors-huePicker"></div></div>');c.css({top:b.is(":visible")?b.offset().top+b.outerHeight():b.data("trigger").offset().top+b.data("trigger").outerHeight(),
left:b.is(":visible")?b.offset().left:b.data("trigger").offset().left,display:"none"}).addClass(b.attr("class"));var d=b.data("hsb");c.find(".miniColors-colors").css("backgroundColor","#"+r(B({h:d.h,s:100,b:100})));var j=b.data("colorPosition");j||(j=n(d));c.find(".miniColors-colorPicker").css("top",j.y+"px").css("left",j.x+"px");(j=b.data("huePosition"))||(j=t(d));c.find(".miniColors-huePicker").css("top",j.y+"px");b.data("selector",c);b.data("huePicker",c.find(".miniColors-huePicker"));b.data("colorPicker",
c.find(".miniColors-colorPicker"));b.data("mousebutton",0);a("BODY").append(c);c.fadeIn(100);c.bind("selectstart",function(){return!1});a(document).bind("mousedown.miniColors",function(c){b.data("mousebutton",1);a(c.target).parents().andSelf().hasClass("miniColors-colors")&&(c.preventDefault(),b.data("moving","colors"),g(b,c));a(c.target).parents().andSelf().hasClass("miniColors-hues")&&(c.preventDefault(),b.data("moving","hues"),k(b,c));a(c.target).parents().andSelf().hasClass("miniColors-selector")?
c.preventDefault():a(c.target).parents().andSelf().hasClass("miniColors")||e(b)});a(document).bind("mouseup.miniColors",function(){b.data("mousebutton",0);b.removeData("moving")});a(document).bind("mousemove.miniColors",function(a){1===b.data("mousebutton")&&("colors"===b.data("moving")&&g(b,a),"hues"===b.data("moving")&&k(b,a))})}});b.bind("blur.miniColors",function(){var a=A(b.val());b.val(a?"#"+a:"")});b.bind("keydown.miniColors",function(a){9===a.keyCode&&e(b)});b.bind("keyup.miniColors",function(){var c=
b.val().replace(/[^A-F0-9#]/ig,"");b.val(c);if(c=A(b.val())){var c=q(c),d=b.data("hsb");c.h===d.h&&c.s===d.s&&c.b===d.b||(d=n(c),a(b.data("colorPicker")).css("top",d.y+"px").css("left",d.x+"px"),d=t(c),a(b.data("huePicker")).css("top",d.y+"px"),j(b,c,!1));c=!0}else c=!1;c||b.data("trigger").css("backgroundColor","#FFF")});b.bind("paste.miniColors",function(){setTimeout(function(){b.trigger("keyup")},5)})}}),a(this)}}})(jQuery);
(function(a){var d=0;a.ajaxTransport("iframe",function(b){if("POST"===b.type||"GET"===b.type){var c,e;return{send:function(g,k){c=a('<form style="display:none;"></form>');e=a('<iframe src="javascript:false;" name="iframe-transport-'+(d+=1)+'"></iframe>').bind("load",function(){var d;e.unbind("load").bind("load",function(){var b;try{b=e.contents()}catch(d){b=a()}k(200,"success",{iframe:b});a('<iframe src="javascript:false;"></iframe>').appendTo(c);c.remove()});c.prop("target",e.prop("name")).prop("action",
b.url).prop("method",b.type);b.formData&&a.each(b.formData,function(b,d){a('<input type="hidden"/>').prop("name",d.name).val(d.value).appendTo(c)});b.fileInput&&(b.fileInput.length&&"POST"===b.type)&&(d=b.fileInput.clone(),b.fileInput.after(function(a){return d[a]}),b.paramName&&b.fileInput.each(function(){a(this).prop("name",b.paramName)}),c.append(b.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"));c.submit();d&&d.length&&b.fileInput.each(function(b,c){var e=
a(d[b]);a(c).prop("name",e.prop("name"));e.replaceWith(c)})});c.append(e).appendTo("body")},abort:function(){e&&e.unbind("load").prop("src","javascript".concat(":false;"));c&&c.remove()}}}});a.ajaxSetup({converters:{"iframe text":function(a){return a.text()},"iframe json":function(b){return a.parseJSON(b.text())},"iframe html":function(a){return a.find("body").html()},"iframe script":function(b){return a.globalEval(b.text())}}})})(jQuery);
(function(a){a.widget("blueimp.fileupload",{options:{namespace:void 0,dropZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,sequentialUploads:!1,forceIframeTransport:!1,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,formData:function(a){return a.serializeArray()},add:function(a,b){b.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["namespace","dropZone","fileInput"],_isXHRUpload:function(a){return!a.forceIframeTransport&&
"undefined"!==typeof XMLHttpRequestUpload&&"undefined"!==typeof File&&(!a.multipart||"undefined"!==typeof FormData)},_getFormData:function(d){var b;return"function"===typeof d.formData?d.formData(d.form):a.isArray(d.formData)?d.formData:d.formData?(b=[],a.each(d.formData,function(a,d){b.push({name:a,value:d})}),b):[]},_getTotal:function(d){var b=0;a.each(d,function(a,d){b+=d.size||1});return b},_onProgress:function(a,b){if(a.lengthComputable){var c=b.total||this._getTotal(b.files),e=parseInt(a.loaded/
a.total*(b.chunkSize||c),10)+(b.uploadedBytes||0);this._loaded+=e-(b.loaded||b.uploadedBytes||0);b.lengthComputable=!0;b.loaded=e;b.total=c;this._trigger("progress",a,b);this._trigger("progressall",a,{lengthComputable:!0,loaded:this._loaded,total:this._total})}},_initProgressListener:function(d){var b=this,c=d.xhr?d.xhr():a.ajaxSettings.xhr();c.upload&&c.upload.addEventListener&&(c.upload.addEventListener("progress",function(a){b._onProgress(a,d)},!1),d.xhr=function(){return c})},_initXHRData:function(d){var b,
c=d.files[0];if(!d.multipart||d.blob)d.headers=a.extend(d.headers,{"X-File-Name":c.name,"X-File-Type":c.type,"X-File-Size":c.size}),d.blob?d.multipart||(d.contentType="application/octet-stream",d.data=d.blob):(d.contentType=c.type,d.data=c);d.multipart&&"undefined"!==typeof FormData&&(d.formData instanceof FormData?b=d.formData:(b=new FormData,a.each(this._getFormData(d),function(a,c){b.append(c.name,c.value)})),d.blob?b.append(d.paramName,d.blob):a.each(d.files,function(a,c){c instanceof Blob&&b.append(d.paramName,
c)}),d.data=b);d.blob=null},_initIframeSettings:function(a){a.dataType="iframe "+(a.dataType||"");a.formData=this._getFormData(a)},_initDataSettings:function(a){this._isXHRUpload(a)?this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)):this._initIframeSettings(a)},_initFormSettings:function(d){if(!d.form||!d.form.length)d.form=a(d.fileInput.prop("form"));d.paramName||(d.paramName=d.fileInput.prop("name")||"files[]");d.url||(d.url=d.form.prop("action")||location.href);
d.type=(d.type||d.form.prop("method")||"").toUpperCase();"POST"!==d.type&&"PUT"!==d.type&&(d.type="POST")},_getAJAXSettings:function(d){d=a.extend({},this.options,d);this._initFormSettings(d);this._initDataSettings(d);return d},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(d,b,c){var e=a.Deferred(),g=e.promise();b=b||this.options.context||g;!0===d?e.resolveWith(b,c):!1===d&&e.rejectWith(b,c);g.abort=e.promise;return this._enhancePromise(g)},
_chunkedUpload:function(d,b){var c=this,e=d.files[0],g=e.size,k=d.uploadedBytes=d.uploadedBytes||0,j=d.maxChunkSize||g,n=e.webkitSlice||e.mozSlice||e.slice,t,A;if(!this._isXHRUpload(d)||(!n||!(k||j<g))||d.data)return!1;if(b)return!0;if(k>=g)return e.error="uploadedBytes",this._getXHRPromise(!1);g=Math.ceil((g-k)/j);t=function(b){return!b?c._getXHRPromise(!0):t(b-=1).pipe(function(){var g=a.extend({},d);g.blob=n.call(e,k+b*j,k+(b+1)*j);g.chunkSize=g.blob.size;c._initXHRData(g);c._initProgressListener(g);
return A=(a.ajax(g)||c._getXHRPromise(!1,g.context)).done(function(){g.loaded||c._onProgress(a.Event("progress",{lengthComputable:!0,loaded:g.chunkSize,total:g.chunkSize}),g);d.uploadedBytes=g.uploadedBytes+=g.chunkSize})})};g=t(g);g.abort=function(){return A.abort()};return this._enhancePromise(g)},_beforeSend:function(a,b){0===this._active&&this._trigger("start");this._active+=1;this._loaded+=b.uploadedBytes||0;this._total+=this._getTotal(b.files)},_onDone:function(d,b,c,e){this._isXHRUpload(e)||
this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:1,total:1}),e);e.result=d;e.textStatus=b;e.jqXHR=c;this._trigger("done",null,e)},_onFail:function(a,b,c,e){e.jqXHR=a;e.textStatus=b;e.errorThrown=c;this._trigger("fail",null,e);e.recalculateProgress&&(this._loaded-=e.loaded||e.uploadedBytes||0,this._total-=e.total||this._getTotal(e.files))},_onAlways:function(a,b,c,e,g){this._active-=1;g.result=a;g.textStatus=b;g.jqXHR=c;g.errorThrown=e;this._trigger("always",null,g);0===this._active&&
(this._trigger("stop"),this._loaded=this._total=0)},_onSend:function(d,b){var c=this,e,g,k=c._getAJAXSettings(b),j=function(b,g){return e=e||(!1!==b&&!1!==c._trigger("send",d,k)&&(c._chunkedUpload(k)||a.ajax(k))||c._getXHRPromise(!1,k.context,g)).done(function(a,b,d){c._onDone(a,b,d,k)}).fail(function(a,b,d){c._onFail(a,b,d,k)}).always(function(a,b,d){!d||"string"===typeof d?c._onAlways(void 0,b,a,d,k):c._onAlways(a,b,d,void 0,k)})};this._beforeSend(d,k);return this.options.sequentialUploads?(g=this._sequence=
this._sequence.pipe(j,j),g.abort=function(){return!e?j(!1,[void 0,"abort","abort"]):e.abort()},this._enhancePromise(g)):j()},_onAdd:function(d,b){var c=this,e=!0,g=a.extend({},this.options,b);if(g.singleFileUploads&&this._isXHRUpload(g))return a.each(b.files,function(g,j){var n=a.extend({},b,{files:[j]});n.submit=function(){return c._onSend(d,n)};return e=c._trigger("add",d,n)}),e;if(b.files.length)return b=a.extend({},b),b.submit=function(){return c._onSend(d,b)},this._trigger("add",d,b)},_normalizeFile:function(a,
b){void 0===b.name&&void 0===b.size&&(b.name=b.fileName,b.size=b.fileSize)},_replaceFileInput:function(d){var b=d.clone(!0);a("<form></form>").append(b)[0].reset();d.after(b).detach();this.options.fileInput=this.options.fileInput.map(function(a,e){return e===d[0]?b[0]:e})},_onChange:function(d){var b=d.data.fileupload,c={files:a.each(a.makeArray(d.target.files),b._normalizeFile),fileInput:a(d.target),form:a(d.target.form)};c.files.length||(c.files=[{name:d.target.value.replace(/^.*\\/,"")}]);c.form.length?
c.fileInput.data("blueimp.fileupload.form",c.form):c.form=c.fileInput.data("blueimp.fileupload.form");b.options.replaceFileInput&&b._replaceFileInput(c.fileInput);if(!1===b._trigger("change",d,c)||!1===b._onAdd(d,c))return!1},_onDrop:function(d){var b=d.data.fileupload,c=d.dataTransfer=d.originalEvent.dataTransfer,c={files:a.each(a.makeArray(c&&c.files),b._normalizeFile)};if(!1===b._trigger("drop",d,c)||!1===b._onAdd(d,c))return!1;d.preventDefault()},_onDragOver:function(a){var b=a.data.fileupload,
c=a.dataTransfer=a.originalEvent.dataTransfer;if(!1===b._trigger("dragover",a))return!1;c&&(c.dropEffect=c.effectAllowed="copy");a.preventDefault()},_initEventHandlers:function(){var a=this.options.namespace||this.name;this.options.dropZone.bind("dragover."+a,{fileupload:this},this._onDragOver).bind("drop."+a,{fileupload:this},this._onDrop);this.options.fileInput.bind("change."+a,{fileupload:this},this._onChange)},_destroyEventHandlers:function(){var a=this.options.namespace||this.name;this.options.dropZone.unbind("dragover."+
a,this._onDragOver).unbind("drop."+a,this._onDrop);this.options.fileInput.unbind("change."+a,this._onChange)},_beforeSetOption:function(){},_afterSetOption:function(){var d=this.options;d.fileInput||(d.fileInput=a());d.dropZone||(d.dropZone=a());this._initEventHandlers()},_setOption:function(d,b){var c=-1!==a.inArray(d,this._refreshOptionsList);c&&this._beforeSetOption(d,b);a.Widget.prototype._setOption.call(this,d,b);c&&this._afterSetOption(d,b)},_create:function(){var d=this.options;void 0===d.fileInput?
d.fileInput=this.element.is("input:file")?this.element:this.element.find("input:file"):d.fileInput||(d.fileInput=a());d.dropZone||(d.dropZone=a());this._sequence=this._getXHRPromise(!0);this._active=this._loaded=this._total=0;this._initEventHandlers()},destroy:function(){},enable:function(){a.Widget.prototype.enable.call(this);this._initEventHandlers()},disable:function(){this._destroyEventHandlers();a.Widget.prototype.disable.call(this)},add:function(d){d&&!this.options.disabled&&(d.files=a.each(a.makeArray(d.files),
this._normalizeFile),this._onAdd(null,d))},send:function(d){return d&&!this.options.disabled&&(d.files=a.each(a.makeArray(d.files),this._normalizeFile),d.files.length)?this._onSend(null,d):this._getXHRPromise(!1,d&&d.context)}})})(jQuery);
(function(a){var d,b,c,e,g,k,j,n,t,A,B=0,r={},q=[],z=0,p={},F=[],D=null,E=new Image,V=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,ha=/[^\.]\.(swf)\s*$/i,W,sa=1,S=0,U="",ba,ia,ga=!1,Y=a.extend(a("<div/>")[0],{prop:0}),xa=a.browser.msie&&7>a.browser.version&&!window.XMLHttpRequest,ua=function(){b.hide();E.onerror=E.onload=null;D&&D.abort();d.empty()},ta=function(){!1===r.onError(q,B,r)?(b.hide(),ga=!1):(r.titleShow=!1,r.width="auto",r.height="auto",d.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),
N())},va=function(){var c=q[B],e,g,t,j,A,n;ua();r=a.extend({},a.fn.fancybox.defaults,"undefined"==typeof a(c).data("fancybox")?r:a(c).data("fancybox"));n=r.onStart(q,B,r);if(!1===n)ga=!1;else{"object"==typeof n&&(r=a.extend(r,n));t=r.title||(c.nodeName?a(c).attr("title"):c.title)||"";c.nodeName&&!r.orig&&(r.orig=a(c).children("img:first").length?a(c).children("img:first"):a(c));""===t&&(r.orig&&r.titleFromAlt)&&(t=r.orig.attr("alt"));e=r.href||(c.nodeName?a(c).attr("href"):c.href)||null;if(/^(?:javascript)/i.test(e)||
"#"==e)e=null;r.type?(g=r.type,e||(e=r.content)):r.content?g="html":e&&(g=e.match(V)?"image":e.match(ha)?"swf":a(c).hasClass("iframe")?"iframe":0===e.indexOf("#")?"inline":"ajax");if(g)switch("inline"==g&&(c=e.substr(e.indexOf("#")),g=0<a(c).length?"inline":"ajax"),r.type=g,r.href=e,r.title=t,r.autoDimensions&&("html"==r.type||"inline"==r.type||"ajax"==r.type?(r.width="auto",r.height="auto"):r.autoDimensions=!1),r.modal&&(r.overlayShow=!0,r.hideOnOverlayClick=!1,r.hideOnContentClick=!1,r.enableEscapeButton=
!1,r.showCloseButton=!1),r.padding=parseInt(r.padding,10),r.margin=parseInt(r.margin,10),d.css("padding",r.padding+r.margin),a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(k.children())}),g){case "html":d.html(r.content);N();break;case "inline":if(!0===a(c).parent().is("#fancybox-content")){ga=!1;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(c)).bind("fancybox-cleanup",function(){a(this).replaceWith(k.children())}).bind("fancybox-cancel",
function(){a(this).replaceWith(d.children())});a(c).appendTo(d);N();break;case "image":ga=!1;a.fancybox.showActivity();E=new Image;E.onerror=function(){ta()};E.onload=function(){ga=!0;E.onerror=E.onload=null;r.width=E.width;r.height=E.height;a("<img />").attr({id:"fancybox-img",src:E.src,alt:r.title}).appendTo(d);na()};E.src=e;break;case "swf":r.scrolling="no";j='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+r.width+'" height="'+r.height+'"><param name="movie" value="'+e+'"></param>';
A="";a.each(r.swf,function(a,b){j+='<param name="'+a+'" value="'+b+'"></param>';A+=" "+a+'="'+b+'"'});j+='<embed src="'+e+'" type="application/x-shockwave-flash" width="'+r.width+'" height="'+r.height+'"'+A+"></embed></object>";d.html(j);N();break;case "ajax":ga=!1;a.fancybox.showActivity();r.ajax.win=r.ajax.success;D=a.ajax(a.extend({},r.ajax,{url:e,data:r.ajax.data||{},error:function(a){0<a.status&&ta()},success:function(a,c,g){if(200==("object"==typeof g?g:D).status){if("function"==typeof r.ajax.win){n=
r.ajax.win(e,a,c,g);if(!1===n){b.hide();return}if("string"==typeof n||"object"==typeof n)a=n}d.html(a);N()}}}));break;case "iframe":na()}else ta()}},N=function(){var b=r.width,c=r.height,b=-1<b.toString().indexOf("%")?parseInt((a(window).width()-2*r.margin)*parseFloat(b)/100,10)+"px":"auto"==b?"auto":b+"px",c=-1<c.toString().indexOf("%")?parseInt((a(window).height()-2*r.margin)*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px";d.wrapInner('<div style="width:'+b+";height:"+c+";overflow: "+("auto"==
r.scrolling?"auto":"yes"==r.scrolling?"scroll":"hidden")+';position:relative;"></div>');r.width=d.width();r.height=d.height();na()},na=function(){var D,L;b.hide();if(e.is(":visible")&&!1===p.onCleanup(F,z,p))a.event.trigger("fancybox-cancel"),ga=!1;else{ga=!0;a(k.add(c)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");e.is(":visible")&&"outside"!==p.titlePosition&&e.css("height",e.height());F=q;z=B;p=r;p.overlayShow?(c.css({"background-color":p.overlayColor,opacity:p.overlayOpacity,
cursor:p.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),c.is(":visible")||(xa&&a("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),c.show())):c.hide();D=G();var C={},Q=p.autoScale,E=2*p.padding;C.width=-1<p.width.toString().indexOf("%")?parseInt(D[0]*parseFloat(p.width)/100,10):p.width+E;C.height=-1<p.height.toString().indexOf("%")?parseInt(D[1]*
parseFloat(p.height)/100,10):p.height+E;if(Q&&(C.width>D[0]||C.height>D[1]))"image"==r.type||"swf"==r.type?(Q=p.width/p.height,C.width>D[0]&&(C.width=D[0],C.height=parseInt((C.width-E)/Q+E,10)),C.height>D[1]&&(C.height=D[1],C.width=parseInt((C.height-E)*Q+E,10))):(C.width=Math.min(C.width,D[0]),C.height=Math.min(C.height,D[1]));C.top=parseInt(Math.max(D[3]-20,D[3]+0.5*(D[1]-C.height-40)),10);C.left=parseInt(Math.max(D[2]-20,D[2]+0.5*(D[0]-C.width-40)),10);ia=C;U=p.title||"";S=0;n.empty().removeAttr("style").removeClass();
if(!1!==p.titleShow&&(U=D=a.isFunction(p.titleFormat)?p.titleFormat(U,F,z,p):U&&U.length?"float"==p.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+U+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+p.titlePosition+'">'+U+"</div>":!1)&&""!==U)switch(n.addClass("fancybox-title-"+p.titlePosition).html(U).appendTo("body").show(),p.titlePosition){case "inside":n.css({width:ia.width-
2*p.padding,marginLeft:p.padding,marginRight:p.padding});S=n.outerHeight(!0);n.appendTo(g);ia.height+=S;break;case "over":n.css({marginLeft:p.padding,width:ia.width-2*p.padding,bottom:p.padding}).appendTo(g);break;case "float":n.css("left",-1*parseInt((n.width()-ia.width-40)/2,10)).appendTo(e);break;default:n.css({width:ia.width-2*p.padding,paddingLeft:p.padding,paddingRight:p.padding}).appendTo(e)}n.hide();e.is(":visible")?(a(j.add(t).add(A)).hide(),D=e.position(),ba={top:D.top,left:D.left,width:e.width(),
height:e.height()},L=ba.width==ia.width&&ba.height==ia.height,k.fadeTo(p.changeFade,0.3,function(){var b=function(){k.html(d.contents()).fadeTo(p.changeFade,1,Ba)};a.event.trigger("fancybox-change");k.empty().removeAttr("filter").css({"border-width":p.padding,width:ia.width-2*p.padding,height:r.autoDimensions?"auto":ia.height-S-2*p.padding});L?b():(Y.prop=0,a(Y).animate({prop:1},{duration:p.changeSpeed,easing:p.easingChange,step:qa,complete:b}))})):(e.removeAttr("style"),k.css("border-width",p.padding),
"elastic"==p.transitionIn?(ba=w(),k.html(d.contents()),e.show(),p.opacity&&(ia.opacity=0),Y.prop=0,a(Y).animate({prop:1},{duration:p.speedIn,easing:p.easingIn,step:qa,complete:Ba})):("inside"==p.titlePosition&&0<S&&n.show(),k.css({width:ia.width-2*p.padding,height:r.autoDimensions?"auto":ia.height-S-2*p.padding}).html(d.contents()),e.css(ia).fadeIn("none"==p.transitionIn?0:p.speedIn,Ba)))}},Ba=function(){a.support.opacity||(k.get(0).style.removeAttribute("filter"),e.get(0).style.removeAttribute("filter"));
r.autoDimensions&&k.css("height","auto");e.css("height","auto");U&&U.length&&n.show();p.showCloseButton&&j.show();(p.enableEscapeButton||p.enableKeyboardNav)&&a(document).bind("keydown.fb",function(b){if(27==b.keyCode&&p.enableEscapeButton)b.preventDefault(),a.fancybox.close();else if((37==b.keyCode||39==b.keyCode)&&p.enableKeyboardNav&&"INPUT"!==b.target.tagName&&"TEXTAREA"!==b.target.tagName&&"SELECT"!==b.target.tagName)b.preventDefault(),a.fancybox[37==b.keyCode?"prev":"next"]()});p.showNavArrows?
((p.cyclic&&1<F.length||0!==z)&&t.show(),(p.cyclic&&1<F.length||z!=F.length-1)&&A.show()):(t.hide(),A.hide());p.hideOnContentClick&&k.bind("click",a.fancybox.close);p.hideOnOverlayClick&&c.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);p.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);"iframe"==p.type&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+
' scrolling="'+r.scrolling+'" src="'+p.href+'"></iframe>').appendTo(k);e.show();ga=!1;a.fancybox.center();p.onComplete(F,z,p);var b,d;F.length-1>z&&(b=F[z+1].href,"undefined"!==typeof b&&b.match(V)&&(d=new Image,d.src=b));0<z&&(b=F[z-1].href,"undefined"!==typeof b&&b.match(V)&&(d=new Image,d.src=b))},qa=function(a){var b={width:parseInt(ba.width+(ia.width-ba.width)*a,10),height:parseInt(ba.height+(ia.height-ba.height)*a,10),top:parseInt(ba.top+(ia.top-ba.top)*a,10),left:parseInt(ba.left+(ia.left-
ba.left)*a,10)};"undefined"!==typeof ia.opacity&&(b.opacity=0.5>a?0.5:a);e.css(b);k.css({width:b.width-2*p.padding,height:b.height-S*a-2*p.padding})},G=function(){return[a(window).width()-2*p.margin,a(window).height()-2*p.margin,a(document).scrollLeft()+p.margin,a(document).scrollTop()+p.margin]},w=function(){var b=r.orig?a(r.orig):!1,c={};b&&b.length?(c=b.offset(),c.top+=parseInt(b.css("paddingTop"),10)||0,c.left+=parseInt(b.css("paddingLeft"),10)||0,c.top+=parseInt(b.css("border-top-width"),10)||
0,c.left+=parseInt(b.css("border-left-width"),10)||0,c.width=b.width(),c.height=b.height(),c={width:c.width+2*p.padding,height:c.height+2*p.padding,top:c.top-p.padding-20,left:c.left-p.padding-20}):(b=G(),c={width:2*p.padding,height:2*p.padding,top:parseInt(b[3]+0.5*b[1],10),left:parseInt(b[2]+0.5*b[0],10)});return c},Q=function(){b.is(":visible")?(a("div",b).css("top",-40*sa+"px"),sa=(sa+1)%12):clearInterval(W)};a.fn.fancybox=function(b){if(!a(this).length)return this;a(this).data("fancybox",a.extend({},
b,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(b){b.preventDefault();ga||(ga=!0,a(this).blur(),q=[],B=0,b=a(this).attr("rel")||"",!b||""==b||"nofollow"===b?q.push(this):(q=a("a[rel="+b+"], area[rel="+b+"]"),B=q.index(this)),va())});return this};a.fancybox=function(b,c){var d;if(!ga){ga=!0;d="undefined"!==typeof c?c:{};q=[];B=parseInt(d.index,10)||0;if(a.isArray(b)){for(var e=0,g=b.length;e<g;e++)"object"==typeof b[e]?a(b[e]).data("fancybox",a.extend({},d,b[e])):b[e]=
a({}).data("fancybox",a.extend({content:b[e]},d));q=jQuery.merge(q,b)}else"object"==typeof b?a(b).data("fancybox",a.extend({},d,b)):b=a({}).data("fancybox",a.extend({content:b},d)),q.push(b);if(B>q.length||0>B)B=0;va()}};a.fancybox.showActivity=function(){clearInterval(W);b.show();W=setInterval(Q,66)};a.fancybox.hideActivity=function(){b.hide()};a.fancybox.next=function(){return a.fancybox.pos(z+1)};a.fancybox.prev=function(){return a.fancybox.pos(z-1)};a.fancybox.pos=function(a){ga||(a=parseInt(a),
q=F,-1<a&&a<F.length?(B=a,va()):p.cyclic&&1<F.length&&(B=a>=F.length?0:F.length-1,va()))};a.fancybox.cancel=function(){ga||(ga=!0,a.event.trigger("fancybox-cancel"),ua(),r.onCancel(q,B,r),ga=!1)};a.fancybox.close=function(){function b(){c.fadeOut("fast");n.empty().hide();e.hide();a.event.trigger("fancybox-cleanup");k.empty();p.onClosed(F,z,p);F=r=[];z=B=0;p=r={};ga=!1}if(!ga&&!e.is(":hidden"))if(ga=!0,p&&!1===p.onCleanup(F,z,p))ga=!1;else if(ua(),a(j.add(t).add(A)).hide(),a(k.add(c)).unbind(),a(window).unbind("resize.fb scroll.fb"),
a(document).unbind("keydown.fb"),k.find("iframe").attr("src",xa&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==p.titlePosition&&n.empty(),e.stop(),"elastic"==p.transitionOut){ba=w();var d=e.position();ia={top:d.top,left:d.left,width:e.width(),height:e.height()};p.opacity&&(ia.opacity=1);n.empty().hide();Y.prop=1;a(Y).animate({prop:0},{duration:p.speedOut,easing:p.easingOut,step:qa,complete:b})}else e.fadeOut("none"==p.transitionOut?0:p.speedOut,b)};a.fancybox.resize=
function(){c.is(":visible")&&c.css("height",a(document).height());a.fancybox.center(!0)};a.fancybox.center=function(a){var b,c;ga||(c=!0===a?1:0,b=G(),!c&&(e.width()>b[0]||e.height()>b[1])||e.stop().animate({top:parseInt(Math.max(b[3]-20,b[3]+0.5*(b[1]-k.height()-40)-p.padding)),left:parseInt(Math.max(b[2]-20,b[2]+0.5*(b[0]-k.width()-40)-p.padding))},"number"==typeof a?a:200))};a.fancybox.init=function(){a("#fancybox-wrap").length||(a("body").append(d=a('<div id="fancybox-tmp"></div>'),b=a('<div id="fancybox-loading"><div></div></div>'),
c=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>')),g=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(e),
g.append(k=a('<div id="fancybox-content"></div>'),j=a('<a id="fancybox-close"></a>'),n=a('<div id="fancybox-title"></div>'),t=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),A=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),j.click(a.fancybox.close),b.click(a.fancybox.cancel),t.click(function(b){b.preventDefault();a.fancybox.prev()}),A.click(function(b){b.preventDefault();a.fancybox.next()}),
a.fn.mousewheel&&e.bind("mousewheel.fb",function(b,c){if(ga)b.preventDefault();else if(0==a(b.target).get(0).clientHeight||a(b.target).get(0).scrollHeight===a(b.target).get(0).clientHeight)b.preventDefault(),a.fancybox[0<c?"prev":"next"]()}),a.support.opacity||e.addClass("fancybox-ie"),xa&&(b.addClass("fancybox-ie6"),e.addClass("fancybox-ie6"),a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(g)))};
a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,
showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);
(function(a){function d(){if(g.jStorage)try{e=t(String(g.jStorage))}catch(a){g.jStorage="{}"}else g.jStorage="{}";j=g.jStorage?String(g.jStorage).length:0}function b(){try{g.jStorage=n(e),k&&(k.setAttribute("jStorage",g.jStorage),k.save("jStorage")),j=g.jStorage?String(g.jStorage).length:0}catch(a){}}function c(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");return!0}if(!a||!a.toJSON&&(!Object.toJSON&&!window.JSON)&&!a.browser.msie)throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");
var e={},g={jStorage:"{}"},k=null,j=0,n=a.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),t=a.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(a){return String(a).evalJSON()},A=!1;_XMLService={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},decode:function(a){var b="DOMParser"in window&&
(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b};if(!b)return!1;a=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}};a.jStorage={version:"0.1.5.2",set:function(a,d){c(a);_XMLService.isXML(d)&&(d={_is_xml:!0,xml:_XMLService.encode(d)});e[a]=d;b();return d},get:function(a,b){c(a);return a in e?e[a]&&"object"==typeof e[a]&&e[a]._is_xml&&e[a]._is_xml?_XMLService.decode(e[a].xml):
e[a]:"undefined"==typeof b?null:b},deleteKey:function(a){c(a);return a in e?(delete e[a],b(),!0):!1},flush:function(){e={};b();return!0},storageObj:function(){function a(){}a.prototype=e;return new a},index:function(){var a=[],b;for(b in e)e.hasOwnProperty(b)&&a.push(b);return a},storageSize:function(){return j},currentBackend:function(){return A},storageAvailable:function(){return!!A},reInit:function(){var a;if(k&&k.addBehavior){a=document.createElement("link");k.parentNode.replaceChild(a,k);k=a;
k.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(k);k.load("jStorage");a="{}";try{a=k.getAttribute("jStorage")}catch(b){}g.jStorage=a;A="userDataBehavior"}d()}};a:{if("localStorage"in window)try{window.localStorage&&(g=window.localStorage,A="localStorage")}catch(B){}else if("globalStorage"in window)try{window.globalStorage&&(g=window.globalStorage[window.location.hostname],A="globalStorage")}catch(r){}else if(k=document.createElement("link"),k.addBehavior){k.style.behavior=
"url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(k);k.load("jStorage");a="{}";try{a=k.getAttribute("jStorage")}catch(q){}g.jStorage=a;A="userDataBehavior"}else{k=null;break a}d()}})(window.jQuery||window.$);
(function(a){a.fn.checkbox=function(d){var b={cls:"jquery-checkbox"},b=a.extend(b,d||{});return this.each(function(){var c=this,d=c.checked,g=c.disabled,k=a(c);c.stateInterval&&clearInterval(c.stateInterval);c.stateInterval=setInterval(function(){c.disabled!=g&&k.trigger((g=!!c.disabled)?"disable":"enable");c.checked!=d&&k.trigger((d=!!c.checked)?"check":"uncheck")},10);var j=a(c).is(":radio")?"radio":"checkbox";c.wrapper&&c.wrapper.remove();c.wrapper=a('<span class="'+b.cls+" "+j+'"><span><span class="checkboxplaceholder"></span></span></span>');
c.wrapperInner=c.wrapper.children("span:eq(0)");c.wrapper.bind({click:function(){k.trigger("click");return!1},mouseover:function(){c.wrapperInner.addClass("hover")},mouseout:function(){c.wrapperInner.removeClass("hover")},mousedown:function(){c.wrapperInner.addClass("pressed")},mouseup:function(){c.wrapperInner.removeClass("pressed")}});k.css({position:"absolute",zIndex:-1,visibility:"hidden"}).after(c.wrapper);j=!1;j=k.closest("label"),j.length||(j=!1);j&&j.bind({click:function(){k.trigger("click");
return!1},mouseover:function(){c.wrapper.trigger("mouseover")},mouseout:function(){c.wrapper.trigger("mouseout")},mousedown:function(){c.wrapper.addClass("pressed")},mouseup:function(){c.wrapper.removeClass("pressed")}});k.bind("disable",function(){c.wrapperInner.addClass("disabled")}).bind("enable",function(){c.wrapperInner.removeClass("disabled")});k.bind("check",function(){c.wrapper.addClass("checked")}).bind("uncheck",function(){c.wrapper.removeClass("checked")});window.getSelection&&c.wrapper.css("MozUserSelect",
"none");c.checked&&c.wrapper.addClass("checked");c.disabled&&c.wrapperInner.addClass("disabled")})}})(jQuery);$(document).ready(function(){var a=jQuery,d=function(){this.controls={bold:{groupIndex:0,visible:!1,tags:["b","strong"],css:{fontWeight:"bold"},tooltip:"Bold",hotkey:{ctrl:1,key:66}},copy:{groupIndex:8,visible:!1,tooltip:"Copy"},colorpicker:{visible:!1,groupIndex:1,tooltip:"Colorpicker",exec:function(){a.wysiwyg.controls.colorpicker.init(this)}},createLink:{groupIndex:6,visible:!1,exec:function(){var c=this;a.wysiwyg.controls&&a.wysiwyg.controls.link?a.wysiwyg.controls.link.init(this):a.wysiwyg.autoload?
a.wysiwyg.autoload.control("wysiwyg.link.js",function(){c.controls.createLink.exec.apply(c)}):b.error("$.wysiwyg.controls.link not defined. You need to include wysiwyg.link.js file")},tags:["a"],tooltip:"Create link"},cut:{groupIndex:8,visible:!1,tooltip:"Cut"},decreaseFontSize:{groupIndex:9,visible:!1,tags:["small"],tooltip:"Decrease font size",exec:function(){this.decreaseFontSize()}},h1:{groupIndex:7,visible:!1,className:"h1",command:a.browser.msie||a.browser.safari||a.browser.opera?"FormatBlock":
"heading",arguments:a.browser.msie||a.browser.safari||a.browser.opera?"<h1>":"h1",tags:["h1"],tooltip:"Header 1"},h2:{groupIndex:7,visible:!1,className:"h2",command:a.browser.msie||a.browser.safari||a.browser.opera?"FormatBlock":"heading",arguments:a.browser.msie||a.browser.safari||a.browser.opera?"<h2>":"h2",tags:["h2"],tooltip:"Header 2"},h3:{groupIndex:7,visible:!1,className:"h3",command:a.browser.msie||a.browser.safari||a.browser.opera?"FormatBlock":"heading",arguments:a.browser.msie||a.browser.safari||
a.browser.opera?"<h3>":"h3",tags:["h3"],tooltip:"Header 3"},h4:{groupIndex:7,visible:!1,className:"h4",command:a.browser.msie||a.browser.safari||a.browser.opera?"FormatBlock":"heading",arguments:a.browser.msie||a.browser.safari||a.browser.opera?"<h4>":"h4",tags:["h4"],tooltip:"Header 4"},h5:{groupIndex:7,visible:!1,className:"h5",command:a.browser.msie||a.browser.safari||a.browser.opera?"FormatBlock":"heading",arguments:a.browser.msie||a.browser.safari||a.browser.opera?"<h5>":"h5",tags:["h5"],tooltip:"Header 5"},
h6:{groupIndex:7,visible:!1,className:"h6",command:a.browser.msie||a.browser.safari||a.browser.opera?"FormatBlock":"heading",arguments:a.browser.msie||a.browser.safari||a.browser.opera?"<h6>":"h6",tags:["h6"],tooltip:"Header 6"},highlight:{tooltip:"Highlight",className:"highlight",groupIndex:1,visible:!1,css:{backgroundColor:"rgb(255, 255, 102)"},exec:function(){var b,c;b=a.browser.msie||a.browser.safari?"backcolor":"hilitecolor";if(a.browser.msie)c=this.getInternalRange().parentElement();else{c=
this.getInternalSelection();for(c=c.extentNode||c.focusNode;void 0===c.style;)if(c=c.parentNode,c.tagName&&"body"===c.tagName.toLowerCase())return}this.editorDoc.execCommand(b,!1,"rgb(255, 255, 102)"===c.style.backgroundColor||"#ffff66"===c.style.backgroundColor?"#ffffff":"#ffff66")}},html:{groupIndex:10,visible:!1,exec:function(){var b;this.options.resizeOptions&&a.fn.resizable&&(b=this.element.height());this.viewHTML?(this.setContent(this.original.value),a(this.original).hide(),this.editor.show(),
this.options.resizeOptions&&a.fn.resizable&&(b===this.element.height()&&this.element.height(b+this.editor.height()),this.element.resizable(a.extend(!0,{alsoResize:this.editor},this.options.resizeOptions))),this.ui.toolbar.find("li").each(function(){var b=a(this);b.hasClass("html")?b.removeClass("active"):b.removeClass("disabled")})):(this.saveContent(),a(this.original).css({width:this.element.outerWidth()-6,height:this.element.height()-this.ui.toolbar.height()-6,resize:"none"}).show(),this.editor.hide(),
this.options.resizeOptions&&a.fn.resizable&&(b===this.element.height()&&this.element.height(this.ui.toolbar.height()),this.element.resizable("destroy")),this.ui.toolbar.find("li").each(function(){var b=a(this);b.hasClass("html")?b.addClass("active"):!1===b.hasClass("fullscreen")&&b.removeClass("active").addClass("disabled")}));this.viewHTML=!this.viewHTML},tooltip:"View source code"},increaseFontSize:{groupIndex:9,visible:!1,tags:["big"],tooltip:"Increase font size",exec:function(){this.increaseFontSize()}},
insertImage:{groupIndex:6,visible:!1,exec:function(){var c=this;a.wysiwyg.controls&&a.wysiwyg.controls.image?a.wysiwyg.controls.image.init(this):a.wysiwyg.autoload?a.wysiwyg.autoload.control("wysiwyg.image.js",function(){c.controls.insertImage.exec.apply(c)}):b.error("$.wysiwyg.controls.image not defined. You need to include wysiwyg.image.js file")},tags:["img"],tooltip:"Insert image"},insertOrderedList:{groupIndex:5,visible:!1,tags:["ol"],tooltip:"Insert Ordered List"},insertTable:{groupIndex:6,
visible:!1,exec:function(){var c=this;a.wysiwyg.controls&&a.wysiwyg.controls.table?a.wysiwyg.controls.table(this):a.wysiwyg.autoload?a.wysiwyg.autoload.control("wysiwyg.table.js",function(){c.controls.insertTable.exec.apply(c)}):b.error("$.wysiwyg.controls.table not defined. You need to include wysiwyg.table.js file")},tags:["table"],tooltip:"Insert table"},insertUnorderedList:{groupIndex:5,visible:!1,tags:["ul"],tooltip:"Insert Unordered List"},italic:{groupIndex:0,visible:!1,tags:["i","em"],css:{fontStyle:"italic"},
tooltip:"Italic",hotkey:{ctrl:1,key:73}},justifyLeft:{visible:!1,groupIndex:1,css:{textAlign:"left"},tooltip:"Justify Left"},justifyCenter:{groupIndex:1,visible:!1,tags:["center"],css:{textAlign:"center"},tooltip:"Justify Center"},justifyRight:{groupIndex:1,visible:!1,css:{textAlign:"right"},tooltip:"Justify Right"},justifyFull:{groupIndex:1,visible:!1,css:{textAlign:"justify"},tooltip:"Justify Full"},ltr:{groupIndex:9,visible:!1,exec:function(){var b=this.dom.getElement("p");if(!b)return!1;a(b).attr("dir",
"ltr");return!0},tooltip:"Left to Right"},rtl:{groupIndex:9,visible:!1,exec:function(){var b=this.dom.getElement("p");if(!b)return!1;a(b).attr("dir","rtl");return!0},tooltip:"Right to Left"},indent:{groupIndex:2,visible:!1,tooltip:"Indent"},outdent:{groupIndex:2,visible:!1,tooltip:"Outdent"},insertHorizontalRule:{groupIndex:5,visible:!1,tags:["hr"],tooltip:"Insert Horizontal Rule"},paragraph:{groupIndex:7,visible:!1,className:"paragraph",command:"FormatBlock",arguments:a.browser.msie||a.browser.safari||
a.browser.opera?"<p>":"p",tags:["p"],tooltip:"Paragraph"},paste:{groupIndex:8,visible:!1,tooltip:"Paste"},undo:{groupIndex:4,visible:!1,tooltip:"Undo"},redo:{groupIndex:4,visible:!1,tooltip:"Redo"},removeFormat:{groupIndex:10,visible:!1,exec:function(){this.removeFormat()},tooltip:"Remove formatting"},underline:{groupIndex:0,visible:!1,tags:["u"],css:{textDecoration:"underline"},tooltip:"Underline",hotkey:{ctrl:1,key:85}},strikeThrough:{groupIndex:0,visible:!1,tags:["s","strike"],css:{textDecoration:"line-through"},
tooltip:"Strike-through"},subscript:{groupIndex:3,visible:!1,tags:["sub"],tooltip:"Subscript"},superscript:{groupIndex:3,visible:!1,tags:["sup"],tooltip:"Superscript"},code:{visible:!1,groupIndex:6,tooltip:"Code snippet",exec:function(){var b=this.getInternalRange(),c=a(b.commonAncestorContainer),b=b.commonAncestorContainer.nodeName.toLowerCase();c.parent("code").length?c.unwrap():"body"!==b&&c.wrap("<code/>")}},cssWrap:{visible:!1,groupIndex:6,tooltip:"CSS Wrapper",exec:function(){a.wysiwyg.controls.cssWrap.init(this)}}};
this.defaults={html:'<!DOCTYPE html><html><head><meta charset="utf-8"></head><body>INITIAL_CONTENT</body></html>',debug:!1,controls:{},css:{},events:{},autoGrow:!1,autoSave:!0,brIE:!0,formHeight:270,formWidth:440,iFrameClass:null,initialContent:"<p>Initial content</p>",maxHeight:1E4,maxLength:0,messages:{nonSelection:"Select the text you wish to link"},toolbarHtml:'<ul role="menu" class="toolbar"></ul>',removeHeadings:!1,replaceDivWithP:!1,resizeOptions:!1,rmUnusedControls:!1,rmUnwantedBr:!0,tableFiller:null,
initialMinHeight:null,controlImage:{forceRelativeUrls:!1},controlLink:{forceRelativeUrls:!1},plugins:{autoload:!1,i18n:!1,rmFormat:{rmMsWordMarkup:!1}}};this.availableControlProperties="arguments callback className command css custom exec groupIndex hotkey icon tags tooltip visible".split(" ");this.element=this.editorDoc=this.editor=null;this.options={};this.savedRange=this.original=null;this.timers=[];this.validKeyCodes=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46];this.isDestroyed=!1;
this.dom={ie:{parent:null},w3c:{parent:null}};this.dom.parent=this;this.dom.ie.parent=this.dom;this.dom.w3c.parent=this.dom;this.ui={};this.ui.self=this;this.ui.toolbar=null;this.ui.initialHeight=null;this.dom.getAncestor=function(a,b){for(b=b.toLowerCase();a&&"body"!==a.tagName.toLowerCase();){if(b===a.tagName.toLowerCase())return a;a=a.parentNode}return null};this.dom.getElement=function(a){return window.getSelection?this.w3c.getElement(a):this.ie.getElement(a)};this.dom.ie.getElement=function(a){var b=
this.parent,c=b.parent.getInternalSelection(),d=c.createRange();if("Control"===c.type)if(1===d.length)c=d.item(0);else return null;else c=d.parentElement();return b.getAncestor(c,a)};this.dom.w3c.getElement=function(a){var b=this.parent,c=b.parent.getInternalRange(),d;if(!c)return null;d=c.commonAncestorContainer;3===d.nodeType&&(d=d.parentNode);d===c.startContainer&&(d=d.childNodes[c.startOffset]);return b.getAncestor(d,a)};this.ui.addHoverClass=function(){a(this).addClass("wysiwyg-button-hover")};
this.ui.appendControls=function(){var b=this,c=this.self.parseControls(),d=!0,e=[],g={},j,k=function(a,c){c.groupIndex&&j!==c.groupIndex&&(j=c.groupIndex,d=!1);c.visible&&(d||(b.appendItemSeparator(),d=!0),c.custom?b.appendItemCustom(a,c):b.appendItem(a,c))};a.each(c,function(a,b){var c="empty";void 0!==b.groupIndex&&(c=""===b.groupIndex?"empty":b.groupIndex);void 0===g[c]&&(e.push(c),g[c]={});g[c][a]=b});e.sort(function(a,b){if("number"===typeof a&&typeof a===typeof b)return a-b;a=a.toString();b=
b.toString();return a>b?1:a===b?0:-1});0<e.length&&(j=e[0]);for(c=0;c<e.length;c+=1)a.each(g[e[c]],k)};this.ui.appendItem=function(b,c){var d=this.self,e=c.className||c.command||b||"empty",g=c.tooltip||c.command||b||"";return a('<li role="menuitem" unselectable="on">'+e+"</li>").addClass(e).attr("title",g).hover(this.addHoverClass,this.removeHoverClass).click(function(){if(a(this).hasClass("disabled"))return!1;d.triggerControl.apply(d,[b,c]);this.blur();d.ui.returnRange();d.ui.focus();return!0}).appendTo(d.ui.toolbar)};
this.ui.appendItemCustom=function(b,c){var d=this.self,e=c.tooltip||c.command||b||"";c.callback&&a(window).bind("trigger-"+b+".wysiwyg",c.callback);return a('<li role="menuitem" unselectable="on" style="background: url(\''+c.icon+"') no-repeat;\"></li>").addClass("custom-command-"+b).addClass("wysiwyg-custom-command").addClass(b).attr("title",e).hover(this.addHoverClass,this.removeHoverClass).click(function(){if(a(this).hasClass("disabled"))return!1;d.triggerControl.apply(d,[b,c]);this.blur();d.ui.returnRange();
d.ui.focus();d.triggerControlCallback(b);return!0}).appendTo(d.ui.toolbar)};this.ui.appendItemSeparator=function(){var b=this.self;return a('<li role="separator" class="separator"></li>').appendTo(b.ui.toolbar)};this.autoSaveFunction=function(){this.saveContent()};this.ui.checkTargets=function(b){var c=this.self;a.each(c.options.controls,function(d,e){var g=e.className||e.command||d||"empty",j,k,n,D=function(a,b){"function"===typeof b?b(n.css(a).toString().toLowerCase(),c)&&c.ui.toolbar.find("."+
g).addClass("active"):n.css(a).toString().toLowerCase()===b&&c.ui.toolbar.find("."+g).addClass("active")};"fullscreen"!==g&&c.ui.toolbar.find("."+g).removeClass("active");if(e.tags||e.options&&e.options.tags){j=e.tags||e.options&&e.options.tags;for(k=b;k&&1===k.nodeType;)-1!==a.inArray(k.tagName.toLowerCase(),j)&&c.ui.toolbar.find("."+g).addClass("active"),k=k.parentNode}if(e.css||e.options&&e.options.css){j=e.css||e.options&&e.options.css;for(n=a(b);n&&1===n[0].nodeType;)a.each(j,D),n=n.parent()}})};
this.ui.designMode=function(){var a=this.self,b;b=function(c){if("on"===a.editorDoc.designMode)a.timers.designMode&&window.clearTimeout(a.timers.designMode),a.innerDocument()!==a.editorDoc&&a.ui.initFrame();else{try{a.editorDoc.designMode="on"}catch(d){}c-=1;0<c&&(a.timers.designMode=window.setTimeout(function(){b(c)},100))}};b(3)};this.destroy=function(){this.isDestroyed=!0;var b,c=this.element.closest("form");for(b=0;b<this.timers.length;b+=1)window.clearTimeout(this.timers[b]);c.unbind(".wysiwyg");
this.element.remove();a.removeData(this.original,"wysiwyg");a(this.original).show();return this};this.getRangeText=function(){var a=this.getInternalRange();a.toString?a=a.toString():a.text&&(a=a.text);return a};this.execute=function(a,b){"undefined"===typeof b&&(b=null);this.editorDoc.execCommand(a,!1,b)};this.extendOptions=function(b){var c={};"object"===typeof b.controls&&(c=b.controls,delete b.controls);b=a.extend(!0,{},this.defaults,b);b.controls=a.extend(!0,{},c,this.controls,c);b.rmUnusedControls&&
a.each(b.controls,function(a){c[a]||delete b.controls[a]});return b};this.ui.focus=function(){var a=this.self;a.editor.get(0).contentWindow.focus();return a};this.ui.returnRange=function(){var a=this.self,c;if(null!==a.savedRange){if(window.getSelection){c=window.getSelection();0<c.rangeCount&&c.removeAllRanges();try{c.addRange(a.savedRange)}catch(d){b.error(d)}}else window.document.createRange?window.getSelection().addRange(a.savedRange):window.document.selection&&a.savedRange.select();a.savedRange=
null}};this.increaseFontSize=function(){if(a.browser.mozilla||a.browser.opera)this.editorDoc.execCommand("increaseFontSize",!1,null);else if(a.browser.safari){var c=this.editorDoc.createElement("big");this.getInternalRange().surroundContents(c)}else b.error("Internet Explorer?")};this.decreaseFontSize=function(){if(a.browser.mozilla||a.browser.opera)this.editorDoc.execCommand("decreaseFontSize",!1,null);else if(a.browser.safari){var c=this.editorDoc.createElement("small");this.getInternalRange().surroundContents(c)}else b.error("Internet Explorer?")};
this.getContent=function(){this.viewHTML&&this.setContent(this.original.value);return this.events.filter("getContent",this.editorDoc.body.innerHTML)};this.events={_events:{},bind:function(a,b){"object"!==typeof this._events.eventName&&(this._events[a]=[]);this._events[a].push(b)},trigger:function(b,c){if("object"===typeof this._events.eventName){var d=this.editor;a.each(this._events[b],function(a,b){"function"===typeof b&&b.apply(d,c)})}},filter:function(b,c){if("object"===typeof this._events[b]){var d=
this.editor,e=Array.prototype.slice.call(arguments,1);a.each(this._events[b],function(a,b){"function"===typeof b&&(c=b.apply(d,e))})}return c}};this.getElementByAttributeValue=function(b,c,d){var e,g=this.editorDoc.getElementsByTagName(b);for(b=0;b<g.length;b+=1)if(e=g[b].getAttribute(c),a.browser.msie&&(e=e.substr(e.length-d.length)),e===d)return g[b];return!1};this.getInternalRange=function(){var a=this.getInternalSelection();return!a?null:a.rangeCount&&0<a.rangeCount?a.getRangeAt(0):a.createRange?
a.createRange():null};this.getInternalSelection=function(){if(this.editor.get(0).contentWindow){if(this.editor.get(0).contentWindow.getSelection)return this.editor.get(0).contentWindow.getSelection();if(this.editor.get(0).contentWindow.selection)return this.editor.get(0).contentWindow.selection}return this.editorDoc.getSelection?this.editorDoc.getSelection():this.editorDoc.selection?this.editorDoc.selection:null};this.getRange=function(){var a=this.getSelection();if(!a)return null;if(a.rangeCount&&
0<a.rangeCount)a.getRangeAt(0);else if(a.createRange)return a.createRange();return null};this.getSelection=function(){return window.getSelection?window.getSelection():window.document.selection};this.ui.grow=function(){var b=this.self,c=a(b.editorDoc.body),d=a.browser.msie?c[0].scrollHeight:c.height()+2+20,d=Math.max(d,b.ui.initialHeight),d=Math.min(d,b.options.maxHeight);b.editor.attr("scrolling",d<b.options.maxHeight?"no":"auto");c.css("overflow",d<b.options.maxHeight?"hidden":"");b.editor.get(0).height=
d;return b};this.init=function(b,c){var d=this,e=a(b).closest("form"),g=b.width||b.clientWidth||0,j=b.height||b.clientHeight||0;this.options=this.extendOptions(c);this.original=b;this.ui.toolbar=a(this.options.toolbarHtml);a.browser.msie&&8>parseInt(a.browser.version,10)&&(this.options.autoGrow=!1);0===g&&b.cols&&(g=8*b.cols+21);0===j&&b.rows&&(j=16*b.rows+16);this.editor=a("https:"===window.location.protocol?'<iframe src="javascript:false;"></iframe>':"<iframe></iframe>").attr("frameborder","0");
this.options.iFrameClass?this.editor.addClass(this.options.iFrameClass):(this.editor.css({minHeight:(j-6).toString()+"px",width:50<g?(g-8).toString()+"px":""}),a.browser.msie&&7>parseInt(a.browser.version,10)&&this.editor.css("height",j.toString()+"px"));this.editor.attr("tabindex",a(b).attr("tabindex"));this.element=a("<div/>").addClass("wysiwyg");this.options.iFrameClass||this.element.css({width:0<g?g.toString()+"px":"100%"});a(b).hide().before(this.element);this.viewHTML=!1;this.initialContent=
a(b).val();this.ui.initFrame();this.options.resizeOptions&&a.fn.resizable&&this.element.resizable(a.extend(!0,{alsoResize:this.editor},this.options.resizeOptions));this.options.autoSave&&e.bind("submit.wysiwyg",function(){d.autoSaveFunction()});e.bind("reset.wysiwyg",function(){d.resetFunction()})};this.ui.initFrame=function(){var b=this.self,c;b.ui.appendControls();b.element.append(b.ui.toolbar).append(a("<div>\x3c!-- --\x3e</div>").css({clear:"both"})).append(b.editor);b.editorDoc=b.innerDocument();
if(b.isDestroyed)return null;b.ui.designMode();b.editorDoc.open();b.editorDoc.write(b.options.html.replace(/INITIAL_CONTENT/,function(){return b.wrapInitialContent()}));b.editorDoc.close();a.wysiwyg.plugin.bind(b);a(b.editorDoc).trigger("initFrame.wysiwyg");a(b.editorDoc).bind("click.wysiwyg",function(a){b.ui.checkTargets(a.target?a.target:a.srcElement)});a(b.original).focus(function(){a(this).filter(":visible")||b.ui.focus()});a(b.editorDoc).keydown(function(a){var c;return 8===a.keyCode&&(c=/^<([\w]+)[^>]*>(<br\/?>)?<\/\1>$/,
c.test(b.getContent()))?(a.stopPropagation(),!1):!0});a.browser.msie?b.options.brIE&&a(b.editorDoc).keydown(function(a){return 13===a.keyCode?(a=b.getRange(),a.pasteHTML("<br/>"),a.collapse(!1),a.select(),!1):!0}):a(b.editorDoc).keydown(function(a){var c;if(a.ctrlKey||a.metaKey)for(c in b.controls)if(b.controls[c].hotkey&&b.controls[c].hotkey.ctrl&&a.keyCode===b.controls[c].hotkey.key)return b.triggerControl.apply(b,[c,b.controls[c]]),!1;return!0});b.options.plugins.rmFormat.rmMsWordMarkup&&a(b.editorDoc).bind("keyup.wysiwyg",
function(c){if(c.ctrlKey||c.metaKey)86===c.keyCode&&a.wysiwyg.rmFormat&&("object"===typeof b.options.plugins.rmFormat.rmMsWordMarkup?a.wysiwyg.rmFormat.run(b,{rules:{msWordMarkup:b.options.plugins.rmFormat.rmMsWordMarkup}}):a.wysiwyg.rmFormat.run(b,{rules:{msWordMarkup:{enabled:!0}}}))});b.options.autoSave&&a(b.editorDoc).keydown(function(){b.autoSaveFunction()}).keyup(function(){b.autoSaveFunction()}).mousedown(function(){b.autoSaveFunction()}).bind(a.support.noCloneEvent?"input.wysiwyg":"paste.wysiwyg",
function(){b.autoSaveFunction()});b.options.autoGrow&&(b.ui.initialHeight=null!==b.options.initialMinHeight?b.options.initialMinHeight:a(b.editorDoc).height(),a(b.editorDoc.body).css("border","1px solid white"),c=function(){b.ui.grow()},a(b.editorDoc).keyup(c),a(b.editorDoc).bind("editorRefresh.wysiwyg",c),b.ui.grow());b.options.css&&(String===b.options.css.constructor?a.browser.msie?(c=b.editorDoc.createStyleSheet(b.options.css),a(c).attr({media:"all"})):(c=a("<link/>").attr({href:b.options.css,
media:"all",rel:"stylesheet",type:"text/css"}),a(b.editorDoc).find("head").append(c)):b.timers.initFrame_Css=window.setTimeout(function(){a(b.editorDoc.body).css(b.options.css)},0));0===b.initialContent.length&&("function"===typeof b.options.initialContent?b.setContent(b.options.initialContent()):b.setContent(b.options.initialContent));0<b.options.maxLength&&a(b.editorDoc).keydown(function(c){a(b.editorDoc).text().length>=b.options.maxLength&&-1===a.inArray(c.which,b.validKeyCodes)&&c.preventDefault()});
a.each(b.options.events,function(c,d){a(b.editorDoc).bind(c+".wysiwyg",function(a){d.apply(b.editorDoc,[a,b])})});a.browser.msie?a(b.editorDoc).bind("beforedeactivate.wysiwyg",function(){b.savedRange=b.getInternalRange()}):a(b.editorDoc).bind("blur.wysiwyg",function(){b.savedRange=b.getInternalRange()});a(b.editorDoc.body).addClass("wysiwyg");b.options.events&&b.options.events.save&&(c=b.options.events.save,a(b.editorDoc).bind("keyup.wysiwyg",c),a(b.editorDoc).bind("change.wysiwyg",c),a.support.noCloneEvent?
a(b.editorDoc).bind("input.wysiwyg",c):(a(b.editorDoc).bind("paste.wysiwyg",c),a(b.editorDoc).bind("cut.wysiwyg",c)));if(b.options.xhtml5&&b.options.unicode){var d={ne:8800,le:8804,para:182,xi:958,darr:8595,nu:957,oacute:243,Uacute:218,omega:969,prime:8242,pound:163,igrave:236,thorn:254,forall:8704,emsp:8195,lowast:8727,brvbar:166,alefsym:8501,nbsp:160,delta:948,clubs:9827,lArr:8656,Omega:937,Auml:196,cedil:184,and:8743,plusmn:177,ge:8805,raquo:187,uml:168,equiv:8801,laquo:171,rdquo:8221,Epsilon:917,
divide:247,fnof:402,chi:967,Dagger:8225,iacute:237,rceil:8969,sigma:963,Oslash:216,acute:180,frac34:190,lrm:8206,upsih:978,Scaron:352,part:8706,exist:8707,nabla:8711,image:8465,prop:8733,zwj:8205,omicron:959,aacute:225,Yuml:376,Yacute:221,weierp:8472,rsquo:8217,otimes:8855,kappa:954,thetasym:977,harr:8596,Ouml:214,Iota:921,ograve:242,sdot:8901,copy:169,oplus:8853,acirc:226,sup:8835,zeta:950,Iacute:205,Oacute:211,crarr:8629,Nu:925,bdquo:8222,lsquo:8216,apos:39,Beta:914,eacute:233,egrave:232,lceil:8968,
Kappa:922,piv:982,Ccedil:199,ldquo:8220,Xi:926,cent:162,uarr:8593,hellip:8230,Aacute:193,ensp:8194,sect:167,Ugrave:217,aelig:230,ordf:170,curren:164,sbquo:8218,macr:175,Phi:934,Eta:919,rho:961,Omicron:927,sup2:178,euro:8364,aring:229,Theta:920,mdash:8212,uuml:252,otilde:245,eta:951,uacute:250,rArr:8658,nsub:8836,agrave:224,notin:8713,ndash:8211,Psi:936,Ocirc:212,sube:8838,szlig:223,micro:181,not:172,sup1:185,middot:183,iota:953,ecirc:234,lsaquo:8249,thinsp:8201,sum:8721,ntilde:241,scaron:353,cap:8745,
atilde:227,lang:10216,__replacement:65533,isin:8712,gamma:947,Euml:203,ang:8736,upsilon:965,Ntilde:209,hearts:9829,Alpha:913,Tau:932,spades:9824,dagger:8224,THORN:222,"int":8747,lambda:955,Eacute:201,Uuml:220,infin:8734,rlm:8207,Aring:197,ugrave:249,Egrave:200,Acirc:194,rsaquo:8250,ETH:208,oslash:248,alpha:945,Ograve:210,Prime:8243,mu:956,ni:8715,real:8476,bull:8226,beta:946,icirc:238,eth:240,prod:8719,larr:8592,ordm:186,perp:8869,Gamma:915,reg:174,ucirc:251,Pi:928,psi:968,tilde:732,asymp:8776,zwnj:8204,
Agrave:192,deg:176,AElig:198,times:215,Delta:916,sim:8764,Otilde:213,Mu:924,uArr:8657,circ:710,theta:952,Rho:929,sup3:179,diams:9830,tau:964,Chi:935,frac14:188,oelig:339,shy:173,or:8744,dArr:8659,phi:966,iuml:239,Lambda:923,rfloor:8971,iexcl:161,cong:8773,ccedil:231,Icirc:206,frac12:189,loz:9674,rarr:8594,cup:8746,radic:8730,frasl:8260,euml:235,OElig:338,hArr:8660,Atilde:195,Upsilon:933,there4:8756,ouml:246,oline:8254,Ecirc:202,yacute:253,auml:228,permil:8240,sigmaf:962,iquest:191,empty:8709,pi:960,
Ucirc:219,supe:8839,Igrave:204,yen:165,rang:10217,trade:8482,lfloor:8970,minus:8722,Zeta:918,sub:8834,epsilon:949,yuml:255,Sigma:931,Iuml:207,ocirc:244};b.events.bind("getContent",function(a){return a.replace(/&(?:amp;)?(?!amp|lt|gt|quot)([a-z][a-z0-9]*);/gi,function(a,b){d[b]||(b=b.toLowerCase(),d[b]||(b="__replacement"));return String.fromCharCode(d[b])})})}};this.innerDocument=function(){var a=this.editor.get(0);if("iframe"===a.nodeName.toLowerCase()){if(a.contentDocument)return a.contentDocument;
if(a.contentWindow)return a.contentWindow.document;if(this.isDestroyed)return null;b.error("Unexpected error in innerDocument")}return a};this.insertHtml=function(b){var c;if(!b||0===b.length)return this;a.browser.msie?(this.ui.focus(),this.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),(c=this.getElementByAttributeValue("img","src","#jwysiwyg#"))&&a(c).replaceWith(b)):a.browser.mozilla?1===a(b).length?(c=this.getInternalRange(),c.deleteContents(),c.insertNode(a(b).get(0))):this.editorDoc.execCommand("insertHTML",
!1,b):this.editorDoc.execCommand("insertHTML",!1,b)||(this.editor.focus(),this.editorDoc.execCommand("insertHTML",!1,b));this.saveContent();return this};this.parseControls=function(){var b=this;a.each(this.options.controls,function(c,d){a.each(d,function(d){if(-1===a.inArray(d,b.availableControlProperties))throw c+'["'+d+'"]: property "'+d+'" not exists in Wysiwyg.availableControlProperties';})});return this.options.parseControls?this.options.parseControls.call(this):this.options.controls};this.removeFormat=
function(){a.browser.msie&&this.ui.focus();this.options.removeHeadings&&this.editorDoc.execCommand("formatBlock",!1,"<p>");this.editorDoc.execCommand("removeFormat",!1,null);this.editorDoc.execCommand("unlink",!1,null);a.wysiwyg.rmFormat&&a.wysiwyg.rmFormat.enabled&&("object"===typeof this.options.plugins.rmFormat.rmMsWordMarkup?a.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:this.options.plugins.rmFormat.rmMsWordMarkup}}):a.wysiwyg.rmFormat.run(this,{rules:{msWordMarkup:{enabled:!0}}}));return this};
this.ui.removeHoverClass=function(){a(this).removeClass("wysiwyg-button-hover")};this.resetFunction=function(){this.setContent(this.initialContent)};this.saveContent=function(){if(!this.viewHTML){if(this.original){var b;b=this.getContent();this.options.rmUnwantedBr&&(b=b.replace(/<br\/?>$/,""));this.options.replaceDivWithP&&(b=a("<div/>").addClass("temp").append(b),b.children("div").each(function(){var b=a(this),c=b.find("p"),d;if(0===c.length){c=a("<p></p>");if(0<this.attributes.length)for(d=0;d<
this.attributes.length;d+=1)c.attr(this.attributes[d].name,b.attr(this.attributes[d].name));c.append(b.html());b.replaceWith(c)}}),b=b.html());a(this.original).val(b);this.options.events&&this.options.events.save&&this.options.events.save.call(this)}return this}};this.setContent=function(a){this.editorDoc.body.innerHTML=a;this.saveContent();return this};this.triggerControl=function(a,c){var d=c.command||a,e=c.arguments||[];if(c.exec)c.exec.apply(this);else{this.ui.focus();this.ui.withoutCss();try{this.editorDoc.execCommand(d,
!1,e)}catch(g){b.error(g)}}this.options.autoSave&&this.autoSaveFunction()};this.triggerControlCallback=function(b){a(window).trigger("trigger-"+b+".wysiwyg",[this])};this.ui.withoutCss=function(){var b=this.self;if(a.browser.mozilla)try{b.editorDoc.execCommand("styleWithCSS",!1,!1)}catch(c){try{b.editorDoc.execCommand("useCSS",!1,!0)}catch(d){}}return b};this.wrapInitialContent=function(){var a=this.initialContent;return!a.match(/<\/?p>/gi)?"<p>"+a+"</p>":a}},b=window.console?window.console:{log:a.noop,
error:function(b){a.error(b)}};a.wysiwyg={messages:{noObject:"Something goes wrong, check object"},addControl:function(b,c,d){return b.each(function(){var b=a(this).data("wysiwyg"),e={};if(!b)return this;e[c]=a.extend(!0,{visible:!0,custom:!0},d);a.extend(!0,b.options.controls,e);e=a(b.options.toolbarHtml);b.ui.toolbar.replaceWith(e);b.ui.toolbar=e;b.ui.appendControls()})},clear:function(b){return b.each(function(){var b=a(this).data("wysiwyg");if(!b)return this;b.setContent("")})},console:b,destroy:function(b){return b.each(function(){var b=
a(this).data("wysiwyg");if(!b)return this;b.destroy()})},document:function(b){b=b.data("wysiwyg");return!b?void 0:a(b.editorDoc)},getContent:function(a){a=a.data("wysiwyg");return!a?void 0:a.getContent()},init:function(b,c){return b.each(function(){var b=a.extend(!0,{},c),e;"textarea"!==this.nodeName.toLowerCase()||a(this).data("wysiwyg")||(e=new d,e.init(this,b),a.data(this,"wysiwyg",e),a(e.editorDoc).trigger("afterInit.wysiwyg"))})},insertHtml:function(b,c){return b.each(function(){var b=a(this).data("wysiwyg");
if(!b)return this;b.insertHtml(c)})},plugin:{listeners:{},bind:function(b){var c=this;a.each(this.listeners,function(d,e){var g,j;for(g=0;g<e.length;g+=1)j=c.parseName(e[g]),a(b.editorDoc).bind(d+".wysiwyg",{plugin:j},function(c){a.wysiwyg[c.data.plugin.name][c.data.plugin.method].apply(a.wysiwyg[c.data.plugin.name],[b])})})},exists:function(b){if("string"!==typeof b)return!1;b=this.parseName(b);return!a.wysiwyg[b.name]||!a.wysiwyg[b.name][b.method]?!1:!0},listen:function(b,c){var d;d=this.parseName(c);
if(!a.wysiwyg[d.name]||!a.wysiwyg[d.name][d.method])return!1;this.listeners[b]||(this.listeners[b]=[]);this.listeners[b].push(c);return!0},parseName:function(a){if("string"!==typeof a)return!1;a=a.split(".");return 2>a.length?!1:{name:a[0],method:a[1]}},register:function(c){c.name||b.error("Plugin name missing");a.each(a.wysiwyg,function(a){a===c.name&&b.error("Plugin with name '"+c.name+"' was already registered")});a.wysiwyg[c.name]=c;return!0}},removeFormat:function(b){return b.each(function(){var b=
a(this).data("wysiwyg");if(!b)return this;b.removeFormat()})},save:function(b){return b.each(function(){var b=a(this).data("wysiwyg");if(!b)return this;b.saveContent()})},selectAll:function(a){var b=a.data("wysiwyg");if(!b)return this;a=b.editorDoc.body;window.getSelection?(b=b.getInternalSelection(),b.selectAllChildren(a)):(b=a.createTextRange(),b.moveToElementText(a),b.select())},setContent:function(b,c){return b.each(function(){var b=a(this).data("wysiwyg");if(!b)return this;b.setContent(c)})},
triggerControl:function(c,d){return c.each(function(){var c=a(this).data("wysiwyg");if(!c)return this;c.controls[d]||b.error("Control '"+d+"' not exists");c.triggerControl.apply(c,[d,c.controls[d]])})},support:{prop:"prop"in a.fn&&"removeProp"in a.fn},utils:{extraSafeEntities:[["<",">","'",'"'," "],[32]],encodeEntities:function(b){var c=this,d,e=[];0===this.extraSafeEntities[1].length&&a.each(this.extraSafeEntities[0],function(a,b){c.extraSafeEntities[1].push(b.charCodeAt(0))});d=b.split("");a.each(d,
function(b){var g=d[b].charCodeAt(0);a.inArray(g,c.extraSafeEntities[1])&&(65>g||127<g||90<g&&97>g)?e.push("&#"+g+";"):e.push(d[b])});return e.join("")}}};a.fn.wysiwyg=function(c){var d=arguments,e;if("undefined"!==typeof a.wysiwyg[c])return d=Array.prototype.concat.call([d[0]],[this],Array.prototype.slice.call(d,1)),a.wysiwyg[c].apply(a.wysiwyg,Array.prototype.slice.call(d,1));if("object"===typeof c||!c)return Array.prototype.unshift.call(d,this),a.wysiwyg.init.apply(a.wysiwyg,d);if(a.wysiwyg.plugin.exists(c))return e=
a.wysiwyg.plugin.parseName(c),d=Array.prototype.concat.call([d[0]],[this],Array.prototype.slice.call(d,1)),a.wysiwyg[e.name][e.method].apply(a.wysiwyg[e.name],Array.prototype.slice.call(d,1));b.error("Method '"+c+"' does not exist on jQuery.wysiwyg.\nTry to include some extra controls or plugins")};a.fn.getWysiwyg=function(){return a.data(this,"wysiwyg")};var c=jQuery;if(void 0===c.wysiwyg)throw"wysiwyg.image.js depends on $.wysiwyg";c.wysiwyg.controls||(c.wysiwyg.controls={});c.wysiwyg.controls.image=
{init:function(a){var b=this,d,e,g,j,k,n={alt:"",self:a.dom.getElement("img"),src:"http://",title:""};g={legend:"Insert Image",preview:"Preview",url:"URL",title:"Title",description:"Description",width:"Width",height:"Height",original:"Original W x H","float":"Float",floatNone:"None",floatLeft:"Left",floatRight:"Right",submit:"Insert Image",loading:"loading",reset:"Cancel"};d='<form class="wysiwyg" title="{legend}"><img src="" alt="{preview}" width="100%"><br>{url}: <input type="text" name="src" value=""><br>{title}: <input type="text" name="imgtitle" value=""><br>{description}: <input type="text" name="description" value=""><br>{width} x {height}: <input type="text" name="width" value="" class="width integer"> x <input type="text" name="height" value="" class="height integer"><br>{float}: <select name="float"><option value="">{floatNone}</option><option value="left">{floatLeft}</option><option value="right">{floatRight}</option></select></label><hr><button class="button" id="wysiwyg_submit">{submit}</button> <button class="button" id="wysiwyg_reset">{reset}</button></form>';
for(j in g)c.wysiwyg.i18n&&(k=c.wysiwyg.i18n.t(g[j],"dialogs.image"),k===g[j]&&(k=c.wysiwyg.i18n.t(g[j],"dialogs")),g[j]=k),d=d.replace("{"+j+"}",g[j]);n.self&&(n.src=n.self.src?n.self.src:"",n.alt=n.self.alt?n.self.alt:"",n.title=n.self.title?n.self.title:"",n.width=n.self.width?n.self.width:"",n.height=n.self.height?n.self.height:"",n.asp=n.width/n.width);d=c(d);d=b.makeForm(d,n);e=d.appendTo("body");e.dialog({modal:!0,resizable:!1,open:function(){c("#wysiwyg_submit",e).click(function(){b.processInsert(e.container,
a,n);c(e).dialog("close");return!1});c("#wysiwyg_reset",e).click(function(){c(e).dialog("close");return!1});c("fieldset",e).click(function(a){a.stopPropagation()});c("select, input[type=text]",e).uniform();c(".width",e).wl_Number({step:10,onChange:function(a){c(".height",e).val(Math.ceil(a/(n.asp||1)))}});c(".height",e).wl_Number({step:10,onChange:function(a){c(".width",e).val(Math.floor(a*(n.asp||1)))}});c('input[name="src"]',e).wl_URL()},close:function(){e.dialog("destroy");e.remove()}});c(a.editorDoc).trigger("editorRefresh.wysiwyg")},
processInsert:function(a,b,d){var e=c('input[name="src"]',a).val(),g=c('input[name="imgtitle"]',a).val(),j=c('input[name="description"]',a).val(),k=c('input[name="width"]',a).val(),n=c('input[name="height"]',a).val();a=c('select[name="float"]',a).val();var D=[],E;b.options.controlImage.forceRelativeUrls&&(E=window.location.protocol+"//"+window.location.hostname,0===e.indexOf(E)&&(e=e.substr(E.length)));d.self?(c(d.self).attr("src",e).attr("title",g).attr("alt",j).css("float",a),k.toString().match(/^[0-9]+(px|%)?$/)?
c(d.self).css("width",k):c(d.self).css("width",""),n.toString().match(/^[0-9]+(px|%)?$/)?c(d.self).css("height",n):c(d.self).css("height",""),b.saveContent()):((d=k.toString().match(/^[0-9]+(px|%)?$/))&&(d[1]?D.push("width: "+k+";"):D.push("width: "+k+"px;")),(d=n.toString().match(/^[0-9]+(px|%)?$/))&&(d[1]?D.push("height: "+n+";"):D.push("height: "+n+"px;")),0<a.length&&D.push("float: "+a+";"),0<D.length&&(D=' style="'+D.join(" ")+'"'),b.insertHtml("<img src='"+e+"' title='"+g+"' alt='"+j+"'"+D+
"/>"))},makeForm:function(a,b){a.find("input[name=src]").val(b.src);a.find("input[name=imgtitle]").val(b.title);a.find("input[name=description]").val(b.alt);a.find('input[name="width"]').val(b.width);a.find('input[name="height"]').val(b.height);a.find("img").attr("src",b.src);b.asp=b.width/b.height;a.find("input[name=src]").bind("change",function(){var d=new Image,e=c("#wysiwyg_submit",a).find("span").text();a.find("img").removeAttr("src");c("#wysiwyg_submit",a).prop("disabled",!0).find("span").text("wait...");
d.onload=function(){a.find("img").attr("src",d.src);b.asp=d.width/d.height;a.find('input[name="width"]').val(d.width);a.find('input[name="height"]').val(d.height);c("#wysiwyg_submit",a).find("span").text(e);c("#wysiwyg_submit",a).prop("disabled",!1)};d.src=this.value});return a}};c.wysiwyg.insertImage=function(a,b,d){return a.each(function(){var a=c(this).data("wysiwyg"),e,g;if(!a||!b||0===b.length)return this;c.browser.msie&&a.ui.focus();if(d){if(a.editorDoc.execCommand("insertImage",!1,"#jwysiwyg#"),
e=a.getElementByAttributeValue("img","src","#jwysiwyg#"))for(g in e.src=b,d)d.hasOwnProperty(g)&&e.setAttribute(g,d[g])}else a.editorDoc.execCommand("insertImage",!1,b);a.saveContent();c(a.editorDoc).trigger("editorRefresh.wysiwyg");return this})};var e=jQuery;if(void 0===e.wysiwyg)throw"wysiwyg.table.js depends on $.wysiwyg";e.wysiwyg.controls||(e.wysiwyg.controls={});var g=function(a,b,c){if(!isNaN(b)&&!isNaN(a)&&!(null===b||null===a)){var d,e=['<table border="1" style="width: 100%;"><tbody>'];
a=parseInt(a,10);b=parseInt(b,10);null===c&&(c="&nbsp;");for(c="<td>"+c+"</td>";0<b;b-=1){e.push("<tr>");for(d=a;0<d;d-=1)e.push(c);e.push("</tr>")}e.push("</tbody></table>");return this.insertHtml(e.join(""))}};e.wysiwyg.controls.table=function(a){var b,c,d,j="Insert table",k="Count of columns",n="Count of rows",F="Insert table",D="Cancel";e.wysiwyg.i18n&&(j=e.wysiwyg.i18n.t(j,"dialogs.table"),k=e.wysiwyg.i18n.t(k,"dialogs.table"),n=e.wysiwyg.i18n.t(n,"dialogs.table"),F=e.wysiwyg.i18n.t(F,"dialogs.table"),
D=e.wysiwyg.i18n.t(D,"dialogs"));a.insertTable||(a.insertTable=g);b=e('<form class="wysiwyg" title="'+j+'">'+k+': <input type="text" name="colCount" value="3" class="integer" ><br>'+n+': <input type="text" name="rowCount" value="3" class="integer" ><hr><button class="button" id="wysiwyg_submit">'+F+'</button> <button class="button" id="wysiwyg_reset">'+D+"</button></form>").appendTo("body");b.dialog({modal:!0,resizable:!1,open:function(){e("#wysiwyg_submit",b).click(function(g){g.preventDefault();
d=e('input[name="rowCount"]',b).val();c=e('input[name="colCount"]',b).val();a.insertTable(c,d,a.defaults.tableFiller);e(b).dialog("close")});e("#wysiwyg_reset",b).click(function(a){a.preventDefault();e(b).dialog("close")});e("select, input[type=text]",b).uniform();e(".integer",b).wl_Number()},close:function(){b.dialog("destroy");b.remove()}});e(a.editorDoc).trigger("editorRefresh.wysiwyg")};e.wysiwyg.insertTable=function(a,b,c,d){return a.each(function(){var a=e(this).data("wysiwyg");a.insertTable||
(a.insertTable=g);if(!a)return this;a.insertTable(b,c,d);e(a.editorDoc).trigger("editorRefresh.wysiwyg");return this})};var k=jQuery;if(void 0===k.wysiwyg)throw"wysiwyg.link.js depends on $.wysiwyg";k.wysiwyg.controls||(k.wysiwyg.controls={});k.wysiwyg.controls.link={init:function(a){var b,c,d,e,g,j,n,D,E;c="Insert Link";d="Link URL";e="Link Title";g="Link Target";D="Insert Link";E="Cancel";k.wysiwyg.i18n&&(c=k.wysiwyg.i18n.t(c,"dialogs.link"),d=k.wysiwyg.i18n.t(d,"dialogs.link"),e=k.wysiwyg.i18n.t(e,
"dialogs.link"),g=k.wysiwyg.i18n.t(g,"dialogs.link"),D=k.wysiwyg.i18n.t(D,"dialogs.link"),E=k.wysiwyg.i18n.t(E,"dialogs"));g='<form class="wysiwyg" title="'+c+'">'+d+': <input type="text" name="linkhref" value="">'+e+': <input type="text" name="linktitle" value="">'+g+': <input type="text" name="linktarget" value=""><hr><button class="button" id="wysiwyg_submit">'+D+'</button> <button class="button" id="wysiwyg_reset">'+E+"</button></form>";b=a.dom.getElement("a");c="http://";e=d="";b&&(c=b.href?
b.href:c,d=b.title?b.title:"",e=b.target?b.target:"");g=k(g);g.find("input[name=linkhref]").val(c);g.find("input[name=linktitle]").val(d);g.find("input[name=linktarget]").val(e);j=k.browser.msie?g.appendTo(a.editorDoc.body):g.appendTo("body");j.dialog({modal:!0,resizable:!1,open:function(){k("#wysiwyg_submit",j).click(function(c){c.preventDefault();c=k('input[name="linkhref"]',j).val();var d=k('input[name="linktitle"]',j).val(),e=k('input[name="linktarget"]',j).val(),g;a.options.controlLink.forceRelativeUrls&&
(g=window.location.protocol+"//"+window.location.hostname,0===c.indexOf(g)&&(c=c.substr(g.length)));b?"string"===typeof c&&(0<c.length?k(b).attr("href",c).attr("title",d).attr("target",e):k(b).replaceWith(b.innerHTML)):(k.browser.msie&&a.ui.returnRange(),n=a.getRangeText(),img=a.dom.getElement("img"),n&&0<n.length||img?(k.browser.msie&&a.ui.focus(),"string"===typeof c&&(0<c.length?a.editorDoc.execCommand("createLink",!1,c):a.editorDoc.execCommand("unlink",!1,null)),b=a.dom.getElement("a"),k(b).attr("href",
c).attr("title",d),k(b).attr("target",e)):a.options.messages.nonSelection&&k.dialog(a.options.messages.nonSelection));a.saveContent();k(j).dialog("close")});k("#wysiwyg_reset",j).click(function(a){a.preventDefault();k(j).dialog("close")});k("select, input",j).uniform();k('input[name="linkhref"]',j).wl_URL()},close:function(){j.dialog("destroy");j.remove()}});k(a.editorDoc).trigger("editorRefresh.wysiwyg")}};k.wysiwyg.createLink=function(a,b){return a.each(function(){var a=k(this).data("wysiwyg"),
c;if(!a||!b||0===b.length)return this;(c=a.getRangeText())&&0<c.length?(k.browser.msie&&a.ui.focus(),a.editorDoc.execCommand("unlink",!1,null),a.editorDoc.execCommand("createLink",!1,b)):a.options.messages.nonSelection&&window.alert(a.options.messages.nonSelection)})};var j=jQuery;if(void 0===j.wysiwyg)throw"wysiwyg.cssWrap.js depends on $.wysiwyg";j.wysiwyg.controls||(j.wysiwyg.controls={});j.wysiwyg.controls.cssWrap={init:function(a){var b,c,d,e={legend:"Wrap Element",wrapperType:"Wrapper Type",
ID:"ID","class":"Class",wrap:"Wrap",unwrap:"Unwrap",cancel:"Cancel"};b='<form class="wysiwyg" title="{legend}"><fieldset>{wrapperType}: <select name="type"><option value="span">Span</option><option value="div">Div</option></select><br>{ID}: <input name="id" type="text"><br>{class}: <input name="class" type="text" ><hr><button class="cssWrap-unwrap" style="display:none;">{unwrap}</button> <button class="cssWrap-submit">{wrap}</button> <button class="cssWrap-cancel">{cancel}</button></fieldset></form>';
for(c in e)j.wysiwyg.i18n&&(d=j.wysiwyg.i18n.t(e[c]),d===e[c]&&(d=j.wysiwyg.i18n.t(e[c],"dialogs")),e[c]=d),b=b.replace("{"+c+"}",e[c]);j(".wysiwyg-dialog-wrapper").length||(j(b).appendTo("body"),j("form.wysiwyg").dialog({modal:!0,resizable:!1,open:function(){$this=j(this);var b=a.getInternalRange(),c;if(b)j.browser.msie&&a.ui.focus(),c=j(b.commonAncestorContainer);else return alert("You must select some elements before you can wrap them."),$this.dialog("close"),0;var d=b.commonAncestorContainer.nodeName.toLowerCase();
c.parent(".wysiwygCssWrapper").length&&(alert(c.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),$this.find("select[name=type]").val(c.parent(".wysiwygCssWrapper").get(0).nodeName.toLowerCase()),$this.find("select[name=type]").attr("disabled","disabled"),$this.find("input[name=id]").val(c.parent(".wysiwygCssWrapper").attr("id")),$this.find("input[name=class]").val(c.parent(".wysiwygCssWrapper").attr("class").replace("wysiwygCssWrapper ","")),j("form.wysiwyg").find(".cssWrap-unwrap").show(),
j("form.wysiwyg").find(".cssWrap-unwrap").click(function(a){a.preventDefault();"body"!==d&&c.unwrap();$this.dialog("close");return 1}));j("form.wysiwyg").find(".cssWrap-submit").click(function(a){a.preventDefault();a=j("form.wysiwyg").find("select[name=type]").val();var b=j("form.wysiwyg").find("input[name=id]").val(),e=j("form.wysiwyg").find("input[name=class]").val();"body"!==d&&(c.parent(".wysiwygCssWrapper").length?(c.parent(".wysiwygCssWrapper").attr("id",e),c.parent(".wysiwygCssWrapper").attr("class",
e)):c.wrap("<"+a+' id="'+b+'" class="wysiwygCssWrapper '+e+'"/>'));$this.dialog("close")});j("form.wysiwyg").find(".cssWrap-cancel").click(function(a){a.preventDefault();$this.dialog("close");return 1});j("form.wysiwyg").find("select, input[type=text]").uniform()},close:function(){j(this).dialog("destroy");j(this).remove()}}),a.saveContent());j(a.editorDoc).trigger("editorRefresh.wysiwyg");return 1}};var n=jQuery;if(void 0===n.wysiwyg)throw"wysiwyg.colorpicker.js depends on $.wysiwyg";n.wysiwyg.controls||
(n.wysiwyg.controls={});n.wysiwyg.controls.colorpicker={modalOpen:!1,init:function(a){if(!0===n.wysiwyg.controls.colorpicker.modalOpen)return!1;n.wysiwyg.controls.colorpicker.modalOpen=!0;var b,c,d,e,g;d={legend:"Colorpicker",color:"Color",submit:"Apply",cancel:"Cancel"};c='<form class="wysiwyg" title="{legend}">{color}: <input type="text" class="color" id="wysiwyg_colorpicker" name="wysiwyg_colorpicker" value=""><hr><button id="wysiwyg_colorpicker-submit">{submit}</button> <button id="wysiwyg_colorpicker-cancel">{cancel}</button></form>';
for(e in d)n.wysiwyg.i18n&&(g=n.wysiwyg.i18n.t(d[e],"dialogs.colorpicker"),g===d[e]&&(g=n.wysiwyg.i18n.t(d[e],"dialogs")),d[e]=g),c=c.replace("{"+e+"}",d[e]);b=n(c).appendTo("body");b.dialog({modal:!0,resizable:!1,open:function(){n.browser.msie&&a.ui.returnRange();a.getRangeText();var c=a.getContent(),d="",e=/#([a-fA-F0-9]{3,6})/;c.match(e)?(e.exec(c),d=RegExp.$1):(e=/rgb\((\d+), (\d+), (\d+)\)/,c.match(e)&&(e.exec(c),c=RegExp.$2,d=RegExp.$3,d=parseInt(RegExp.$1).toString(16)+parseInt(c).toString(16)+
parseInt(d).toString(16)));n("#wysiwyg_colorpicker").val("#"+d).wl_Color();n("#wysiwyg_colorpicker-submit").click(function(c){c.preventDefault();c=n("#wysiwyg_colorpicker").val();n.browser.msie&&(a.ui.returnRange(),a.ui.focus());c&&a.editorDoc.execCommand("ForeColor",!1,c);a.saveContent();n(b).dialog("close");return!1});n("#wysiwyg_colorpicker-cancel").click(function(c){c.preventDefault();n.browser.msie&&a.ui.returnRange();n(b).dialog("close");return!1})},close:function(){n.wysiwyg.controls.colorpicker.modalOpen=
!1;b.dialog("destroy");b.remove()}})}}});$(document).ready(function(){var a=jQuery,d=void 0,b=function(b,n,r){function t(){setTimeout(function(){!C.start&&0!==a("body")[0].offsetWidth&&w()},0)}function q(b){if(!C||b!=C.name){L++;H();var c=C,u;c?((c.beforeHide||va)(),ta(D,D.height()),c.element.hide()):ta(D,1);D.css("overflow","hidden");(C=Q[b])?C.element.show():C=Q[b]=new T[b](u=Z=a("<div class='fc-view fc-view-"+b+"' style='position:absolute'/>").appendTo(D),K);c&&Ra.deactivateButton(c.name);Ra.activateButton(b);w();D.css("overflow","");
c&&ta(D,1);u||(C.afterShow||va)();L--}}function w(a){if(0!==fa.offsetWidth){L++;H();X===d&&z();var c=!1;!C.start||a||ca<C.start||ca>=C.end?(C.render(ca,a||0),pa(!0),c=!0):C.sizeDirty?(C.clearEvents(),pa(),c=!0):C.eventsDirty&&(C.clearEvents(),c=!0);C.sizeDirty=!1;C.eventsDirty=!1;a=c;!n.lazyFetching||v(C.visStart,C.visEnd)?u():a&&I();F=b.outerWidth();Ra.updateTitle(C.title);a=new Date;a>=C.start&&a<C.end?Ra.disableButton("today"):Ra.enableButton("today");L--;C.trigger("viewDisplay",fa)}}function G(){A();
0!==fa.offsetWidth&&(z(),pa(),H(),C.clearEvents(),C.renderEvents(E),C.sizeDirty=!1)}function A(){a.each(Q,function(a,b){b.sizeDirty=!0})}function z(){X=n.contentHeight?n.contentHeight:n.height?n.height-(ra?ra.height():0)-xa(D):Math.round(D.width()/Math.max(n.aspectRatio,0.5))}function pa(a){L++;C.setHeight(X,a);Z&&(Z.css("position","relative"),Z=null);C.setWidth(D.width(),a);L--}function da(){if(!L)if(C.start){var a=++la;setTimeout(function(){if(a==la&&(!L&&0!==fa.offsetWidth)&&F!=(F=b.outerWidth()))L++,
G(),C.trigger("windowResize",fa),L--},200)}else t()}function u(){ea(C.visStart,C.visEnd)}function I(a){R();0!==fa.offsetWidth&&(C.clearEvents(),C.renderEvents(E,a),C.eventsDirty=!1)}function R(){a.each(Q,function(a,b){b.eventsDirty=!0})}function H(){C&&C.unselect()}var K=this;K.options=n;K.render=function(u){D?(z(),A(),R(),w(u)):(b.addClass("fc"),n.isRTL&&b.addClass("fc-rtl"),n.theme&&b.addClass("ui-widget"),D=a("<div class='fc-content' style='position:relative'/>").prependTo(b),Ra=new c(K,n),(ra=
Ra.render())&&b.prepend(ra),q(n.defaultView),a(window).resize(da),0!==a("body")[0].offsetWidth||t())};K.destroy=function(){a(window).unbind("resize",da);Ra.destroy();D.remove();b.removeClass("fc fc-rtl ui-widget")};K.refetchEvents=u;K.reportEvents=function(a){E=a;I()};K.reportEventChange=function(a){I(a)};K.rerenderEvents=I;K.changeView=q;K.select=function(a,b,c){C.select(a,b,c===d?!0:c)};K.unselect=H;K.prev=function(){w(-1)};K.next=function(){w(1)};K.prevYear=function(){g(ca,-1);w()};K.nextYear=
function(){g(ca,1);w()};K.today=function(){ca=new Date;w()};K.gotoDate=function(a,b,c){a instanceof Date?ca=B(a):p(ca,a,b,c);w()};K.incrementDate=function(a,b,c){a!==d&&g(ca,a);b!==d&&k(ca,b);c!==d&&j(ca,c);w()};K.formatDate=function(a,b){return V(a,b,n)};K.formatDates=function(a,b,c){return ha(a,b,c,n)};K.getDate=function(){return B(ca)};K.getView=function(){return C};K.option=function(a,b){if(b===d)return n[a];if("height"==a||"contentHeight"==a||"aspectRatio"==a)n[a]=b,G()};K.trigger=function(a,
b){if(n[a])return n[a].apply(b||fa,Array.prototype.slice.call(arguments,2))};e.call(K,n,r);var v=K.isFetchNeeded,ea=K.fetchEvents,fa=b[0],Ra,ra,D,C,Q={},F,X,Z,la=0,L=0,ca=new Date,E=[],J;p(ca,n.year,n.month,n.date);n.droppable&&a(document).bind("dragstart",function(b,c){var u=b.target,d=a(u);if(!d.parents(".fc").length){var e=n.dropAccept;if(a.isFunction(e)?e.call(u,d):d.is(e))J=u,C.dragStart(J,b,c)}}).bind("dragstop",function(a,b){J&&(C.dragStop(J,a,b),J=null)})},c=function(b,c){function d(e){var j=
a("<td class='fc-header-"+e+"'/>");(e=c.header[e])&&a.each(e.split(" "),function(d){0<d&&j.append("<span class='fc-header-space'/>");var e;a.each(this.split(","),function(d,k){if("title"==k)j.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),e&&e.addClass(g+"-corner-right"),e=null;else{var u;b[k]?u=b[k]:T[k]&&(u=function(){n.removeClass(g+"-state-hover");b.changeView(k)});if(u){var I=c.theme?Ba(c.buttonIcons,k):null,R=Ba(c.buttonText,k),n=a("<span class='fc-button fc-button-"+k+" "+g+
"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(I?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+I+"'/></span>":R)+"</span><span class='fc-button-effect'><span></span></span></span></span>");n&&(n.click(function(){n.hasClass(g+"-state-disabled")||u()}).mousedown(function(){n.not("."+g+"-state-active").not("."+g+"-state-disabled").addClass(g+"-state-down")}).mouseup(function(){n.removeClass(g+"-state-down")}).hover(function(){n.not("."+g+"-state-active").not("."+
g+"-state-disabled").addClass(g+"-state-hover")},function(){n.removeClass(g+"-state-hover").removeClass(g+"-state-down")}).appendTo(j),e||n.addClass(g+"-corner-left"),e=n)}}});e&&e.addClass(g+"-corner-right")});return j}this.render=function(){g=c.theme?"ui":"fc";if(c.header)return e=a("<table class='fc-header' style='width:100%'/>").append(a("<tr/>").append(d("left")).append(d("center")).append(d("right")))};this.destroy=function(){e.remove()};this.updateTitle=function(a){e.find("h2").html(a)};this.activateButton=
function(a){e.find("span.fc-button-"+a).addClass(g+"-state-active")};this.deactivateButton=function(a){e.find("span.fc-button-"+a).removeClass(g+"-state-active")};this.disableButton=function(a){e.find("span.fc-button-"+a).addClass(g+"-state-disabled")};this.enableButton=function(a){e.find("span.fc-button-"+a).removeClass(g+"-state-disabled")};var e=a([]),g},e=function(b,c){function e(a,b){g(a,function(c){if(b==H){if(c){for(var u=0;u<c.length;u++)c[u].source=a,k(c[u]);w=w.concat(c)}K--;K||t(w)}})}
function g(c,u){var d,e=aa.sourceFetchers,j;for(d=0;d<e.length;d++){j=e[d](c,I,R,u);if(!0===j)return;if("object"==typeof j){g(j,u);return}}if(d=c.events)a.isFunction(d)?(v++||r("loading",null,!0),d(B(I),B(R),function(a){u(a);--v||r("loading",null,!1)})):a.isArray(d)?u(d):u();else if(c.url){var k=c.success,n=c.error,H=c.complete;d=a.extend({},c.data||{});e=M(c.startParam,b.startParam);j=M(c.endParam,b.endParam);e&&(d[e]=Math.round(+I/1E3));j&&(d[j]=Math.round(+R/1E3));v++||r("loading",null,!0);a.ajax(a.extend({},
ra,c,{data:d,success:function(b){b=b||[];var c=C(k,this,arguments);a.isArray(c)&&(b=c);u(b)},error:function(){C(n,this,arguments);u()},complete:function(){C(H,this,arguments);--v||r("loading",null,!1)}}))}else u()}function j(b){a.isFunction(b)||a.isArray(b)?b={events:b}:"string"==typeof b&&(b={url:b});if("object"==typeof b){var c=b;c.className?"string"==typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[];for(var d=aa.sourceNormalizers,e=0;e<d.length;e++)d[e](c);u.push(b);return b}}
function k(a){var c=a.source||{},u=M(c.ignoreTimezone,b.ignoreTimezone);a._id=a._id||(a.id===d?"_fc"+da++:a.id+"");a.date&&(a.start||(a.start=a.date),delete a.date);a._start=B(a.start=F(a.start,u));a.end=F(a.end,u);a.end&&a.end<=a.start&&(a.end=null);a._end=a.end?B(a.end):null;a.allDay===d&&(a.allDay=M(c.allDayDefault,b.allDayDefault));a.className?"string"==typeof a.className&&(a.className=a.className.split(/\s+/)):a.className=[]}function n(a){return("object"==typeof a?a.events||a.url:"")||a}this.isFetchNeeded=
function(a,b){return!I||a<I||b>R};this.fetchEvents=function(a,b){I=a;R=b;w=[];var c=++H,d=u.length;K=d;for(var g=0;g<d;g++)e(u[g],c)};this.addEventSource=function(a){if(a=j(a))K++,e(a,H)};this.removeEventSource=function(b){u=a.grep(u,function(a){return!(a&&b&&n(a)==n(b))});w=a.grep(w,function(a){return!(a.source&&b&&n(a.source)==n(b))});t(w)};this.updateEvent=function(a){var b,c=w.length,u,d=p().defaultEventEnd,e=a.start-a._start,g=a.end?a.end-(a._end||d(a)):0;for(b=0;b<c;b++)u=w[b],u._id==a._id&&
u!=a&&(u.start=new Date(+u.start+e),u.end=a.end?u.end?new Date(+u.end+g):new Date(+d(u)+g):null,u.title=a.title,u.url=a.url,u.allDay=a.allDay,u.className=a.className,u.editable=a.editable,u.color=a.color,u.backgroudColor=a.backgroudColor,u.borderColor=a.borderColor,u.textColor=a.textColor,k(u));k(a);t(w)};this.renderEvent=function(a,b){k(a);a.source||(b&&(q.events.push(a),a.source=q),w.push(a));t(w)};this.removeEvents=function(b){if(b){if(!a.isFunction(b)){var c=b+"";b=function(a){return a._id==c}}w=
a.grep(w,b,!0);for(d=0;d<u.length;d++)a.isArray(u[d].events)&&(u[d].events=a.grep(u[d].events,b,!0))}else{w=[];for(var d=0;d<u.length;d++)a.isArray(u[d].events)&&(u[d].events=[])}t(w)};this.clientEvents=function(b){return a.isFunction(b)?a.grep(w,b):b?(b+="",a.grep(w,function(a){return a._id==b})):w};this.normalizeEvent=k;for(var r=this.trigger,p=this.getView,t=this.reportEvents,q={events:[]},u=[q],I,R,H=0,K=0,v=0,w=[],G=0;G<c.length;G++)j(c[G])},g=function(a,b,c){a.setFullYear(a.getFullYear()+b);
c||A(a);return a},k=function(a,b,c){if(+a){b=a.getMonth()+b;var d=B(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(c||A(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a},j=function(a,b,c){if(+a){b=a.getDate()+b;var d=B(a);d.setHours(9);d.setDate(b);a.setDate(b);c||A(a);n(a,d)}return a},n=function(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*oa)},t=function(a,b){a.setMinutes(a.getMinutes()+b);return a},A=function(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);
a.setMilliseconds(0);return a},B=function(a,b){return b?A(new Date(+a)):new Date(+a)},r=function(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b},q=function(a,b,c){for(b=b||1;!a.getDay()||c&&1==a.getDay()||!c&&6==a.getDay();)j(a,b);return a},z=function(a,b){return Math.round((B(a,!0)-B(b,!0))/fa)},p=function(a,b,c,e){b!==d&&b!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(b));c!==d&&c!=a.getMonth()&&(a.setDate(1),a.setMonth(c));e!==d&&a.setDate(e)},F=function(a,b){if("object"==
typeof a)return a;if("number"==typeof a)return new Date(1E3*a);if("string"==typeof a){if(a.match(/^\d+(\.\d+)?$/))return new Date(1E3*parseFloat(a));b===d&&(b=!0);return D(a,b)||(a?new Date(a):null)}return null},D=function(a,b){var c=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!c)return null;var d=new Date(c[1],0,1);if(b||!c[14]){var e=new Date(c[1],0,1,9,0);c[3]&&(d.setMonth(c[3]-1),e.setMonth(c[3]-
1));c[5]&&(d.setDate(c[5]),e.setDate(c[5]));n(d,e);c[7]&&d.setHours(c[7]);c[8]&&d.setMinutes(c[8]);c[10]&&d.setSeconds(c[10]);c[12]&&d.setMilliseconds(1E3*Number("0."+c[12]));n(d,e)}else d.setUTCFullYear(c[1],c[3]?c[3]-1:0,c[5]||1),d.setUTCHours(c[7]||0,c[8]||0,c[10]||0,c[12]?1E3*Number("0."+c[12]):0),e=60*Number(c[16])+(c[18]?Number(c[18]):0),e*="-"==c[15]?1:-1,d=new Date(+d+6E4*e);return d},E=function(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();
if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);a[3]&&(b%=12,"p"==a[3].toLowerCase().charAt(0)&&(b+=12));return 60*b+(a[2]?parseInt(a[2],10):0)}},V=function(a,b,c){return ha(a,null,b,c)},ha=function(a,b,c,d){d=d||P;var e=a,g=b,j,k=c.length,n,r,p,u="";for(j=0;j<k;j++)if(n=c.charAt(j),"'"==n)for(r=j+1;r<k;r++){if("'"==c.charAt(r)){e&&(u=r==j+1?u+"'":u+c.substring(j+1,r),j=r);break}}else if("("==n)for(r=j+1;r<k;r++){if(")"==c.charAt(r)){j=V(e,c.substring(j+1,r),d);parseInt(j.replace(/\D/,
""),10)&&(u+=j);j=r;break}}else if("["==n)for(r=j+1;r<k;r++){if("]"==c.charAt(r)){n=c.substring(j+1,r);j=V(e,n,d);j!=V(g,n,d)&&(u+=j);j=r;break}}else if("{"==n)e=b,g=a;else if("}"==n)e=a,g=b;else{for(r=k;r>j;r--)if(p=Ea[c.substring(j,r)]){e&&(u+=p(e,d));j=r-1;break}r==j&&e&&(u+=n)}return u},W=function(a){var b;a.end?(b=a.end,a=a.allDay,b=B(b),b=a||b.getHours()||b.getMinutes()?j(b,1):A(b)):b=j(B(a.start),1);return b},sa=function(a,b){return 100*(b.msLength-a.msLength)+(a.event.start-b.event.start)},
S=function(a,b,c,d){var e=[],g,j=a.length,k,n,r,p,u;for(g=0;g<j;g++)k=a[g],n=k.start,r=b[g],r>c&&n<d&&(n<c?(n=B(c),p=!1):p=!0,r>d?(r=B(d),u=!1):u=!0,e.push({event:k,start:n,end:r,isStart:p,isEnd:u,msLength:r-n}));return e.sort(sa)},U=function(a){var b=[],c,d=a.length,e,g,j,k;for(c=0;c<d;c++){e=a[c];for(g=0;;){j=!1;if(b[g])for(k=0;k<b[g].length;k++)if(b[g][k].end>e.start&&b[g][k].start<e.end){j=!0;break}if(j)g++;else break}b[g]?b[g].push(e):b[g]=[e]}return b},ba=function(b,c,e){b.unbind("mouseover").mouseover(function(b){for(var g=
b.target,j;g!=this;)j=g,g=g.parentNode;if((g=j._fci)!==d)j._fci=d,j=c[g],e(j.event,j.element,j),a(b.target).trigger(b);b.stopPropagation()})},ia=function(b,c,d){for(var e=0,g;e<b.length;e++)g=a(b[e]),g.width(Math.max(0,c-Y(g,d)))},ga=function(b,c,d){for(var e=0,g;e<b.length;e++)g=a(b[e]),g.height(Math.max(0,c-xa(g,d)))},Y=function(b,c){return(parseFloat(a.curCSS(b[0],"paddingLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingRight",!0))||0)+((parseFloat(a.curCSS(b[0],"borderLeftWidth",!0))||0)+(parseFloat(a.curCSS(b[0],
"borderRightWidth",!0))||0))+(c?(parseFloat(a.curCSS(b[0],"marginLeft",!0))||0)+(parseFloat(a.curCSS(b[0],"marginRight",!0))||0):0)},xa=function(b,c){return(parseFloat(a.curCSS(b[0],"paddingTop",!0))||0)+(parseFloat(a.curCSS(b[0],"paddingBottom",!0))||0)+((parseFloat(a.curCSS(b[0],"borderTopWidth",!0))||0)+(parseFloat(a.curCSS(b[0],"borderBottomWidth",!0))||0))+(c?ua(b):0)},ua=function(b){return(parseFloat(a.curCSS(b[0],"marginTop",!0))||0)+(parseFloat(a.curCSS(b[0],"marginBottom",!0))||0)},ta=function(a,
b){b="number"==typeof b?b+"px":b;a.each(function(a,c){c.style.cssText+=";min-height:"+b+";_height:"+b})},va=function(){},N=function(a,b){return a-b},na=function(a){return(10>a?"0":"")+a},Ba=function(a,b){if(a[b]!==d)return a[b];for(var c=b.split(/(?=[A-Z])/),e=c.length-1,g;0<=e;e--)if(g=a[c[e].toLowerCase()],g!==d)return g;return a[""]},qa=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")},G=function(a){return a.id+
"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")},w=function(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},Q=function(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")},la=function(a,b){a.each(function(a,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+pa[b.getDay()])})},L=function(a,b){var c=a.source||{},
d=a.color,e=c.color,g=b("eventColor"),j=a.backgroundColor||d||c.backgroundColor||e||b("eventBackgroundColor")||g,d=a.borderColor||d||c.borderColor||e||b("eventBorderColor")||g,c=a.textColor||c.textColor||b("eventTextColor"),e=[];j&&e.push("background-color:"+j);d&&e.push("border-color:"+d);c&&e.push("color:"+c);return e.join(";")},C=function(b,c,d){a.isFunction(b)&&(b=[b]);if(b){var e,g;for(e=0;e<b.length;e++)g=b[e].apply(c,d)||g;return g}},M=function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
d)return arguments[a]},ja=function(b,c,d){function e(a){if(!u("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),b=p(b);I("dayClick",this,b,!0,a)}}function g(a,b,c){c&&J.build();c=B(q.visStart);for(var u=j(B(c),E),d=0;d<ca;d++){var I=new Date(Math.max(c,a)),R=new Date(Math.min(u,b));if(I<R){var n;oa?(n=z(R,c)*ba+wa+1,I=z(I,c)*ba+wa+1):(n=z(I,c),I=z(R,c));k(d,n,d,I-1).click(e).mousedown(v)}j(c,7);j(u,7)}}function k(a,c,u,d){a=J.rect(a,c,u,d,b);return H(a,b)}function n(a){return{row:Math.floor(z(a,
q.visStart)/7),col:t(a.getDay())}}function r(a){return j(B(q.visStart),7*a.row+a.col*ba+wa)}function p(a){return j(B(q.visStart),7*Math.floor(a/E)+a%E*ba+wa)}function t(a){return(a-Math.max(Ma,Ya)+E)%E*ba+wa}var q=this;q.renderBasic=function(c,d,g,j){ca=d;E=g;(oa=u("isRTL"))?(ba=-1,wa=E-1):(ba=1,wa=0);Ma=u("firstDay");Ya=u("weekends")?0:1;Fa=u("theme")?"ui":"fc";Ka=u("columnFormat");if(d=!da){var I=Fa+"-widget-header",k=Fa+"-widget-content",n;g="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";
for(n=0;n<E;n++)g+="<th class='fc- "+I+"'/>";g+="</tr></thead><tbody>";for(n=0;n<c;n++){g+="<tr class='fc-week"+n+"'>";for(I=0;I<E;I++)g+="<td class='fc- "+k+" fc-day"+(n*E+I)+"'><div>"+(j?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";g+="</tr>"}c=a(g+"</tbody></table>").appendTo(b);T=c.find("thead");pa=T.find("th");da=c.find("tbody");fa=da.find("tr");ra=da.find("td");C=ra.filter(":first-child");D=fa.eq(0).find("div.fc-day-content div");
Q(T.add(T.find("tr")));Q(fa);fa.eq(0).addClass("fc-first");ra.click(e).mousedown(v);F=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(b)}else R();var H=d||1==ca,K=q.start.getMonth(),r=A(new Date),w,t,z;H&&pa.each(function(b,c){w=a(c);t=p(b);w.html(G(t,Ka));la(w,t)});ra.each(function(b,c){w=a(c);t=p(b);t.getMonth()==K?w.removeClass("fc-other-month"):w.addClass("fc-other-month");+t==+r?w.addClass(Fa+"-state-highlight fc-today"):w.removeClass(Fa+"-state-highlight fc-today");w.find("div.fc-day-number").text(t.getDate());
H&&la(w,t)});fa.each(function(b,c){z=a(c);b<ca?(z.show(),b==ca-1?z.addClass("fc-last"):z.removeClass("fc-last")):z.hide()})};q.setHeight=function(b){Z=b;b=Z-T.height();var c,d,e;"variable"==u("weekMode")?c=d=Math.floor(b/(1==ca?2:6)):(c=Math.floor(b/ca),d=b-c*(ca-1));C.each(function(b,u){b<ca&&(e=a(u),ta(e.find("> div"),(b==ca-1?d:c)-xa(e)))})};q.setWidth=function(a){X=a;U.clear();L=Math.floor(X/E);ia(pa.slice(0,-1),L)};q.renderDayOverlay=g;q.defaultSelectionEnd=function(a){return B(a)};q.renderSelection=
function(a,b){g(a,j(B(b),1),!0)};q.clearSelection=function(){K()};q.reportDayClick=function(a,b,c){var u=n(a);I("dayClick",ra[u.row*E+u.col],a,b,c)};q.dragStart=function(a,b){M.start(function(a){K();a&&k(a.row,a.col,a.row,a.col)},b)};q.dragStop=function(a,b,c){var u=M.stop();K();u&&(u=r(u),I("drop",a,u,!0,b,c))};q.defaultEventEnd=function(a){return B(a.start)};q.getHoverListener=function(){return M};q.colContentLeft=function(a){return U.left(a)};q.colContentRight=function(a){return U.right(a)};q.dayOfWeekCol=
t;q.dateCell=n;q.cellDate=r;q.cellIsAllDay=function(){return!0};q.allDayRow=function(a){return fa.eq(a)};q.allDayBounds=function(){return{left:0,right:X}};q.getRowCnt=function(){return ca};q.getColCnt=function(){return E};q.getColWidth=function(){return L};q.getDaySegmentContainer=function(){return F};Aa.call(q,b,c,d);Ca.call(q);Ga.call(q);za.call(q);var u=q.opt,I=q.trigger,R=q.clearEvents,H=q.renderOverlay,K=q.clearOverlays,v=q.daySelectionMousedown,G=c.formatDate,T,pa,da,fa,ra,C,D,F,X,Z,L,ca,E,
J,M,U,oa,ba,wa,Ma,Ya,Fa,Ka;w(b.addClass("fc-grid"));J=new ka(function(b,c){var u,d,e;pa.each(function(b,g){u=a(g);d=u.offset().left;b&&(e[1]=d);e=[d];c[b]=e});e[1]=d+u.outerWidth();fa.each(function(c,g){c<ca&&(u=a(g),d=u.offset().top,c&&(e[1]=d),e=[d],b[c]=e)});e[1]=d+u.outerHeight()});M=new Pa(J);U=new Qa(function(a){return D.eq(a)})},za=function(){function b(u){var d=v(),e=t(),g=B(c.visStart),e=j(B(g),e),I=a.map(u,W),k,n,R,H,K,r,q=[];for(k=0;k<d;k++){n=U(S(u,I,g,e));for(R=0;R<n.length;R++){H=n[R];
for(K=0;K<H.length;K++)r=H[K],r.row=k,r.level=R,q.push(r)}j(g,7);j(e,7)}return q}var c=this;c.renderEvents=function(a,c){n(a);G(b(a),c)};c.compileDaySegs=b;c.clearEvents=function(){r();I().empty()};c.bindDaySeg=function(a,b,c){if(g(a)){var I=R(),n;b.draggable({zIndex:9,delay:50,opacity:d("dragOpacity"),revertDuration:d("dragRevertDuration"),start:function(c,u){e("eventDragStart",b,a,c,u);w(a,b);I.start(function(c,u,e,g){b.draggable("option","revert",!c||!e&&!g);K();c?(n=7*e+g*(d("isRTL")?-1:1),H(j(B(a.start),
n),j(W(a),n))):n=0},c,"drag")},stop:function(c,d){I.stop();K();e("eventDragStop",b,a,c,d);n?u(this,a,n,0,a.allDay,c,d):(b.css("filter",""),p(a,b))}})}c.isEnd&&k(a)&&T(a,b,c);q(a,b)};ma.call(c);var d=c.opt,e=c.trigger,g=c.isEventDraggable,k=c.isEventResizable,n=c.reportEvents,r=c.reportEventClear,q=c.eventElementHandlers,p=c.showEvents,w=c.hideEvents,u=c.eventDrop,I=c.getDaySegmentContainer,R=c.getHoverListener,H=c.renderDayOverlay,K=c.clearOverlays,v=c.getRowCnt,t=c.getColCnt,G=c.renderDaySegs,T=
c.resizableDayEvent},J=function(b,c,e){function g(a){if(!ea("selectable")){var b=Math.min(La-1,Math.floor((a.pageX-Z.offset().left-ta)/W)),c=G(b),u=this.parentNode.className.match(/fc-slot(\d+)/);u?(u=parseInt(u[1])*ea("slotMinutes"),c.setHours(Math.floor(u/60)),c.setMinutes(u%60+Za),da("dayClick",ba[b],c,!1,a)):da("dayClick",ba[b],c,!0,a)}}function k(a,b,c){c&&na.build();var u=B(v.visStart);hb?(c=z(b,u)*Sa+Ta+1,a=z(a,u)*Sa+Ta+1):(c=z(a,u),a=z(b,u));c=Math.max(0,c);a=Math.min(La,a);c<a&&n(0,c,0,a-
1).click(g).mousedown(X)}function n(a,b,c,u){a=na.rect(a,b,c,u,Y);return ra(a,Y)}function q(a,b){for(var c=B(v.visStart),d=j(B(c),1),e=0;e<La;e++){var I=new Date(Math.max(c,a)),k=new Date(Math.min(d,b));if(I<k){var n=e*Sa+Ta,n=na.rect(0,n,0,n,Ka),I=u(c,I),k=u(c,k);n.top=I;n.height=k-I;ra(n,Ka).click(g).mousedown(H)}j(c,1);j(d,1)}}function p(a){var b=G(a.col);a=a.row;ea("allDaySlot")&&a--;0<=a&&t(b,Za+a*ea("slotMinutes"));return b}function G(a){return j(B(v.visStart),a*Sa+Ta)}function T(a){return ea("allDaySlot")&&
!a.row}function pa(a){return(a-Math.max(sa,Da)+La)%La*Sa+Ta}function u(a,b){a=B(a,!0);if(b<t(B(a),Za))return 0;if(b>=t(B(a),cb))return Xa.height();var c=ea("slotMinutes"),u=60*b.getHours()+b.getMinutes()-Za,e=Math.floor(u/c),g=va[e];g===d&&(g=va[e]=Xa.find("tr:eq("+e+") td div")[0].offsetTop);return Math.max(0,Math.round(g-1+aa*(u%c/c)))}function I(b,c){var d=ea("selectHelper");na.build();if(d){var e=z(b,v.visStart)*Sa+Ta;if(0<=e&&e<La){var e=na.rect(0,e,0,e,Ka),j=u(b,b),I=u(b,c);if(I>j){e.top=j;
e.height=I-j;e.left+=2;e.width-=5;if(a.isFunction(d)){if(d=d(b,c))e.position="absolute",e.zIndex=8,P=a(d).css(e).appendTo(Ka)}else e.isStart=!0,e.isEnd=!0,P=a(ca({title:"",start:b,end:c,className:["fc-select-helper"],editable:!1},e)),P.css("opacity",ea("dragOpacity"));P&&(P.click(g).mousedown(H),Ka.append(P),ia(P,e.width,!0),ga(P,e.height,!0))}}}else q(b,c)}function R(){C();P&&(P.remove(),P=null)}function H(b){if(1==b.which&&ea("selectable")){F(b);var c;ua.start(function(a,b){R();if(a&&a.col==b.col&&
!T(a)){var u=p(b),d=p(a);c=[u,t(B(u),ea("slotMinutes")),d,t(B(d),ea("slotMinutes"))].sort(N);I(c[0],c[3])}else c=null},b);a(document).one("mouseup",function(a){ua.stop();c&&(+c[0]==+c[1]&&K(c[0],!1,a),D(c[0],c[3],!1,a))})}}function K(a,b,c){da("dayClick",ba[pa(a.getDay())],a,b,c)}var v=this;v.renderAgenda=function(c){La=c;qa=ea("theme")?"ui":"fc";Da=ea("weekends")?0:1;sa=ea("firstDay");(hb=ea("isRTL"))?(Sa=-1,Ta=La-1):(Sa=1,Ta=0);Za=E(ea("minTime"));cb=E(ea("maxTime"));ib=ea("columnFormat");if(Z)fa();
else{c=qa+"-widget-header";var u=qa+"-widget-content",d,e,j,I,k,n=0==ea("slotMinutes")%15;d="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>";for(e=0;e<La;e++)d+="<th class='fc- fc-col"+e+" "+c+"'/>";d+="<th class='fc-agenda-gutter "+c+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+c+"'>&nbsp;</th>";for(e=0;e<La;e++)d+="<td class='fc- fc-col"+e+" "+u+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
Z=a(d+("<td class='fc-agenda-gutter "+u+"'>&nbsp;</td></tr></tbody></table>")).appendTo(b);J=Z.find("thead");M=J.find("th").slice(1,-1);U=Z.find("tbody");ba=U.find("td").slice(0,-1);oa=ba.find("div.fc-day-content div");wa=ba.eq(0);Ma=wa.find("> div");Q(J.add(J.find("tr")));Q(U.add(U.find("tr")));ja=J.find("th:first");S=Z.find(".fc-agenda-gutter");Y=a("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(b);ea("allDaySlot")?(Ha=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Y),
d="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+c+" fc-agenda-axis'>"+ea("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+c+" fc-agenda-gutter'>&nbsp;</th></tr></table>",Ea=a(d).appendTo(Y),Ya=Ea.find("tr"),Ya.find("td").click(g).mousedown(X),ja=ja.add(Ea.find("th:first")),S=S.add(Ea.find("th.fc-agenda-gutter")),Y.append("<div class='fc-agenda-divider "+c+"'><div class='fc-agenda-divider-inner'/></div>")):
Ha=a([]);Fa=a("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Y);Ka=a("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(Fa);Ua=a("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Ka);d="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";j=r();I=t(B(j),cb);t(j,Za);for(e=ha=0;j<I;e++)k=j.getMinutes(),d+="<tr class='fc-slot"+e+" "+(!k?"":"fc-minor")+"'><th class='fc-agenda-axis "+c+"'>"+(!n||!k?
L(j,ea("axisFormat")):"&nbsp;")+"</th><td class='"+u+"'><div style='position:relative'>&nbsp;</div></td></tr>",t(j,ea("slotMinutes")),ha++;d+="</tbody></table>";Xa=a(d).appendTo(Ka);V=Xa.find("div:first");Xa.find("td").click(g).mousedown(H);ja=ja.add(Xa.find("th:first"))}j=A(new Date);for(c=0;c<La;c++)e=G(c),u=M.eq(c),u.html(L(e,ib)),d=ba.eq(c),+e==+j?d.addClass(qa+"-state-highlight fc-today"):d.removeClass(qa+"-state-highlight fc-today"),la(u.add(d),e)};v.setWidth=function(b){ma=b;db.clear();ta=
0;ia(ja.width("").each(function(b,c){ta=Math.max(ta,a(c).outerWidth())}),ta);b=Fa[0].clientWidth;(za=Fa.width()-b)?(ia(S,za),S.show().prev().removeClass("fc-last")):S.hide().prev().addClass("fc-last");W=Math.floor((b-ta)/La);ia(M.slice(0,-1),W)};v.setHeight=function(a,b){a===d&&(a=gb);gb=a;va={};var c=U.position().top,e=Fa.position().top,g=Math.min(a-c,Xa.height()+e+1);Ma.height(g-xa(wa));Y.css("top",c);Fa.height(g-e-1);aa=V.height()+1;if(b){c=function(){Fa.scrollTop(j)};e=r();g=B(e);g.setHours(ea("firstHour"));
var j=u(e,g)+1;c();setTimeout(c,0)}};v.beforeHide=function(){Ba=Fa.scrollTop()};v.afterShow=function(){Fa.scrollTop(Ba)};v.defaultEventEnd=function(a){var b=B(a.start);return a.allDay?b:t(b,ea("defaultEventMinutes"))};v.timePosition=u;v.dayOfWeekCol=pa;v.dateCell=function(a){return{row:Math.floor(z(a,v.visStart)/7),col:pa(a.getDay())}};v.cellDate=p;v.cellIsAllDay=T;v.allDayRow=function(){return Ya};v.allDayBounds=function(){return{left:ta,right:ma-za}};v.getHoverListener=function(){return ua};v.colContentLeft=
function(a){return db.left(a)};v.colContentRight=function(a){return db.right(a)};v.getDaySegmentContainer=function(){return Ha};v.getSlotSegmentContainer=function(){return Ua};v.getMinMinute=function(){return Za};v.getMaxMinute=function(){return cb};v.getBodyContent=function(){return Ka};v.getRowCnt=function(){return 1};v.getColCnt=function(){return La};v.getColWidth=function(){return W};v.getSlotHeight=function(){return aa};v.defaultSelectionEnd=function(a,b){return b?B(a):t(B(a),ea("slotMinutes"))};
v.renderDayOverlay=k;v.renderSelection=function(a,b,c){c?ea("allDaySlot")&&k(a,j(B(b),1),!0):I(a,b)};v.clearSelection=R;v.reportDayClick=K;v.dragStart=function(a,b){ua.start(function(a){C();if(a)if(T(a))n(a.row,a.col,a.row,a.col);else{a=p(a);var b=t(B(a),ea("defaultEventMinutes"));q(a,b)}},b)};v.dragStop=function(a,b,c){var u=ua.stop();C();u&&da("drop",a,p(u),T(u),b,c)};Aa.call(v,b,c,e);Ca.call(v);Ga.call(v);ya.call(v);var ea=v.opt,da=v.trigger,fa=v.clearEvents,ra=v.renderOverlay,C=v.clearOverlays,
D=v.reportSelection,F=v.unselect,X=v.daySelectionMousedown,ca=v.slotSegHtml,L=c.formatDate,Z,J,M,U,ba,oa,wa,Ma,Y,Ha,Ea,Ya,Fa,Ka,Ua,Xa,V,ja,S,P,ma,gb,ta,W,za,aa,Ba,La,ha,na,ua,db,va={},qa,sa,Da,hb,Sa,Ta,Za,cb,ib;w(b.addClass("fc-agenda"));na=new ka(function(b,c){var u,d,e;M.each(function(b,g){u=a(g);d=u.offset().left;b&&(e[1]=d);e=[d];c[b]=e});e[1]=d+u.outerWidth();ea("allDaySlot")&&(u=Ya,d=u.offset().top,b[0]=[d,d+u.outerHeight()]);for(var g=Ka.offset().top,j=Fa.offset().top,I=j+Fa.outerHeight(),
k=0;k<ha;k++)b.push([Math.max(j,Math.min(I,g+aa*k)),Math.max(j,Math.min(I,g+aa*(k+1)))])});ua=new Pa(na);db=new Qa(function(a){return oa.eq(a)})},ya=function(){function b(c){c=U(S(c,a.map(c,W),k.visStart,k.visEnd));var u,d=c.length,e,g,j,I=[];for(u=0;u<d;u++){e=c[u];for(g=0;g<e.length;g++)j=e[g],j.row=0,j.level=u,I.push(j)}return I}function c(a){return a.end?B(a.end):t(B(a.start),n("defaultEventMinutes"))}function e(a,b){var c="<",u=a.url,d=L(a,n),g=d?" style='"+d+"'":"",j=["fc-event","fc-event-skin",
"fc-event-vert"];q(a)&&j.push("fc-event-draggable");b.isStart&&j.push("fc-corner-top");b.isEnd&&j.push("fc-corner-bottom");j=j.concat(a.className);a.source&&(j=j.concat(a.source.className||[]));c=u?c+("a href='"+qa(a.url)+"'"):c+"div";c+=" class='"+j.join(" ")+"' style='position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+d+"'><div class='fc-event-inner fc-event-skin'"+g+"><div class='fc-event-head fc-event-skin'"+g+"><div class='fc-event-time'>"+qa(N(a.start,a.end,n("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
qa(a.title)+"</div></div><div class='fc-event-bg'></div></div>";b.isEnd&&p(a)&&(c+="<div class='ui-resizable-handle ui-resizable-s'>=</div>");return c+("</"+(u?"a":"div")+">")}function g(a,b,c){var u=b.find("div.fc-event-time");if(q(a)){var d=function(b){var c=t(B(a.start),b),d;a.end&&(d=t(B(a.end),b));u.text(N(c,d,n("timeFormat")))},e=function(){R&&(u.css("display",""),b.draggable("option","grid",[pa,da]),R=!1)},k,R=!1,H,K,T,G=n("isRTL")?-1:1,A=v(),z=D(),pa=F(),da=Q();b.draggable({zIndex:9,scroll:!1,
grid:[pa,da],axis:1==z?"y":!1,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(c,d){r("eventDragStart",b,a,c,d);E(a,b);k=b.position();K=T=0;A.start(function(c,d,g,I){b.draggable("option","revert",!c);oa();c&&(H=I*G,n("allDaySlot")&&!c.row?(R||(R=!0,u.hide(),b.draggable("option","grid",null)),M(j(B(a.start),H),j(W(a),H))):e())},c,"drag")},drag:function(a,b){K=Math.round((b.position.top-k.top)/da)*n("slotMinutes");K!=T&&(R||d(K),T=K)},stop:function(c,u){var g=A.stop();
oa();r("eventDragStop",b,a,c,u);g&&(H||K||R)?J(this,a,H,R?0:K,R,c,u):(e(),b.css("filter",""),b.css(k),d(0),Z(a,b))}})}if(c.isEnd&&p(a)){var ea,fa,Na=Q();b.resizable({handles:{s:"div.ui-resizable-s"},grid:Na,start:function(c,u){ea=fa=0;E(a,b);b.css("z-index",9);r("eventResizeStart",this,a,c,u)},resize:function(c,d){ea=Math.round((Math.max(Na,b.height())-d.originalSize.height)/Na);ea!=fa&&(u.text(N(a.start,!ea&&!a.end?null:t(w(a),n("slotMinutes")*ea),n("timeFormat"))),fa=ea)},stop:function(c,u){r("eventResizeStop",
this,a,c,u);ea?la(this,a,0,n("slotMinutes")*ea,c,u):(b.css("z-index",8),Z(a,b))}})}I(a,b)}var k=this;k.renderEvents=function(u,I){T(u);var H,v=u.length,q=[],p=[];for(H=0;H<v;H++)u[H].allDay?q.push(u[H]):p.push(u[H]);n("allDaySlot")&&(ra(b(q),I),R());var v=D(),q=z(),w=A(),C=t(B(k.visStart),q),F=a.map(p,c),Q,X,Z,L,E,J;H=[];for(Q=0;Q<v;Q++){Z=X=U(S(p,F,C,t(B(C),w-q)));var la=J=E=L=void 0,M=void 0,oa=void 0;for(L=Z.length-1;0<L;L--){la=Z[L];for(E=0;E<la.length;E++){M=la[E];for(J=0;J<Z[L-1].length;J++)oa=
Z[L-1][J],M.end>oa.start&&M.start<oa.end&&(oa.forward=Math.max(oa.forward||0,(M.forward||0)+1))}}for(Z=0;Z<X.length;Z++){L=X[Z];for(E=0;E<L.length;E++)J=L[E],J.col=Q,J.level=Z,H.push(J)}j(C,1,!0)}var p=H.length,Oa,wa,Ja;X="";w={};C={};Q=K();v=D();(Z=n("isRTL"))?(L=-1,la=v-1):(L=1,la=0);for(v=0;v<p;v++)q=H[v],F=q.event,E=pa(q.start,q.start),J=pa(q.start,q.end),Oa=q.col,M=q.level,oa=q.forward||0,wa=da(Oa*L+la),Ja=fa(Oa*L+la)-wa,Ja=Math.min(Ja-6,0.95*Ja),Oa=M?Ja/(M+oa+1):oa?2*(Ja/(oa+1)-6):Ja,M=wa+Ja/
(M+oa+1)*M*L+(Z?Ja-Oa:0),q.top=E,q.left=M,q.outerWidth=Oa,q.outerHeight=J-E,X+=e(F,q);Q[0].innerHTML=X;Z=Q.children();for(v=0;v<p;v++)q=H[v],F=q.event,X=a(Z[v]),L=r("eventRender",F,F,X),!1===L?X.remove():(L&&!0!==L&&(X.remove(),X=a(L).css({position:"absolute",top:q.top,left:q.left}).appendTo(Q)),q.element=X,F._id===I?g(F,X,q):X[0]._fci=v,ca(F,X));ba(Q,H,g);for(v=0;v<p;v++)if(q=H[v],X=q.element)Q=w[F=q.key=G(X[0])],q.vsides=Q===d?w[F]=xa(X,!0):Q,Q=C[F],q.hsides=Q===d?C[F]=Y(X,!0):Q,F=X.find("div.fc-event-content"),
F.length&&(q.contentTop=F[0].offsetTop);for(v=0;v<p;v++)if(q=H[v],X=q.element)X[0].style.width=Math.max(0,q.outerWidth-q.hsides)+"px",w=Math.max(0,q.outerHeight-q.vsides),X[0].style.height=w+"px",F=q.event,q.contentTop!==d&&10>w-q.contentTop&&(X.find("div.fc-event-time").text(Ma(F.start,n("timeFormat"))+" - "+F.title),X.find("div.fc-event-title").remove()),r("eventAfterRender",F,F,X)};k.compileDaySegs=b;k.clearEvents=function(){u();H().empty();K().empty()};k.slotSegHtml=e;k.bindDaySeg=function(a,
b,c){if(q(a)){var u=c.isStart,d=function(){k||(b.width(e).height("").draggable("option","grid",null),k=!0)},e,g,k=!0,R,H=n("isRTL")?-1:1,K=v(),w=F(),t=Q(),T=z();b.draggable({zIndex:9,opacity:n("dragOpacity","month"),revertDuration:n("dragRevertDuration"),start:function(c,I){r("eventDragStart",b,a,c,I);E(a,b);e=b.width();K.start(function(c,e,I,v){oa();c?(g=!1,R=v*H,c.row?u?k&&(b.width(w-10),ga(b,t*Math.round((a.end?(a.end-a.start)/Ua:n("defaultEventMinutes"))/n("slotMinutes"))),b.draggable("option",
"grid",[w,1]),k=!1):g=!0:(M(j(B(a.start),R),j(W(a),R)),d()),g=g||k&&!R):(d(),g=!0);b.draggable("option","revert",g)},c,"drag")},stop:function(c,u){K.stop();oa();r("eventDragStop",b,a,c,u);if(g)d(),b.css("filter",""),Z(a,b);else{var e=0;k||(e=Math.round((b.offset().top-X().offset().top)/t)*n("slotMinutes")+T-(60*a.start.getHours()+a.start.getMinutes()));J(this,a,R,e,k,c,u)}}})}c.isEnd&&p(a)&&C(a,b,c);I(a,b)};ma.call(k);var n=k.opt,r=k.trigger,q=k.isEventDraggable,p=k.isEventResizable,w=k.eventEnd,
T=k.reportEvents,u=k.reportEventClear,I=k.eventElementHandlers,R=k.setHeight,H=k.getDaySegmentContainer,K=k.getSlotSegmentContainer,v=k.getHoverListener,A=k.getMaxMinute,z=k.getMinMinute,pa=k.timePosition,da=k.colContentLeft,fa=k.colContentRight,ra=k.renderDaySegs,C=k.resizableDayEvent,D=k.getColCnt,F=k.getColWidth,Q=k.getSlotHeight,X=k.getBodyContent,ca=k.reportEventElement,Z=k.showEvents,E=k.hideEvents,J=k.eventDrop,la=k.eventResize,M=k.renderDayOverlay,oa=k.clearOverlays,wa=k.calendar,Ma=wa.formatDate,
N=wa.formatDates},Aa=function(a,b,c){function e(a,b){var u=T[a];return"object"==typeof u?Ba(u,b||c):u}function g(a,c){return b.trigger.apply(b,[a,c||w].concat(Array.prototype.slice.call(arguments,2),[w]))}function k(a){return M(a.editable,(a.source||{}).editable,e("editable"))}function n(a){return a.end?B(a.end):u(a)}function q(a,b,c){a=v[a._id];var u,d=a.length;for(u=0;u<d;u++)if(!b||a[u][0]!=b[0])a[u][c]()}function r(a,b,c,u){c=c||0;for(var e,g=a.length,k=0;k<g;k++)e=a[k],u!==d&&(e.allDay=u),t(j(e.start,
b,!0),c),e.end&&(e.end=t(j(e.end,b,!0),c)),I(e,T)}function p(a,b,c){c=c||0;for(var u,d=a.length,e=0;e<d;e++)u=a[e],u.end=t(j(n(u),b,!0),c),I(u,T)}var w=this;w.element=a;w.calendar=b;w.name=c;w.opt=e;w.trigger=g;w.isEventDraggable=function(a){return k(a)&&!e("disableDragging")};w.isEventResizable=function(a){return k(a)&&!e("disableResizing")};w.reportEvents=function(a){H={};var b,c=a.length,u;for(b=0;b<c;b++)u=a[b],H[u._id]?H[u._id].push(u):H[u._id]=[u]};w.eventEnd=n;w.reportEventElement=function(a,
b){K.push(b);v[a._id]?v[a._id].push(b):v[a._id]=[b]};w.reportEventClear=function(){K=[];v={}};w.eventElementHandlers=function(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return g("eventClick",this,a,c)}).hover(function(b){g("eventMouseover",this,a,b)},function(b){g("eventMouseout",this,a,b)})};w.showEvents=function(a,b){q(a,b,"show")};w.hideEvents=function(a,b){q(a,b,"hide")};w.eventDrop=function(a,b,c,u,d,e,j){var I=b.allDay,k=b._id;r(H[k],
c,u,d);g("eventDrop",a,b,c,u,d,function(){r(H[k],-c,-u,I);R(k)},e,j);R(k)};w.eventResize=function(a,b,c,u,d,e){var j=b._id;p(H[j],c,u);g("eventResize",a,b,c,u,function(){p(H[j],-c,-u);R(j)},d,e);R(j)};var u=w.defaultEventEnd,I=b.normalizeEvent,R=b.reportEventChange,H={},K=[],v={},T=b.options},ma=function(){function b(a){var c=t("isRTL"),d,e=a.length,g,j,k,n;d=fa();var R=d.left,H=d.right,v,K,q,r,p,w="";for(d=0;d<e;d++)g=a[d],j=g.event,n=["fc-event","fc-event-skin","fc-event-hori"],u(j)&&n.push("fc-event-draggable"),
c?(g.isStart&&n.push("fc-corner-right"),g.isEnd&&n.push("fc-corner-left"),v=D(g.end.getDay()-1),K=D(g.start.getDay()),q=g.isEnd?C(v):R,r=g.isStart?ra(K):H):(g.isStart&&n.push("fc-corner-left"),g.isEnd&&n.push("fc-corner-right"),v=D(g.start.getDay()),K=D(g.end.getDay()-1),q=g.isStart?C(v):R,r=g.isEnd?ra(K):H),n=n.concat(j.className),j.source&&(n=n.concat(j.source.className||[])),k=j.url,p=L(j,t),w=k?w+("<a href='"+qa(k)+"'"):w+"<div",w+=" class='"+n.join(" ")+"' style='position:absolute;z-index:8;left:"+
q+"px;"+p+"'><div class='fc-event-inner fc-event-skin'"+(p?" style='"+p+"'":"")+">",!j.allDay&&g.isStart&&(w+="<span class='fc-event-time'>"+qa(E(j.start,j.end,t("timeFormat")))+"</span>"),w+="<span class='fc-event-title'>"+qa(j.title)+"</span></div>",g.isEnd&&I(j)&&(w+="<div class='ui-resizable-handle ui-resizable-"+(c?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),w+="</"+(k?"a":"div")+">",g.left=q,g.outerWidth=r-q,g.startCol=v,g.endCol=K+1;return w}function c(b,u){var d,e=b.length,g,j,I;for(d=0;d<e;d++)g=
b[d],j=g.event,I=a(u[d]),j=T("eventRender",j,j,I),!1===j?I.remove():(j&&!0!==j&&(j=a(j).css({position:"absolute",left:g.left}),I.replaceWith(j),I=j),g.element=I)}function e(a){var b,c=a.length,u,g,j,I,k={};for(b=0;b<c;b++)if(u=a[b],g=u.element)j=u.key=G(g[0]),I=k[j],I===d&&(I=k[j]=Y(g,!0)),u.hsides=I}function g(a){var b,c=a.length,u,d;for(b=0;b<c;b++)if(u=a[b],d=u.element)d[0].style.width=Math.max(0,u.outerWidth-u.hsides)+"px"}function k(a){var b,c=a.length,u,e,g,j,I={};for(b=0;b<c;b++)if(u=a[b],
e=u.element)g=u.key,j=I[g],j===d&&(j=I[g]=ua(e)),u.outerHeight=e[0].offsetHeight+j}function n(){var a,b=z(),c=[];for(a=0;a<b;a++)c[a]=da(a).find("td:first div.fc-day-content > div");return c}function q(a){var b,c=a.length,u=[];for(b=0;b<c;b++)u[b]=a[b][0].offsetTop;return u}function r(a,b){var c,u=a.length,d,e;for(c=0;c<u;c++)if(d=a[c],e=d.element)e[0].style.top=b[d.row]+(d.top||0)+"px",d=d.event,T("eventAfterRender",d,d,e)}var p=this;p.renderDaySegs=function(a,u){var d=Q(),j=z(),I=pa(),R=0,v,K,p,
w=a.length,t,T;d[0].innerHTML=b(a);c(a,d.children());K=a.length;for(v=0;v<K;v++)p=a[v],(T=p.element)&&H(p.event,T);K=a.length;var G;for(v=0;v<K;v++)if(p=a[v],T=p.element)G=p.event,G._id===u?Z(G,T,p):T[0]._fci=v;ba(d,a,Z);e(a);g(a);k(a);d=n();for(v=0;v<j;v++){K=[];for(p=0;p<I;p++)K[p]=0;for(;R<w&&(t=a[R]).row==v;){p=K.slice(t.startCol,t.endCol);p=Math.max.apply(Math,p);t.top=p;p+=t.outerHeight;for(T=t.startCol;T<t.endCol;T++)K[T]=p;R++}d[v].height(Math.max.apply(Math,K))}r(a,q(d))};p.resizableDayEvent=
function(u,d,I){var H=t("isRTL"),G=H?"w":"e",da=d.find("div.ui-resizable-"+G),fa=!1;w(d);d.mousedown(function(a){a.preventDefault()}).click(function(a){fa&&(a.preventDefault(),a.stopImmediatePropagation())});da.mousedown(function(w){function t(b){T("eventResizeStop",this,u,b);a("body").css("cursor","");da.stop();J();E&&A(this,u,E,0,b);setTimeout(function(){fa=!1},0)}if(1==w.which){fa=!0;var da=p.getHoverListener(),C=z(),ra=pa(),D=H?-1:1,Z=H?ra-1:0,L=d.css("top"),E,M,oa=a.extend({},u),U=F(u.start);
la();a("body").css("cursor",G+"-resize").one("mouseup",t);T("eventResizeStart",this,u,w);da.start(function(d,p){if(d){var w=Math.max(U.row,d.row),t=d.col;1==C&&(w=0);w==U.row&&(t=H?Math.min(U.col,t):Math.max(U.col,t));E=7*w+t*D+Z-(7*p.row+p.col*D+Z);w=j(R(u),E,!0);if(E){oa.end=w;var t=M,T=X([oa]),A=I.row,z=a("<div/>"),da=Q(),pa=T.length,fa;z[0].innerHTML=b(T);z=z.children();da.append(z);c(T,z);e(T);g(T);k(T);r(T,q(n()));z=[];for(da=0;da<pa;da++)if(fa=T[da].element)T[da].row===A&&fa.css("top",L),z.push(fa[0]);
M=a(z);M.find("*").css("cursor",G+"-resize");t&&t.remove();v(u)}else M&&(K(u),M.remove(),M=null);J();ca(u.start,j(B(w),1))}},w)}})};var t=p.opt,T=p.trigger,u=p.isEventDraggable,I=p.isEventResizable,R=p.eventEnd,H=p.reportEventElement,K=p.showEvents,v=p.hideEvents,A=p.eventResize,z=p.getRowCnt,pa=p.getColCnt,da=p.allDayRow,fa=p.allDayBounds,C=p.colContentLeft,ra=p.colContentRight,D=p.dayOfWeekCol,F=p.dateCell,X=p.compileDaySegs,Q=p.getDaySegmentContainer,Z=p.bindDaySeg,E=p.calendar.formatDates,ca=
p.renderDayOverlay,J=p.clearOverlays,la=p.clearSelection},Ga=function(){function b(a){p&&(p=!1,n(),g("unselect",null,a))}function c(a,b,u,d){p=!0;g("select",null,a,b,u,d)}var d=this;d.select=function(a,d,u){b();d||(d=j(a,u));k(a,d,u);c(a,d,u)};d.unselect=b;d.reportSelection=c;d.daySelectionMousedown=function(g){var j=d.cellDate,u=d.cellIsAllDay,I=d.getHoverListener(),R=d.reportDayClick;if(1==g.which&&e("selectable")){b(g);var H;I.start(function(a,b){n();a&&u(a)?(H=[j(b),j(a)].sort(N),k(H[0],H[1],
!0)):H=null},g);a(document).one("mouseup",function(a){I.stop();H&&(+H[0]==+H[1]&&R(H[0],!0,a),c(H[0],H[1],!0,a))})}};var e=d.opt,g=d.trigger,j=d.defaultSelectionEnd,k=d.renderSelection,n=d.clearSelection,p=!1;e("selectable")&&e("unselectAuto")&&a(document).mousedown(function(c){var d=e("unselectCancel");(!d||!a(c.target).parents(d).length)&&b(c)})},Ca=function(){this.renderOverlay=function(d,e){var g=c.shift();g||(g=a("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));g[0].parentNode!=
e[0]&&g.appendTo(e);b.push(g.css(d).show());return g};this.clearOverlays=function(){for(var a;a=b.shift();)c.push(a.hide().unbind())};var b=[],c=[]},ka=function(a){var b,c;this.build=function(){b=[];c=[];a(b,c)};this.cell=function(a,d){var e=b.length,g=c.length,j,k=-1,n=-1;for(j=0;j<e;j++)if(d>=b[j][0]&&d<b[j][1]){k=j;break}for(j=0;j<g;j++)if(a>=c[j][0]&&a<c[j][1]){n=j;break}return 0<=k&&0<=n?{row:k,col:n}:null};this.rect=function(a,d,e,g,j){j=j.offset();return{top:b[a][0]-j.top,left:c[d][0]-j.left,
width:c[g][1]-c[d][0],height:b[e][1]-b[a][0]}}},Pa=function(b){function c(a){a=b.cell(a.pageX,a.pageY);if(!a!=!j||a&&(a.row!=j.row||a.col!=j.col))a?(g||(g=a),e(a,g,a.row-g.row,a.col-g.col)):e(a,g),j=a}var d,e,g,j;this.start=function(k,n,p){e=k;g=j=null;b.build();c(n);d=p||"mousemove";a(document).bind(d,c)};this.stop=function(){a(document).unbind(d,c);return j}},Qa=function(a){var b=this,c={},e={},g={};b.left=function(b){return e[b]=e[b]===d?(c[b]=c[b]||a(b)).position().left:e[b]};b.right=function(e){return g[e]=
g[e]===d?b.left(e)+(c[e]=c[e]||a(e)).width():g[e]};b.clear=function(){c={};e={};g={}}},P={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},Da={header:{left:"next,prev today",
center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},aa=a.fullCalendar={version:"1.5.1"},T=aa.views={};a.fn.fullCalendar=function(c){if("string"==typeof c){var e=Array.prototype.slice.call(arguments,1),g;this.each(function(){var b=a.data(this,"fullCalendar");b&&a.isFunction(b[c])&&(b=b[c].apply(b,e),g===d&&(g=b),"destroy"==c&&a.removeData(this,
"fullCalendar"))});return g!==d?g:this}var j=c.eventSources||[];delete c.eventSources;c.events&&(j.push(c.events),delete c.events);c=a.extend(!0,{},P,c.isRTL||c.isRTL===d&&P.isRTL?Da:{},c);this.each(function(d,e){var g=a(e),k=new b(g,c,j);g.data("fullCalendar",k);k.render()});return this};aa.sourceNormalizers=[];aa.sourceFetchers=[];var ra={dataType:"json",cache:!1},da=1;aa.addDays=j;aa.cloneDate=B;aa.parseDate=F;aa.parseISO8601=D;aa.parseTime=E;aa.formatDate=V;aa.formatDates=ha;var pa="sun mon tue wed thu fri sat".split(" "),
fa=864E5,oa=36E5,Ua=6E4,Ea={s:function(a){return a.getSeconds()},ss:function(a){return na(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return na(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return na(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return na(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return na(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},
M:function(a){return a.getMonth()+1},MM:function(a){return na(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return V(a,
"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();return 10<a&&20>a?"th":["st","nd","rd"][a%10-1]||"th"}};aa.applyAll=C;T.month=function(a,b){var c=this;c.render=function(a,b){b&&(k(a,b),a.setDate(1));var n=B(a,!0);n.setDate(1);var p=k(B(n),1),r=B(n),u=B(p),I=d("firstDay"),R=d("weekends")?0:1;R&&(q(r),q(u,-1,!0));j(r,-((r.getDay()-Math.max(I,R)+7)%7));j(u,(7-u.getDay()+Math.max(I,R))%7);I=Math.round((u-r)/(7*fa));"fixed"==d("weekMode")&&(j(u,7*(6-I)),I=6);c.title=g(n,d("titleFormat"));c.start=
n;c.end=p;c.visStart=r;c.visEnd=u;e(6,I,R?5:7,!0)};ja.call(c,a,b,"month");var d=c.opt,e=c.renderBasic,g=b.formatDate};T.basicWeek=function(a,b){var c=this;c.render=function(a,b){b&&j(a,7*b);var k=j(B(a),-((a.getDay()-d("firstDay")+7)%7)),n=j(B(k),7),p=B(k),u=B(n),I=d("weekends");I||(q(p),q(u,-1,!0));c.title=g(p,j(B(u),-1),d("titleFormat"));c.start=k;c.end=n;c.visStart=p;c.visEnd=u;e(1,1,I?7:5,!1)};ja.call(c,a,b,"basicWeek");var d=c.opt,e=c.renderBasic,g=b.formatDates};T.basicDay=function(a,b){var c=
this;c.render=function(a,b){b&&(j(a,b),d("weekends")||q(a,0>b?-1:1));c.title=g(a,d("titleFormat"));c.start=c.visStart=B(a,!0);c.end=c.visEnd=j(B(c.start),1);e(1,1,1,!1)};ja.call(c,a,b,"basicDay");var d=c.opt,e=c.renderBasic,g=b.formatDate};a.extend(!0,P,{weekMode:"fixed"});T.agendaWeek=function(a,b){var c=this;c.render=function(a,b){b&&j(a,7*b);var k=j(B(a),-((a.getDay()-d("firstDay")+7)%7)),n=j(B(k),7),p=B(k),u=B(n),I=d("weekends");I||(q(p),q(u,-1,!0));c.title=g(p,j(B(u),-1),d("titleFormat"));c.start=
k;c.end=n;c.visStart=p;c.visEnd=u;e(I?7:5)};J.call(c,a,b,"agendaWeek");var d=c.opt,e=c.renderAgenda,g=b.formatDates};T.agendaDay=function(a,b){var c=this;c.render=function(a,b){b&&(j(a,b),d("weekends")||q(a,0>b?-1:1));var k=B(a,!0),n=j(B(k),1);c.title=g(a,d("titleFormat"));c.start=c.visStart=k;c.end=c.visEnd=n;e(1)};J.call(c,a,b,"agendaDay");var d=c.opt,e=c.renderAgenda,g=b.formatDate};a.extend(!0,P,{allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",
timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24});var Ha=jQuery,ca=Ha.fullCalendar,wa=ca.formatDate,X=ca.parseISO8601,Ma=ca.addDays,Z=ca.applyAll;ca.sourceNormalizers.push(function(a){if("gcal"==a.dataType||void 0===a.dataType&&(a.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))a.dataType="gcal",void 0===a.editable&&(a.editable=!1)});ca.sourceFetchers.push(function(a,b,c){if("gcal"==a.dataType){var d=a.success;b=Ha.extend({},a.data||{},{"start-min":wa(b,
"u"),"start-max":wa(c,"u"),singleevents:!0,"max-results":9999});var e=a.currentTimezone;e&&(b.ctz=e=e.replace(" ","_"));return Ha.extend({},a,{url:a.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:b,startParam:!1,endParam:!1,success:function(a){var b=[];a.feed.entry&&Ha.each(a.feed.entry,function(a,c){var d=c.gd$when[0].startTime,u=X(d,!0),g=X(c.gd$when[0].endTime,!0),d=-1==d.indexOf("T"),j;Ha.each(c.link,function(a,b){"text/html"==b.type&&(j=b.href,e&&(j+=(-1==
j.indexOf("?")?"?":"&")+"ctz="+e))});d&&Ma(g,-1);b.push({id:c.gCal$uid.value,title:c.title.$t,url:j,start:u,end:g,allDay:d,location:c.gd$where[0].valueString,description:c.content.$t})});var c=[b].concat(Array.prototype.slice.call(arguments,1)),c=Z(d,this,c);return Ha.isArray(c)?c:b}})}});ca.gcalFeed=function(a,b){return Ha.extend({},b,{url:a,dataType:"gcal"})}});(function(a){a.color={};a.color.make=function(b,c,d,g){var k={};k.r=b||0;k.g=c||0;k.b=d||0;k.a=null!=g?g:1;k.add=function(a,b){for(var c=0;c<a.length;++c)k[a.charAt(c)]+=b;return k.normalize()};k.scale=function(a,b){for(var c=0;c<a.length;++c)k[a.charAt(c)]*=b;return k.normalize()};k.toString=function(){return 1<=k.a?"rgb("+[k.r,k.g,k.b].join()+")":"rgba("+[k.r,k.g,k.b,k.a].join()+")"};k.normalize=function(){function a(b,c,d){return c<b?b:c>d?d:c}k.r=a(0,parseInt(k.r),255);k.g=a(0,parseInt(k.g),255);
k.b=a(0,parseInt(k.b),255);k.a=a(0,k.a,1);return k};k.clone=function(){return a.color.make(k.r,k.b,k.g,k.a)};return k.normalize()};a.color.extract=function(b,c){var d;do{d=b.css(c).toLowerCase();if(""!=d&&"transparent"!=d)break;b=b.parent()}while(!a.nodeName(b.get(0),"body"));"rgba(0, 0, 0, 0)"==d&&(d="transparent");return a.color.parse(d)};a.color.parse=function(b){var c,e=a.color.make;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return e(parseInt(c[1],10),parseInt(c[2],
10),parseInt(c[3],10));if(c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b))return e(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]));if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return e(2.55*parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3]));if(c=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b))return e(2.55*
parseFloat(c[1]),2.55*parseFloat(c[2]),2.55*parseFloat(c[3]),parseFloat(c[4]));if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return e(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16));if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return e(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16));b=a.trim(b).toLowerCase();if("transparent"==b)return e(255,255,255,0);c=d[b]||[0,0,0];return e(c[0],c[1],c[2])};var d={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(a){function d(c,d,g,k){function j(a,b){b=[ka].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function n(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},w.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d];c.push(e)}G=c;c=G.length;d=[];e=[];for(b=0;b<G.length;++b){var g=G[b].color;null!=g&&(--c,"number"==typeof g?e.push(g):d.push(a.color.parse(G[b].color)))}for(b=0;b<e.length;++b)c=Math.max(c,e[b]+1);d=[];for(b=e=
0;d.length<c;)g=w.colors.length==b?a.color.make(100,100,100):a.color.parse(w.colors[b]),g.scale("rgb",1+0.2*(1==e%2?-1:1)*Math.ceil(e/2)),d.push(g),++b,b>=w.colors.length&&(b=0,++e);for(b=c=0;b<G.length;++b){e=G[b];null==e.color?(e.color=d[c].toString(),++c):"number"==typeof e.color&&(e.color=d[e.color].toString());if(null==e.lines.show){var k,g=!0;for(k in e)if(e[k]&&e[k].show){g=!1;break}g&&(e.lines.show=!0)}e.xaxis=r(ja,t(e,"x"));e.yaxis=r(za,t(e,"y"))}k=function(a,b,c){b<a.datamin&&b!=-q&&(a.datamin=
b);c>a.datamax&&c!=q&&(a.datamax=c)};var n=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,q=Number.MAX_VALUE,z,C,B,D,F;a.each(A(),function(a,b){b.datamin=n;b.datamax=p;b.used=!1});for(b=0;b<G.length;++b)c=G[b],c.datapoints={points:[]},j(Ca.processRawData,[c,c.data,c.datapoints]);for(b=0;b<G.length;++b){var c=G[b],Q=c.data,L=c.datapoints.format;if(!L){L=[];L.push({x:!0,number:!0,required:!0});L.push({y:!0,number:!0,required:!0});if(c.bars.show||c.lines.show&&c.lines.fill)L.push({y:!0,number:!0,
required:!1,defaultValue:0}),c.bars.horizontal&&(delete L[L.length-1].y,L[L.length-1].x=!0);c.datapoints.format=L}if(null==c.datapoints.pointsize){c.datapoints.pointsize=L.length;C=c.datapoints.pointsize;g=c.datapoints.points;insertSteps=c.lines.show&&c.lines.steps;c.xaxis.used=c.yaxis.used=!0;for(d=z=0;d<Q.length;++d,z+=C){F=Q[d];var E=null==F;if(!E)for(e=0;e<C;++e){B=F[e];if(D=L[e])D.number&&null!=B&&(B=+B,isNaN(B)?B=null:Infinity==B?B=q:-Infinity==B&&(B=-q)),null==B&&(D.required&&(E=!0),null!=
D.defaultValue&&(B=D.defaultValue));g[z+e]=B}if(E)for(e=0;e<C;++e)B=g[z+e],null!=B&&(D=L[e],D.x&&k(c.xaxis,B,B),D.y&&k(c.yaxis,B,B)),g[z+e]=null;else if(insertSteps&&0<z&&null!=g[z-C]&&g[z-C]!=g[z]&&g[z-C+1]!=g[z+1]){for(e=0;e<C;++e)g[z+C+e]=g[z+e];g[z+1]=g[z-C+1];z+=C}}}}for(b=0;b<G.length;++b)c=G[b],j(Ca.processDatapoints,[c,c.datapoints]);for(b=0;b<G.length;++b){c=G[b];g=c.datapoints.points;C=c.datapoints.pointsize;F=z=n;E=Q=p;for(d=0;d<g.length;d+=C)if(null!=g[d])for(e=0;e<C;++e)if(B=g[d+e],(D=
L[e])&&!(B==q||B==-q))D.x&&(B<z&&(z=B),B>Q&&(Q=B)),D.y&&(B<F&&(F=B),B>E&&(E=B));c.bars.show&&(d="left"==c.bars.align?0:-c.bars.barWidth/2,c.bars.horizontal?(F+=d,E+=d+c.bars.barWidth):(z+=d,Q+=d+c.bars.barWidth));k(c.xaxis,z,Q);k(c.yaxis,F,E)}a.each(A(),function(a,b){b.datamin==n&&(b.datamin=null);b.datamax==p&&(b.datamax=null)})}function t(a,b){var c=a[b+"axis"];"object"==typeof c&&(c=c.n);"number"!=typeof c&&(c=1);return c}function A(){return a.grep(ja.concat(za),function(a){return a})}function B(a){var b=
{},c,d;for(c=0;c<ja.length;++c)(d=ja[c])&&d.used&&(b["x"+d.n]=d.c2p(a.left));for(c=0;c<za.length;++c)(d=za[c])&&d.used&&(b["y"+d.n]=d.c2p(a.top));void 0!==b.x1&&(b.x=b.x1);void 0!==b.y1&&(b.y=b.y1);return b}function r(b,c){b[c-1]||(b[c-1]={n:c,direction:b==ja?"x":"y",options:a.extend(!0,{},b==ja?w.xaxis:w.yaxis)});return b[c-1]}function q(b,d){var e=document.createElement("canvas");e.className=d;e.width=ya;e.height=Aa;b||a(e).css({position:"absolute",left:0,top:0});a(e).appendTo(c);e.getContext||
(e=window.G_vmlCanvasManager.initElement(e));e.getContext("2d").save();return e}function z(){ya=c.width();Aa=c.height();if(0>=ya||0>=Aa)throw"Invalid dimensions for plot, width = "+ya+", height = "+Aa;}function p(a){a.width!=ya&&(a.width=ya);a.height!=Aa&&(a.height=Aa);a=a.getContext("2d");a.restore();a.save()}function F(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,g=b.options.tickLength,j=w.grid.axisMargin,k=w.grid.labelMargin,n="x"==b.direction?ja:za,p=a.grep(n,function(a){return a&&
a.options.position==e&&a.reserveSpace});a.inArray(b,p)==p.length-1&&(j=0);null==g&&(g="full");n=a.grep(n,function(a){return a&&a.reserveSpace});n=0==a.inArray(b,n);!n&&"full"==g&&(g=5);isNaN(+g)||(k+=+g);"x"==b.direction?(d+=k,"bottom"==e?(J.bottom+=d+j,b.box={top:Aa-J.bottom,height:d}):(b.box={top:J.top+j,height:d},J.top+=d+j)):(c+=k,"left"==e?(b.box={left:J.left+j,width:c},J.left+=c+j):(J.right+=c+j,b.box={left:ya-J.right,width:c}));b.position=e;b.tickLength=g;b.box.padding=k;b.innermost=n}function D(){var d,
e=A();a.each(e,function(a,b){b.show=b.options.show;null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var c=b.options,d=+(null!=c.min?c.min:b.datamin),e=+(null!=c.max?c.max:b.datamax),g=e-d;if(0==g){if(g=0==e?1:0.01,null==c.min&&(d-=g),null==c.max||null!=c.min)e+=g}else{var j=c.autoscaleMargin;null!=j&&(null==c.min&&(d-=g*j,0>d&&(null!=b.datamin&&0<=b.datamin)&&(d=0)),null==c.max&&(e+=g*j,0<e&&(null!=b.datamax&&0>=b.datamax)&&(e=0)))}b.min=d;b.max=e});allocatedAxes=a.grep(e,
function(a){return a.reserveSpace});J.left=J.right=J.top=J.bottom=0;if(w.grid.show){a.each(allocatedAxes,function(d,e){var g=e.options,j;j="number"==typeof g.ticks&&0<g.ticks?g.ticks:0.3*Math.sqrt("x"==e.direction?ya:Aa);j=(e.max-e.min)/j;var k,n,p,q;if("time"==g.mode){var r={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,year:525949.2*6E4};q=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,
"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];k=0;null!=g.minTickSize&&(k="number"==typeof g.tickSize?g.tickSize:g.minTickSize[0]*r[g.minTickSize[1]]);for(n=0;n<q.length-1&&!(j<(q[n][0]*r[q[n][1]]+q[n+1][0]*r[q[n+1][1]])/2&&q[n][0]*r[q[n][1]]>=k);++n);k=q[n][0];p=q[n][1];"year"==p&&(n=Math.pow(10,Math.floor(Math.log(j/r.year)/Math.LN10)),q=j/r.year/n,k=(1.5>q?1:3>q?2:7.5>q?5:10)*n);e.tickSize=
g.tickSize||[k,p];n=function(a){var c=[],d=a.tickSize[0],e=a.tickSize[1],g=new Date(a.min),j=d*r[e];"second"==e&&g.setUTCSeconds(b(g.getUTCSeconds(),d));"minute"==e&&g.setUTCMinutes(b(g.getUTCMinutes(),d));"hour"==e&&g.setUTCHours(b(g.getUTCHours(),d));"month"==e&&g.setUTCMonth(b(g.getUTCMonth(),d));"year"==e&&g.setUTCFullYear(b(g.getUTCFullYear(),d));g.setUTCMilliseconds(0);j>=r.minute&&g.setUTCSeconds(0);j>=r.hour&&g.setUTCMinutes(0);j>=r.day&&g.setUTCHours(0);j>=4*r.day&&g.setUTCDate(1);j>=r.year&&
g.setUTCMonth(0);var k=0,n=Number.NaN,v;do if(v=n,n=g.getTime(),c.push(n),"month"==e)if(1>d){g.setUTCDate(1);var p=g.getTime();g.setUTCMonth(g.getUTCMonth()+1);var q=g.getTime();g.setTime(n+k*r.hour+(q-p)*d);k=g.getUTCHours();g.setUTCHours(0)}else g.setUTCMonth(g.getUTCMonth()+d);else"year"==e?g.setUTCFullYear(g.getUTCFullYear()+d):g.setTime(n+j);while(n<a.max&&n!=v);return c};k=function(b,c){var d=new Date(b);if(null!=g.timeformat)return a.plot.formatDate(d,g.timeformat,g.monthNames);var e=c.tickSize[0]*
r[c.tickSize[1]],j=c.max-c.min,k=g.twelveHourClock?" %p":"";fmt=e<r.minute?"%h:%M:%S"+k:e<r.day?j<2*r.day?"%h:%M"+k:"%b %d %h:%M"+k:e<r.month?"%b %d":e<r.year?j<r.year?"%b":"%b %y":"%y";return a.plot.formatDate(d,fmt,g.monthNames)}}else{p=g.tickDecimals;var w=-Math.floor(Math.log(j)/Math.LN10);null!=p&&w>p&&(w=p);n=Math.pow(10,-w);q=j/n;if(1.5>q)k=1;else if(3>q){if(k=2,2.25<q&&(null==p||w+1<=p))k=2.5,++w}else k=7.5>q?5:10;k*=n;null!=g.minTickSize&&k<g.minTickSize&&(k=g.minTickSize);e.tickDecimals=
Math.max(0,null!=p?p:w);e.tickSize=g.tickSize||k;n=function(a){var c=[],d=b(a.min,a.tickSize),e=0,g=Number.NaN,j;do j=g,g=d+e*a.tickSize,c.push(g),++e;while(g<a.max&&g!=j);return c};k=function(a,b){return a.toFixed(b.tickDecimals)}}if(null!=g.alignTicksWithAxis){var t=("x"==e.direction?ja:za)[g.alignTicksWithAxis-1];t&&(t.used&&t!=e)&&(n=n(e),0<n.length&&(null==g.min&&(e.min=Math.min(e.min,n[0])),null==g.max&&1<n.length&&(e.max=Math.max(e.max,n[n.length-1]))),n=function(a){var b=[],c,d;for(d=0;d<
t.ticks.length;++d)c=(t.ticks[d].v-t.min)/(t.max-t.min),c=a.min+c*(a.max-a.min),b.push(c);return b},"time"!=e.mode&&null==g.tickDecimals&&(j=Math.max(0,-Math.floor(Math.log(j)/Math.LN10)+1),q=n(e),1<q.length&&/\..*0$/.test((q[1]-q[0]).toFixed(j))||(e.tickDecimals=j)))}e.tickGenerator=n;e.tickFormatter=a.isFunction(g.tickFormatter)?function(a,b){return""+g.tickFormatter(a,b)}:k;k=e.options.ticks;j=[];null==k||"number"==typeof k&&0<k?j=e.tickGenerator(e):k&&(j=a.isFunction(k)?k({min:e.min,max:e.max}):
k);e.ticks=[];for(k=0;k<j.length;++k)q=null,p=j[k],"object"==typeof p?(n=+p[0],1<p.length&&(q=p[1])):n=+p,null==q&&(q=e.tickFormatter(n,e)),isNaN(n)||e.ticks.push({v:n,label:q});j=e.ticks;e.options.autoscaleMargin&&0<j.length&&(null==e.options.min&&(e.min=Math.min(e.min,j[0].v)),null==e.options.max&&1<j.length&&(e.max=Math.max(e.max,j[j.length-1].v)));k=function(b,d){return a('<div style="position:absolute;top:-10000px;'+d+'font-size:smaller"><div class="'+e.direction+"Axis "+e.direction+e.n+'Axis">'+
b.join("")+"</div></div>").appendTo(c)};p=e.options;n=e.ticks||[];q=[];var G;j=p.labelWidth;p=p.labelHeight;if("x"==e.direction){if(null==j&&(j=Math.floor(ya/(0<n.length?n.length:1))),null==p){q=[];for(w=0;w<n.length;++w)(G=n[w].label)&&q.push('<div class="tickLabel" style="float:left;width:'+j+'px">'+G+"</div>");0<q.length&&(q.push('<div style="clear:left"></div>'),k=k(q,"width:10000px;"),p=k.height(),k.remove())}}else if(null==j||null==p){for(w=0;w<n.length;++w)(G=n[w].label)&&q.push('<div class="tickLabel">'+
G+"</div>");0<q.length&&(k=k(q,""),null==j&&(j=k.children().width()),null==p&&(p=k.find("div.tickLabel").height()),k.remove())}null==j&&(j=0);null==p&&(p=0);e.labelWidth=j;e.labelHeight=p});for(d=allocatedAxes.length-1;0<=d;--d)F(allocatedAxes[d]);var g=w.grid.minBorderMargin;if(null==g)for(d=g=0;d<G.length;++d)g=Math.max(g,G[d].points.radius+G[d].points.lineWidth/2);for(var j in J)J[j]+=w.grid.borderWidth,J[j]=Math.max(g,J[j])}ma=ya-J.left-J.right;Ga=Aa-J.bottom-J.top;a.each(e,function(a,b){var c=
function(a){return a},d,e,g=b.options.transform||c,j=b.options.inverseTransform;"x"==b.direction?(d=b.scale=ma/Math.abs(g(b.max)-g(b.min)),e=Math.min(g(b.max),g(b.min))):(d=b.scale=Ga/Math.abs(g(b.max)-g(b.min)),d=-d,e=Math.max(g(b.max),g(b.min)));b.p2c=g==c?function(a){return(a-e)*d}:function(a){return(g(a)-e)*d};b.c2p=j?function(a){return j(e+a/d)}:function(a){return e+a/d}});if(w.grid.show){a.each(allocatedAxes,function(a,b){"x"==b.direction?(b.box.left=J.left,b.box.width=ma):(b.box.top=J.top,
b.box.height=Ga)});c.find(".tickLabels").remove();d=['<div class="tickLabels" style="font-size:smaller">'];e=A();for(g=0;g<e.length;++g){j=e[g];var k=j.box;if(j.show){d.push('<div class="'+j.direction+"Axis "+j.direction+j.n+'Axis" style="color:'+j.options.color+'">');for(var n=0;n<j.ticks.length;++n){var p=j.ticks[n];if(p.label&&!(p.v<j.min||p.v>j.max)){var q={},r;"x"==j.direction?(r="center",q.left=Math.round(J.left+j.p2c(p.v)-j.labelWidth/2),"bottom"==j.position?q.top=k.top+k.padding:q.bottom=
Aa-(k.top+k.height-k.padding)):(q.top=Math.round(J.top+j.p2c(p.v)-j.labelHeight/2),"left"==j.position?(q.right=ya-(k.left+k.width-k.padding),r="right"):(q.left=k.left+k.padding,r="left"));q.width=j.labelWidth;r=["position:absolute","text-align:"+r];for(var t in q)r.push(t+":"+q[t]+"px");d.push('<div class="tickLabel" style="'+r.join(";")+'">'+p.label+"</div>")}}d.push("</div>")}}d.push("</div>");c.append(d.join(""))}c.find(".legend").remove();if(w.legend.show){t=[];d=!1;e=w.legend.labelFormatter;
for(k=0;k<G.length;++k)if(g=G[k],j=g.label)0==k%w.legend.noColumns&&(d&&t.push("</tr>"),t.push("<tr>"),d=!0),e&&(j=e(j,g)),t.push('<td class="legendColorBox"><div style="border:1px solid '+w.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+g.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+j+"</td>");d&&t.push("</tr>");0!=t.length&&(d='<table style="font-size:smaller;color:'+w.grid.color+'">'+t.join("")+"</table>",null!=w.legend.container?
a(w.legend.container).html(d):(t="",e=w.legend.position,g=w.legend.margin,null==g[0]&&(g=[g,g]),"n"==e.charAt(0)?t+="top:"+(g[1]+J.top)+"px;":"s"==e.charAt(0)&&(t+="bottom:"+(g[1]+J.bottom)+"px;"),"e"==e.charAt(1)?t+="right:"+(g[0]+J.right)+"px;":"w"==e.charAt(1)&&(t+="left:"+(g[0]+J.left)+"px;"),d=a('<div class="legend">'+d.replace('style="','style="position:absolute;'+t+";")+"</div>").appendTo(c),0!=w.legend.backgroundOpacity&&(e=w.legend.backgroundColor,null==e&&(e=(e=w.grid.backgroundColor)&&
"string"==typeof e?a.color.parse(e):a.color.extract(d,"background-color"),e.a=1,e=e.toString()),g=d.children(),a('<div style="position:absolute;width:'+g.width()+"px;height:"+g.height()+"px;"+t+"background-color:"+e+';"> </div>').prependTo(d).css("opacity",w.legend.backgroundOpacity))))}}function E(){C.clearRect(0,0,ya,Aa);var a=w.grid;a.show&&a.backgroundColor&&(C.save(),C.translate(J.left,J.top),C.fillStyle=qa(w.grid.backgroundColor,Ga,0,"rgba(255, 255, 255, 0)"),C.fillRect(0,0,ma,Ga),C.restore());
a.show&&!a.aboveData&&ha();for(var b=0;b<G.length;++b){j(Ca.drawSeries,[C,G[b]]);var c=G[b];c.lines.show&&W(c);c.bars.show&&U(c);c.points.show&&sa(c)}j(Ca.draw,[C]);a.show&&a.aboveData&&ha()}function V(a,b){var c,d,e,g,j=A();for(i=0;i<j.length;++i)if(c=j[i],c.direction==b&&(g=b+c.n+"axis",!a[g]&&1==c.n&&(g=b+"axis"),a[g])){d=a[g].from;e=a[g].to;break}a[g]||(c="x"==b?ja[0]:za[0],d=a[b+"1"],e=a[b+"2"]);null!=d&&(null!=e&&d>e)&&(g=d,d=e,e=g);return{from:d,to:e,axis:c}}function ha(){var b;C.save();C.translate(J.left,
J.top);var c=w.grid.markings;if(c){if(a.isFunction(c)){var d=ka.getAxes();d.xmin=d.xaxis.min;d.xmax=d.xaxis.max;d.ymin=d.yaxis.min;d.ymax=d.yaxis.max;c=c(d)}for(b=0;b<c.length;++b){var d=c[b],e=V(d,"x"),g=V(d,"y");null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);null==g.from&&(g.from=g.axis.min);null==g.to&&(g.to=g.axis.max);e.to<e.axis.min||(e.from>e.axis.max||g.to<g.axis.min||g.from>g.axis.max)||(e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),g.from=Math.max(g.from,
g.axis.min),g.to=Math.min(g.to,g.axis.max),e.from==e.to&&g.from==g.to||(e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),g.from=g.axis.p2c(g.from),g.to=g.axis.p2c(g.to),e.from==e.to||g.from==g.to?(C.beginPath(),C.strokeStyle=d.color||w.grid.markingsColor,C.lineWidth=d.lineWidth||w.grid.markingsLineWidth,C.moveTo(e.from,g.from),C.lineTo(e.to,g.to),C.stroke()):(C.fillStyle=d.color||w.grid.markingsColor,C.fillRect(e.from,g.to,e.to-e.from,g.from-g.to))))}}d=A();c=w.grid.borderWidth;for(e=0;e<d.length;++e){g=
d[e];b=g.box;var j=g.tickLength,k,n,p,q;if(g.show&&0!=g.ticks.length){C.strokeStyle=g.options.tickColor||a.color.parse(g.options.color).scale("a",0.22).toString();C.lineWidth=1;"x"==g.direction?(k=0,n="full"==j?"top"==g.position?0:Ga:b.top-J.top+("top"==g.position?b.height:0)):(n=0,k="full"==j?"left"==g.position?0:ma:b.left-J.left+("left"==g.position?b.width:0));g.innermost||(C.beginPath(),p=q=0,"x"==g.direction?p=ma:q=Ga,1==C.lineWidth&&(k=Math.floor(k)+0.5,n=Math.floor(n)+0.5),C.moveTo(k,n),C.lineTo(k+
p,n+q),C.stroke());C.beginPath();for(b=0;b<g.ticks.length;++b){var r=g.ticks[b].v;p=q=0;r<g.min||(r>g.max||"full"==j&&0<c&&(r==g.min||r==g.max))||("x"==g.direction?(k=g.p2c(r),q="full"==j?-Ga:j,"top"==g.position&&(q=-q)):(n=g.p2c(r),p="full"==j?-ma:j,"left"==g.position&&(p=-p)),1==C.lineWidth&&("x"==g.direction?k=Math.floor(k)+0.5:n=Math.floor(n)+0.5),C.moveTo(k,n),C.lineTo(k+p,n+q))}C.stroke()}}c&&(C.lineWidth=c,C.strokeStyle=w.grid.borderColor,C.strokeRect(-c/2,-c/2,ma+c,Ga+c));C.restore()}function W(a){function b(a,
c,d,e,g){var j=a.points;a=a.pointsize;var u=null,k=null;C.beginPath();for(var n=a;n<j.length;n+=a){var H=j[n-a],p=j[n-a+1],v=j[n],q=j[n+1];if(!(null==H||null==v)){if(p<=q&&p<g.min){if(q<g.min)continue;H=(g.min-p)/(q-p)*(v-H)+H;p=g.min}else if(q<=p&&q<g.min){if(p<g.min)continue;v=(g.min-p)/(q-p)*(v-H)+H;q=g.min}if(p>=q&&p>g.max){if(q>g.max)continue;H=(g.max-p)/(q-p)*(v-H)+H;p=g.max}else if(q>=p&&q>g.max){if(p>g.max)continue;v=(g.max-p)/(q-p)*(v-H)+H;q=g.max}if(H<=v&&H<e.min){if(v<e.min)continue;p=
(e.min-H)/(v-H)*(q-p)+p;H=e.min}else if(v<=H&&v<e.min){if(H<e.min)continue;q=(e.min-H)/(v-H)*(q-p)+p;v=e.min}if(H>=v&&H>e.max){if(v>e.max)continue;p=(e.max-H)/(v-H)*(q-p)+p;H=e.max}else if(v>=H&&v>e.max){if(H>e.max)continue;q=(e.max-H)/(v-H)*(q-p)+p;v=e.max}(H!=u||p!=k)&&C.moveTo(e.p2c(H)+c,g.p2c(p)+d);u=v;k=q;C.lineTo(e.p2c(v)+c,g.p2c(q)+d)}}C.stroke()}C.save();C.translate(J.left,J.top);C.lineJoin="round";var c=a.lines.lineWidth,d=a.shadowSize;if(0<c&&0<d){C.lineWidth=d;C.strokeStyle="rgba(0,0,0,0.1)";
var e=Math.PI/18;b(a.datapoints,Math.sin(e)*(c/2+d/2),Math.cos(e)*(c/2+d/2),a.xaxis,a.yaxis);C.lineWidth=d/2;b(a.datapoints,Math.sin(e)*(c/2+d/4),Math.cos(e)*(c/2+d/4),a.xaxis,a.yaxis)}C.lineWidth=c;C.strokeStyle=a.color;if(d=ba(a.lines,a.color,0,Ga)){C.fillStyle=d;for(var g=a.datapoints,d=a.xaxis,e=a.yaxis,j=g.points,g=g.pointsize,k=Math.min(Math.max(0,e.min),e.max),n=0,p=!1,q=1,r=0,w=0;!(0<g&&n>j.length+g);){var n=n+g,t=j[n-g],G=j[n-g+q],z=j[n],A=j[n+q];if(p){if(0<g&&null!=t&&null==z){w=n;g=-g;
q=2;continue}if(0>g&&n==r+g){C.fill();p=!1;g=-g;q=1;n=r=w+g;continue}}if(!(null==t||null==z)){if(t<=z&&t<d.min){if(z<d.min)continue;G=(d.min-t)/(z-t)*(A-G)+G;t=d.min}else if(z<=t&&z<d.min){if(t<d.min)continue;A=(d.min-t)/(z-t)*(A-G)+G;z=d.min}if(t>=z&&t>d.max){if(z>d.max)continue;G=(d.max-t)/(z-t)*(A-G)+G;t=d.max}else if(z>=t&&z>d.max){if(t>d.max)continue;A=(d.max-t)/(z-t)*(A-G)+G;z=d.max}p||(C.beginPath(),C.moveTo(d.p2c(t),e.p2c(k)),p=!0);if(G>=e.max&&A>=e.max)C.lineTo(d.p2c(t),e.p2c(e.max)),C.lineTo(d.p2c(z),
e.p2c(e.max));else if(G<=e.min&&A<=e.min)C.lineTo(d.p2c(t),e.p2c(e.min)),C.lineTo(d.p2c(z),e.p2c(e.min));else{var B=t,D=z;G<=A&&G<e.min&&A>=e.min?(t=(e.min-G)/(A-G)*(z-t)+t,G=e.min):A<=G&&(A<e.min&&G>=e.min)&&(z=(e.min-G)/(A-G)*(z-t)+t,A=e.min);G>=A&&G>e.max&&A<=e.max?(t=(e.max-G)/(A-G)*(z-t)+t,G=e.max):A>=G&&(A>e.max&&G<=e.max)&&(z=(e.max-G)/(A-G)*(z-t)+t,A=e.max);t!=B&&C.lineTo(d.p2c(B),e.p2c(G));C.lineTo(d.p2c(t),e.p2c(G));C.lineTo(d.p2c(z),e.p2c(A));z!=D&&(C.lineTo(d.p2c(z),e.p2c(A)),C.lineTo(d.p2c(D),
e.p2c(A)))}}}}0<c&&b(a.datapoints,0,0,a.xaxis,a.yaxis);C.restore()}function sa(a){function b(a,c,d,e,g,j,k,n){var p=a.points;a=a.pointsize;for(var q=0;q<p.length;q+=a){var r=p[q],w=p[q+1];null==r||(r<j.min||r>j.max||w<k.min||w>k.max)||(C.beginPath(),r=j.p2c(r),w=k.p2c(w)+e,"circle"==n?C.arc(r,w,c,0,g?Math.PI:2*Math.PI,!1):n(C,r,w,c,g),C.closePath(),d&&(C.fillStyle=d,C.fill()),C.stroke())}}C.save();C.translate(J.left,J.top);var c=a.points.lineWidth,d=a.shadowSize,e=a.points.radius,g=a.points.symbol;
0<c&&0<d&&(d/=2,C.lineWidth=d,C.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,d+d/2,!0,a.xaxis,a.yaxis,g),C.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,d/2,!0,a.xaxis,a.yaxis,g));C.lineWidth=c;C.strokeStyle=a.color;b(a.datapoints,e,ba(a.points,a.color),0,!1,a.xaxis,a.yaxis,g);C.restore()}function S(a,b,c,d,e,g,j,k,n,p,q,r){var w,t,G,z;q?(z=t=G=!0,w=!1,q=c,c=b+d,e=b+e,a<q&&(b=a,a=q,q=b,w=!0,t=!1)):(w=t=G=!0,z=!1,q=a+d,a+=e,e=c,c=b,c<e&&(b=c,c=e,e=b,z=!0,G=!1));if(!(a<k.min||q>k.max||
c<n.min||e>n.max))if(q<k.min&&(q=k.min,w=!1),a>k.max&&(a=k.max,t=!1),e<n.min&&(e=n.min,z=!1),c>n.max&&(c=n.max,G=!1),q=k.p2c(q),e=n.p2c(e),a=k.p2c(a),c=n.p2c(c),j&&(p.beginPath(),p.moveTo(q,e),p.lineTo(q,c),p.lineTo(a,c),p.lineTo(a,e),p.fillStyle=j(e,c),p.fill()),0<r&&(w||t||G||z))p.beginPath(),p.moveTo(q,e+g),w?p.lineTo(q,c+g):p.moveTo(q,c+g),G?p.lineTo(a,c+g):p.moveTo(a,c+g),t?p.lineTo(a,e+g):p.moveTo(a,e+g),z?p.lineTo(q,e+g):p.moveTo(q,e+g),p.stroke()}function U(a){C.save();C.translate(J.left,
J.top);C.lineWidth=a.bars.lineWidth;C.strokeStyle=a.color;for(var b="left"==a.bars.align?0:-a.bars.barWidth/2,c=a.datapoints,d=b+a.bars.barWidth,e=a.bars.fill?function(b,c){return ba(a.bars,a.color,b,c)}:null,g=a.xaxis,j=a.yaxis,k=c.points,c=c.pointsize,n=0;n<k.length;n+=c)null!=k[n]&&S(k[n],k[n+1],k[n+2],b,d,0,e,g,j,C,a.bars.horizontal,a.bars.lineWidth);C.restore()}function ba(b,c,d,e){var g=b.fill;if(!g)return null;if(b.fillColor)return qa(b.fillColor,d,e,c);b=a.color.parse(c);b.a="number"==typeof g?
g:0.4;b.normalize();return b.toString()}function ia(a){w.grid.hoverable&&xa("plothover",a,function(a){return!1!=a.hoverable})}function ga(a){w.grid.hoverable&&xa("plothover",a,function(){return!1})}function Y(a){xa("plotclick",a,function(a){return!1!=a.clickable})}function xa(a,b,d){var e=L.offset(),g=b.pageX-e.left-J.left,j=b.pageY-e.top-J.top,k=B({left:g,top:j});k.pageX=b.pageX;k.pageY=b.pageY;b=w.grid.mouseActiveRadius;var n=b*b+1,p=null,q,r;for(q=G.length-1;0<=q;--q)if(d(G[q])){var t=G[q],z=t.xaxis,
A=t.yaxis,C=t.datapoints.points,D=t.datapoints.pointsize,F=z.c2p(g),Q=A.c2p(j),E=b/z.scale,la=b/A.scale;z.options.inverseTransform&&(E=Number.MAX_VALUE);A.options.inverseTransform&&(la=Number.MAX_VALUE);if(t.lines.show||t.points.show)for(r=0;r<C.length;r+=D){var M=C[r],U=C[r+1];if(null!=M&&!(M-F>E||M-F<-E||U-Q>la||U-Q<-la))M=Math.abs(z.p2c(M)-g),U=Math.abs(A.p2c(U)-j),U=M*M+U*U,U<n&&(n=U,p=[q,r/D])}if(t.bars.show&&!p){z="left"==t.bars.align?0:-t.bars.barWidth/2;t=z+t.bars.barWidth;for(r=0;r<C.length;r+=
D)if(M=C[r],U=C[r+1],A=C[r+2],null!=M&&(G[q].bars.horizontal?F<=Math.max(A,M)&&F>=Math.min(A,M)&&Q>=U+z&&Q<=U+t:F>=M+z&&F<=M+t&&Q>=Math.min(A,U)&&Q<=Math.max(A,U)))p=[q,r/D]}}p?(q=p[0],r=p[1],D=G[q].datapoints.pointsize,d={datapoint:G[q].datapoints.points.slice(r*D,(r+1)*D),dataIndex:r,series:G[q],seriesIndex:q}):d=null;d&&(d.pageX=parseInt(d.series.xaxis.p2c(d.datapoint[0])+e.left+J.left),d.pageY=parseInt(d.series.yaxis.p2c(d.datapoint[1])+e.top+J.top));if(w.grid.autoHighlight){for(e=0;e<Da.length;++e)g=
Da[e],g.auto==a&&(!d||!(g.series==d.series&&g.point[0]==d.datapoint[0]&&g.point[1]==d.datapoint[1]))&&N(g.series,g.point);d&&va(d.series,d.datapoint,a)}c.trigger(a,[k,d])}function ua(){aa||(aa=setTimeout(ta,30))}function ta(){aa=null;M.save();M.clearRect(0,0,ya,Aa);M.translate(J.left,J.top);var b,c;for(b=0;b<Da.length;++b)if(c=Da[b],c.series.bars.show)Ba(c.series,c.point);else{var d=c.series,e=c.point;c=e[0];var e=e[1],g=d.xaxis,k=d.yaxis;if(!(c<g.min||c>g.max||e<k.min||e>k.max)){var n=d.points.radius+
d.points.lineWidth/2;M.lineWidth=n;M.strokeStyle=a.color.parse(d.color).scale("a",0.5).toString();n*=1.5;c=g.p2c(c);e=k.p2c(e);M.beginPath();"circle"==d.points.symbol?M.arc(c,e,n,0,2*Math.PI,!1):d.points.symbol(M,c,e,n,!1);M.closePath();M.stroke()}}M.restore();j(Ca.drawOverlay,[M])}function va(a,b,c){"number"==typeof a&&(a=G[a]);if("number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}d=na(a,b);-1==d?(Da.push({series:a,point:b,auto:c}),ua()):c||(Da[d].auto=!1)}
function N(a,b){null==a&&null==b&&(Da=[],ua());"number"==typeof a&&(a=G[a]);"number"==typeof b&&(b=a.data[b]);var c=na(a,b);-1!=c&&(Da.splice(c,1),ua())}function na(a,b){for(var c=0;c<Da.length;++c){var d=Da[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function Ba(b,c){M.lineWidth=b.bars.lineWidth;M.strokeStyle=a.color.parse(b.color).scale("a",0.5).toString();var d=a.color.parse(b.color).scale("a",0.5).toString(),e="left"==b.bars.align?0:-b.bars.barWidth/2;S(c[0],c[1],c[2]||
0,e,e+b.bars.barWidth,0,function(){return d},b.xaxis,b.yaxis,M,b.bars.horizontal,b.bars.lineWidth)}function qa(b,c,d,e){if("string"==typeof b)return b;c=C.createLinearGradient(0,d,0,c);d=0;for(var g=b.colors.length;d<g;++d){var j=b.colors[d];if("string"!=typeof j){var k=a.color.parse(e);null!=j.brightness&&(k=k.scale("rgb",j.brightness));null!=j.opacity&&(k.a*=j.opacity);j=k.toString()}c.addColorStop(d/(g-1),j)}return c}var G=[],w={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,
noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},
yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",
markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},Q=null,la=null,L=null,C=null,M=null,ja=[],za=[],J={left:0,right:0,top:0,bottom:0},ya=0,Aa=0,ma=0,Ga=0,Ca={processOptions:[],processRawData:[],processDatapoints:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},ka=this;ka.setData=n;ka.setupGrid=D;ka.draw=E;ka.getPlaceholder=function(){return c};ka.getCanvas=function(){return Q};ka.getPlotOffset=function(){return J};ka.width=function(){return ma};
ka.height=function(){return Ga};ka.offset=function(){var a=L.offset();a.left+=J.left;a.top+=J.top;return a};ka.getData=function(){return G};ka.getAxes=function(){var b={};a.each(ja.concat(za),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)});return b};ka.getXAxes=function(){return ja};ka.getYAxes=function(){return za};ka.c2p=B;ka.p2c=function(a){var b={},c,d,e;for(c=0;c<ja.length;++c)if((d=ja[c])&&d.used)if(e="x"+d.n,null==a[e]&&1==d.n&&(e="x"),null!=a[e]){b.left=d.p2c(a[e]);break}for(c=
0;c<za.length;++c)if((d=za[c])&&d.used)if(e="y"+d.n,null==a[e]&&1==d.n&&(e="y"),null!=a[e]){b.top=d.p2c(a[e]);break}return b};ka.getOptions=function(){return w};ka.highlight=va;ka.unhighlight=N;ka.triggerRedrawOverlay=ua;ka.pointOffset=function(a){return{left:parseInt(ja[t(a,"x")-1].p2c(+a.x)+J.left),top:parseInt(za[t(a,"y")-1].p2c(+a.y)+J.top)}};ka.shutdown=function(){aa&&clearTimeout(aa);L.unbind("mousemove",ia);L.unbind("mouseleave",ga);L.unbind("click",Y);j(Ca.shutdown,[L])};ka.resize=function(){z();
p(Q);p(la)};ka.hooks=Ca;for(var Pa=0;Pa<k.length;++Pa){var Qa=k[Pa];Qa.init(ka);Qa.options&&a.extend(!0,w,Qa.options)}a.extend(!0,w,g);null==w.xaxis.color&&(w.xaxis.color=w.grid.color);null==w.yaxis.color&&(w.yaxis.color=w.grid.color);null==w.xaxis.tickColor&&(w.xaxis.tickColor=w.grid.tickColor);null==w.yaxis.tickColor&&(w.yaxis.tickColor=w.grid.tickColor);null==w.grid.borderColor&&(w.grid.borderColor=w.grid.color);null==w.grid.tickColor&&(w.grid.tickColor=a.color.parse(w.grid.color).scale("a",0.22).toString());
for(g=0;g<Math.max(1,w.xaxes.length);++g)w.xaxes[g]=a.extend(!0,{},w.xaxis,w.xaxes[g]);for(g=0;g<Math.max(1,w.yaxes.length);++g)w.yaxes[g]=a.extend(!0,{},w.yaxis,w.yaxes[g]);w.xaxis.noTicks&&null==w.xaxis.ticks&&(w.xaxis.ticks=w.xaxis.noTicks);w.yaxis.noTicks&&null==w.yaxis.ticks&&(w.yaxis.ticks=w.yaxis.noTicks);w.x2axis&&(w.xaxes[1]=a.extend(!0,{},w.xaxis,w.x2axis),w.xaxes[1].position="top");w.y2axis&&(w.yaxes[1]=a.extend(!0,{},w.yaxis,w.y2axis),w.yaxes[1].position="right");w.grid.coloredAreas&&
(w.grid.markings=w.grid.coloredAreas);w.grid.coloredAreasColor&&(w.grid.markingsColor=w.grid.coloredAreasColor);w.lines&&a.extend(!0,w.series.lines,w.lines);w.points&&a.extend(!0,w.series.points,w.points);w.bars&&a.extend(!0,w.series.bars,w.bars);null!=w.shadowSize&&(w.series.shadowSize=w.shadowSize);for(g=0;g<w.xaxes.length;++g)r(ja,g+1).options=w.xaxes[g];for(g=0;g<w.yaxes.length;++g)r(za,g+1).options=w.yaxes[g];for(var P in Ca)w.hooks[P]&&w.hooks[P].length&&(Ca[P]=Ca[P].concat(w.hooks[P]));j(Ca.processOptions,
[w]);P=c.children("canvas.base");g=c.children("canvas.overlay");0==P.length||0==g?(c.html(""),c.css({padding:0}),"static"==c.css("position")&&c.css("position","relative"),z(),Q=q(!0,"base"),la=q(!1,"overlay"),P=!1):(Q=P.get(0),la=g.get(0),P=!0);C=Q.getContext("2d");M=la.getContext("2d");L=a([la,Q]);P&&(c.data("plot").shutdown(),ka.resize(),M.clearRect(0,0,ya,Aa),L.unbind(),c.children().not([Q,la]).remove());c.data("plot",ka);n(d);D();E();w.grid.hoverable&&(L.mousemove(ia),L.mouseleave(ga));w.grid.clickable&&
L.click(Y);j(Ca.bindEvents,[L]);var Da=[],aa=null}function b(a,b){return b*Math.floor(a/b)}a.plot=function(b,e,g){return new d(a(b),e,g,a.plot.plugins)};a.plot.version="0.7";a.plot.plugins=[];a.plot.formatDate=function(a,b,d){var k=function(a){a=""+a;return 1==a.length?"0"+a:a},j=[],n=!1,t=!1,A=a.getUTCHours(),B=12>A;null==d&&(d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));-1!=b.search(/%p|%P/)&&(12<A?A-=12:0==A&&(A=12));for(var r=0;r<b.length;++r){var q=b.charAt(r);if(n){switch(q){case "h":q=
""+A;break;case "H":q=k(A);break;case "M":q=k(a.getUTCMinutes());break;case "S":q=k(a.getUTCSeconds());break;case "d":q=""+a.getUTCDate();break;case "m":q=""+(a.getUTCMonth()+1);break;case "y":q=""+a.getUTCFullYear();break;case "b":q=""+d[a.getUTCMonth()];break;case "p":q=B?"am":"pm";break;case "P":q=B?"AM":"PM";break;case "0":q="",t=!0}q&&t&&(q=k(q),t=!1);j.push(q);t||(n=!1)}else"%"==q?n=!0:j.push(q)}return j.join("")}})(jQuery);
(function(a){var d={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(a,c){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+c.color+';">'+a+"<br/>"+Math.round(c.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};a.plot.plugins.push({init:function(b){function c(b){sa||
(sa=!0,r=b.getCanvas(),q=a(r).parent(),d=b.getOptions(),b.setData(e(b.getData())))}function e(a){for(var b=0;b<a.length;++b)if("number"==typeof a[b].data)a[b].data=[[1,a[b].data]];else if("undefined"==typeof a[b].data||"undefined"==typeof a[b].data[0])"undefined"!=typeof a[b].data&&"undefined"!=typeof a[b].data.label&&(a[b].label=a[b].data.label),a[b].data=[[1,0]];for(var b=a,c=0;c<b.length;++c){var e=parseFloat(b[c].data[0][1]);e&&(D+=e)}for(var c=b=0,e=d.series.pie.combine.color,g=[],j=0;j<a.length;++j)a[j].data[0][1]=
parseFloat(a[j].data[0][1]),a[j].data[0][1]||(a[j].data[0][1]=0),a[j].data[0][1]/D<=d.series.pie.combine.threshold?(b+=a[j].data[0][1],c++,e||(e=a[j].color)):g.push({data:[[1,a[j].data[0][1]]],color:a[j].color,label:a[j].label,angle:a[j].data[0][1]*2*Math.PI/D,percent:100*(a[j].data[0][1]/D)});0<c&&g.push({data:[[1,b]],color:e,label:d.series.pie.combine.label,angle:b*2*Math.PI/D,percent:100*(b/D)});return g}function g(b,c){function e(){ctx.clearRect(0,0,r.width,r.height);q.children().filter(".pieLabel, .pieLabelBackground").remove()}
function g(){function b(d,g,j){0>=d||(j?ctx.fillStyle=g:(ctx.strokeStyle=g,ctx.lineJoin="round"),ctx.beginPath(),1E-9<Math.abs(d-2*Math.PI)?ctx.moveTo(0,0):a.browser.msie&&(d-=1E-4),ctx.arc(0,0,c,e,e+d,!1),ctx.closePath(),e+=d,j?ctx.fill():ctx.stroke())}startAngle=Math.PI*d.series.pie.startAngle;var c=1<d.series.pie.radius?d.series.pie.radius:z*d.series.pie.radius;ctx.save();ctx.translate(p,F);ctx.scale(1,d.series.pie.tilt);ctx.save();for(var e=startAngle,n=0;n<j.length;++n)j[n].startAngle=e,b(j[n].angle,
j[n].color,!0);ctx.restore();ctx.save();ctx.lineWidth=d.series.pie.stroke.width;e=startAngle;for(n=0;n<j.length;++n)b(j[n].angle,d.series.pie.stroke.color,!1);ctx.restore();k(ctx);if(d.series.pie.label.show)for(var n=startAngle,t=1<d.series.pie.label.radius?d.series.pie.label.radius:z*d.series.pie.label.radius,G=0;G<j.length;++G){if(j[G].percent>=100*d.series.pie.label.threshold){var w=j[G],A=n,B=G;if(0!=w.data[0][1]){var D=d.legend.labelFormatter,C=void 0,M=d.series.pie.label.formatter,C=D?D(w.label,
w):w.label;M&&(C=M(C,w));D=(A+w.angle+A)/2;A=p+Math.round(Math.cos(D)*t);D=F+Math.round(Math.sin(D)*t)*d.series.pie.tilt;q.append('<span class="pieLabel" id="pieLabel'+B+'" style="position:absolute;top:'+D+"px;left:"+A+'px;">'+C+"</span>");B=q.children("#pieLabel"+B);C=D-B.height()/2;D=A-B.width()/2;B.css("top",C);B.css("left",D);if(0<0-C||0<0-D||0>r.height-(C+B.height())||0>r.width-(D+B.width()))E=!0;0!=d.series.pie.label.background.opacity&&(A=d.series.pie.label.background.color,null==A&&(A=w.color),
w="top:"+C+"px;left:"+D+"px;",a('<div class="pieLabelBackground" style="position:absolute;width:'+B.width()+"px;height:"+B.height()+"px;"+w+"background-color:"+A+';"> </div>').insertBefore(B).css("opacity",d.series.pie.label.background.opacity))}}n+=j[G].angle}ctx.restore()}if(q){ctx=c;W=q.children().filter(".legend").children().width();z=Math.min(r.width,r.height/d.series.pie.tilt)/2;F=r.height/2+d.series.pie.offset.top;p=r.width/2;p="auto"==d.series.pie.offset.left?d.legend.position.match("w")?
p+W/2:p-W/2:p+d.series.pie.offset.left;p<z?p=z:p>r.width-z&&(p=r.width-z);for(var j=b.getData(),n=0;E&&n<V;){E=!1;0<n&&(z*=ha);n+=1;e();if(0.8>=d.series.pie.tilt){var t=1<d.series.pie.radius?d.series.pie.radius:z*d.series.pie.radius;if(!(t>=r.width/2-5||t*d.series.pie.tilt>=r.height/2-15||10>=t)){ctx.save();ctx.translate(5,15);ctx.globalAlpha=0.02;ctx.fillStyle="#000";ctx.translate(p,F);ctx.scale(1,d.series.pie.tilt);for(var A=1;10>=A;A++)ctx.beginPath(),ctx.arc(0,0,t,0,2*Math.PI,!1),ctx.fill(),t-=
A;ctx.restore()}}g()}n>=V&&(e(),q.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>'));b.setSeries&&b.insertLegend&&(b.setSeries(j),b.insertLegend())}}function k(a){0<d.series.pie.innerRadius&&(a.save(),innerRadius=1<d.series.pie.innerRadius?d.series.pie.innerRadius:z*d.series.pie.innerRadius,a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=d.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),
a.save(),a.beginPath(),a.strokeStyle=d.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore())}function j(a){t("plothover",a)}function n(a){t("plotclick",a)}function t(a,c){var e=b.offset(),g=parseInt(c.pageX-e.left);a:{for(var e=parseInt(c.pageY-e.top),j=b.getData(),k=b.getOptions(),k=1<k.series.pie.radius?k.series.pie.radius:z*k.series.pie.radius,n=0;n<j.length;++n){var r=j[n];if(r.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,k,r.startAngle,
r.startAngle+r.angle,!1);ctx.closePath();x=g-p;y=e-F;if(ctx.isPointInPath){if(ctx.isPointInPath(g-p,e-F)){ctx.restore();g={datapoint:[r.percent,r.data],dataIndex:0,series:r,seriesIndex:n};break a}}else{p1X=k*Math.cos(r.startAngle);p1Y=k*Math.sin(r.startAngle);p2X=k*Math.cos(r.startAngle+r.angle/4);p2Y=k*Math.sin(r.startAngle+r.angle/4);p3X=k*Math.cos(r.startAngle+r.angle/2);p3Y=k*Math.sin(r.startAngle+r.angle/2);p4X=k*Math.cos(r.startAngle+r.angle/1.5);p4Y=k*Math.sin(r.startAngle+r.angle/1.5);p5X=
k*Math.cos(r.startAngle+r.angle);p5Y=k*Math.sin(r.startAngle+r.angle);arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];for(var t=!1,B=-1,D=arrPoly.length,E=D-1;++B<D;E=B)(arrPoly[B][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[E][1]||arrPoly[E][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[B][1])&&arrPoint[0]<(arrPoly[E][0]-arrPoly[B][0])*(arrPoint[1]-arrPoly[B][1])/(arrPoly[E][1]-arrPoly[B][1])+arrPoly[B][0]&&(t=!t);if(t){ctx.restore();g={datapoint:[r.percent,r.data],dataIndex:0,series:r,
seriesIndex:n};break a}}ctx.restore()}}g=null}if(d.grid.autoHighlight)for(e=0;e<S.length;++e)j=S[e],j.auto==a&&!(g&&j.series==g.series)&&(j=j.series,null==j&&(S=[],b.triggerRedrawOverlay()),"number"==typeof j&&(j=series[j]),j=A(j),-1!=j&&(S.splice(j,1),b.triggerRedrawOverlay()));g&&(e=g.series,"number"==typeof e&&(e=series[e]),j=A(e),-1==j?(S.push({series:e,auto:a}),b.triggerRedrawOverlay()):a||(S[j].auto=!1));q.trigger(a,[{pageX:c.pageX,pageY:c.pageY},g])}function A(a){for(var b=0;b<S.length;++b)if(S[b].series==
a)return b;return-1}function B(a,b){var c=a.getOptions(),d=1<c.series.pie.radius?c.series.pie.radius:z*c.series.pie.radius;b.save();b.translate(p,F);b.scale(1,c.series.pie.tilt);for(i=0;i<S.length;++i){var e=S[i].series;0>e.angle||(b.fillStyle="rgba(255, 255, 255, "+c.series.pie.highlight.opacity+")",b.beginPath(),1E-9<Math.abs(e.angle-2*Math.PI)&&b.moveTo(0,0),b.arc(0,0,d,e.startAngle,e.startAngle+e.angle,!1),b.closePath(),b.fill())}k(b);b.restore()}var r=null,q=null,z=null,p=null,F=null,D=0,E=!0,
V=10,ha=0.95,W=0,sa=!1,S=[];b.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==b.series.pie.radius&&(b.series.pie.radius=b.series.pie.label.show?0.75:1),1<b.series.pie.tilt&&(b.series.pie.tilt=1),0>b.series.pie.tilt&&(b.series.pie.tilt=0),a.hooks.processDatapoints.push(c),a.hooks.drawOverlay.push(B),a.hooks.draw.push(g))});b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&
c.grid.hoverable&&b.unbind("mousemove").mousemove(j);c.series.pie.show&&c.grid.clickable&&b.unbind("click").click(n)})},options:d,name:"pie",version:"1.0"})})(jQuery);
(function(a){a.plot.plugins.push({init:function(a){a.hooks.processDatapoints.push(function(a,c,d){if(null!=c.stack){var g;a=a.getData();for(var k=null,j=0;j<a.length&&c!=a[j];++j)a[j].stack==c.stack&&(k=a[j]);if(g=k){a=d.pointsize;k=d.points;j=g.datapoints.pointsize;g=g.datapoints.points;var n=[],t,A,B,r,q,z,p=c.lines.show;r=c.bars.horizontal;var F=2<a&&(r?d.format[2].x:d.format[2].y);c=p&&c.lines.steps;B=!0;for(var D=r?1:0,E=r?0:1,V=0,ha=0,W;!(V>=k.length);){W=n.length;if(null==k[V]){for(m=0;m<a;++m)n.push(k[V+
m]);V+=a}else if(ha>=g.length){if(!p)for(m=0;m<a;++m)n.push(k[V+m]);V+=a}else if(null==g[ha]){for(m=0;m<a;++m)n.push(null);B=!0;ha+=j}else{t=k[V+D];A=k[V+E];r=g[ha+D];q=g[ha+E];z=0;if(t==r){for(m=0;m<a;++m)n.push(k[V+m]);n[W+E]+=q;z=q;V+=a;ha+=j}else if(t>r){if(p&&0<V&&null!=k[V-a]){B=A+(k[V-a+E]-A)*(r-t)/(k[V-a+D]-t);n.push(r);n.push(B+q);for(m=2;m<a;++m)n.push(k[V+m]);z=q}ha+=j}else{if(B&&p){V+=a;continue}for(m=0;m<a;++m)n.push(k[V+m]);p&&(0<ha&&null!=g[ha-j])&&(z=q+(g[ha-j+E]-q)*(t-r)/(g[ha-j+
D]-r));n[W+E]+=z;V+=a}B=!1;W!=n.length&&F&&(n[W+2]+=z)}if(c&&W!=n.length&&0<W&&null!=n[W]&&n[W]!=n[W-a]&&n[W+1]!=n[W-a+1]){for(m=0;m<a;++m)n[W+a+m]=n[W+m];n[W+1]=n[W-a+1]}}d.points=n}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})})(jQuery);
(function(a){a.plot.plugins.push({init:function(a){function b(a,b){var c=a.bars.order,d=b.bars.order;return c<d?-1:c>d?1:0}function c(a,b,c){for(var d=0;b<=c;b++)d+=a[b].bars.barWidth+2*j;return d}var e,g,k,j,n=1;a.hooks.processDatapoints.push(function(a,d,B){var r=null;if(null!=d.bars&&d.bars.show&&null!=d.bars.order){for(var q=a.getPlaceholder().innerWidth(),z=a.getData(),p=[],F=0;F<z.length;F++)p[0]=z[F].data[0][0],p[1]=z[F].data[z[F].data.length-1][0];n=(p[1]-p[0])/q;a=a.getData();q=[];for(z=
0;z<a.length;z++)null!=a[z].bars.order&&a[z].bars.show&&q.push(a[z]);e=q.sort(b);g=e.length;k=d.bars.lineWidth?d.bars.lineWidth:2;j=k*n;if(2<=g){for(a=r=0;a<e.length;++a)if(d==e[a]){r=a;break}r+=1;a=a=0;0!=g%2&&(a=e[Math.ceil(g/2)].bars.barWidth/2);r=a=r<=Math.ceil(g/2)?-1*c(e,r-1,Math.floor(g/2)-1)-a:c(e,Math.ceil(g/2),r-2)+a;a=B.pointsize;q=B.points;for(p=z=0;p<q.length;p+=a)q[p]+=r,d.data[z][3]=q[p],z++;r=q;B.points=r}}return r})},options:{series:{bars:{order:null}}},name:"orderBars",version:"0.2"})})(jQuery);
document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new z(this))}function d(a,b,c){var d=ua.call(arguments,2);return function(){return a.apply(b,d.concat(ua.call(arguments)))}}function b(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function c(a){a.namespaces.g_vml_||a.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");a.namespaces.g_o_||a.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");
a.styleSheets.ex_canvas_||(a=a.createStyleSheet(),a.owningElement.id="ex_canvas_",a.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function e(a){var b=a.srcElement;switch(a.propertyName){case "width":b.getContext().clearRect();b.style.width=b.attributes.width.nodeValue+"px";b.firstChild.style.width=b.clientWidth+"px";break;case "height":b.getContext().clearRect(),b.style.height=b.attributes.height.nodeValue+"px",b.firstChild.style.height=b.clientHeight+
"px"}}function g(a){a=a.srcElement;a.firstChild&&(a.firstChild.style.width=a.clientWidth+"px",a.firstChild.style.height=a.clientHeight+"px")}function k(){return[[1,0,0],[0,1,0],[0,0,1]]}function j(a,b){for(var c=k(),d=0;3>d;d++)for(var e=0;3>e;e++){for(var g=0,j=0;3>j;j++)g+=a[d][j]*b[j][e];c[d][e]=g}return c}function n(a,b){b.fillStyle=a.fillStyle;b.lineCap=a.lineCap;b.lineJoin=a.lineJoin;b.lineWidth=a.lineWidth;b.miterLimit=a.miterLimit;b.shadowBlur=a.shadowBlur;b.shadowColor=a.shadowColor;b.shadowOffsetX=
a.shadowOffsetX;b.shadowOffsetY=a.shadowOffsetY;b.strokeStyle=a.strokeStyle;b.globalAlpha=a.globalAlpha;b.font=a.font;b.textAlign=a.textAlign;b.textBaseline=a.textBaseline;b.arcScaleX_=a.arcScaleX_;b.arcScaleY_=a.arcScaleY_;b.lineScale_=a.lineScale_}function t(a){var b=a.indexOf("(",3),c=a.indexOf(")",b+1),b=a.substring(b+1,c).split(",");4==b.length&&"a"==a.substr(3,1)?alpha=Number(b[3]):b[3]=1;return b}function A(a,b,c){return Math.min(c,Math.max(b,a))}function B(a,b,c){0>c&&c++;1<c&&c--;return 1>
6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}function r(a){var b=1;a=String(a);if("#"!=a.charAt(0))if(/^rgb/.test(a)){b=t(a);a="#";for(var c,d=0;3>d;d++)c=-1!=b[d].indexOf("%")?Math.floor(255*(parseFloat(b[d])/100)):Number(b[d]),a+=va[A(c,0,255)];b=b[3]}else if(/^hsl/.test(a)){a=b=t(a);h=parseFloat(a[0])/360%360;0>h&&h++;s=A(parseFloat(a[1])/100,0,1);l=A(parseFloat(a[2])/100,0,1);if(0==s)a=c=d=l;else{var d=0.5>l?l*(1+s):l+s-l*s,e=2*l-d;a=B(e,d,h+1/3);c=B(e,d,h);d=B(e,d,h-1/3)}a="#"+va[Math.floor(255*
a)]+va[Math.floor(255*c)]+va[Math.floor(255*d)];b=b[3]}else a=Ba[a]||a;return{color:a,alpha:b}}function q(a){switch(a){case "butt":return"flat";case "round":return"round";default:return"square"}}function z(a){this.m_=k();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*Y;this.globalAlpha=1;this.font="10px sans-serif";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=
a;var b=a.ownerDocument.createElement("div");b.style.width=a.clientWidth+"px";b.style.height=a.clientHeight+"px";b.style.overflow="hidden";b.style.position="absolute";a.appendChild(b);this.element_=b;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function p(a,b,c,d){a.currentPath_.push({type:"bezierCurveTo",cp1x:b.x,cp1y:b.y,cp2x:c.x,cp2y:c.y,x:d.x,y:d.y});a.currentX_=d.x;a.currentY_=d.y}function F(a,b){var c=r(a.strokeStyle),d=c.color,c=c.alpha*a.globalAlpha,e=a.lineScale_*a.lineWidth;1>e&&(c*=
e);b.push("<g_vml_:stroke",' opacity="',c,'"',' joinstyle="',a.lineJoin,'"',' miterlimit="',a.miterLimit,'"',' endcap="',q(a.lineCap),'"',' weight="',e,'px"',' color="',d,'" />')}function D(a,b,c,d){var e=a.fillStyle,g=a.arcScaleX_,j=a.arcScaleY_,k=d.x-c.x,n=d.y-c.y;if(e instanceof V){var p=0,q=d=0,t=0,z=1;if("gradient"==e.type_){p=e.x1_/g;c=e.y1_/j;var A=a.getCoords_(e.x0_/g,e.y0_/j),p=a.getCoords_(p,c),p=180*Math.atan2(p.x-A.x,p.y-A.y)/Math.PI;0>p&&(p+=360);1E-6>p&&(p=0)}else A=a.getCoords_(e.x0_,
e.y0_),d=(A.x-c.x)/k,q=(A.y-c.y)/n,k/=g*Y,n/=j*Y,z=sa.max(k,n),t=2*e.r0_/z,z=2*e.r1_/z-t;g=e.colors_;g.sort(function(a,b){return a.offset-b.offset});j=g.length;A=g[0].color;c=g[j-1].color;k=g[0].alpha*a.globalAlpha;a=g[j-1].alpha*a.globalAlpha;for(var n=[],B=0;B<j;B++){var D=g[B];n.push(D.offset*z+t+" "+D.color)}b.push('<g_vml_:fill type="',e.type_,'"',' method="none" focus="100%"',' color="',A,'"',' color2="',c,'"',' colors="',n.join(","),'"',' opacity="',a,'"',' g_o_:opacity2="',k,'"',' angle="',
p,'"',' focusposition="',d,",",q,'" />')}else e instanceof ha?k&&n&&b.push("<g_vml_:fill",' position="',-c.x/k*g*g,",",-c.y/n*j*j,'"',' type="tile"',' src="',e.src_,'" />'):(e=r(a.fillStyle),b.push('<g_vml_:fill color="',e.color,'" opacity="',e.alpha*a.globalAlpha,'" />'))}function E(a,b,c){isFinite(b[0][0])&&(isFinite(b[0][1])&&isFinite(b[1][0])&&isFinite(b[1][1])&&isFinite(b[2][0])&&isFinite(b[2][1]))&&(a.m_=b,c&&(a.lineScale_=ga(ia(b[0][0]*b[1][1]-b[0][1]*b[1][0]))))}function V(a){this.type_=a;
this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function ha(a,b){if(!a||1!=a.nodeType||"IMG"!=a.tagName)throw new W("TYPE_MISMATCH_ERR");if("complete"!=a.readyState)throw new W("INVALID_STATE_ERR");switch(b){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=b;break;default:throw new W("SYNTAX_ERR");}this.src_=a.src;this.width_=a.width;this.height_=a.height}function W(a){this.code=this[a];this.message=
a+": DOM Exception "+this.code}var sa=Math,S=sa.round,U=sa.sin,ba=sa.cos,ia=sa.abs,ga=sa.sqrt,Y=10,xa=Y/2,ua=Array.prototype.slice;c(document);var ta={init:function(a){/MSIE/.test(navigator.userAgent)&&!window.opera&&(a=a||document,a.createElement("canvas"),a.attachEvent("onreadystatechange",d(this.init_,this,a)))},init_:function(a){a=a.getElementsByTagName("canvas");for(var b=0;b<a.length;b++)this.initElement(a[b])},initElement:function(b){if(!b.getContext){b.getContext=a;c(b.ownerDocument);b.innerHTML=
"";b.attachEvent("onpropertychange",e);b.attachEvent("onresize",g);var d=b.attributes;d.width&&d.width.specified?b.style.width=d.width.nodeValue+"px":b.width=b.clientWidth;d.height&&d.height.specified?b.style.height=d.height.nodeValue+"px":b.height=b.clientHeight}return b}};ta.init();for(var va=[],N=0;16>N;N++)for(var na=0;16>na;na++)va[16*N+na]=N.toString(16)+na.toString(16);var Ba={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",
blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",
darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",
khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",
mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",
peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},
qa={},N=z.prototype;N.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};N.beginPath=function(){this.currentPath_=[]};N.moveTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"moveTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};N.lineTo=function(a,b){var c=this.getCoords_(a,b);this.currentPath_.push({type:"lineTo",x:c.x,y:c.y});this.currentX_=c.x;this.currentY_=c.y};N.bezierCurveTo=function(a,
b,c,d,e,g){e=this.getCoords_(e,g);a=this.getCoords_(a,b);c=this.getCoords_(c,d);p(this,a,c,e)};N.quadraticCurveTo=function(a,b,c,d){a=this.getCoords_(a,b);c=this.getCoords_(c,d);d={x:this.currentX_+2/3*(a.x-this.currentX_),y:this.currentY_+2/3*(a.y-this.currentY_)};p(this,d,{x:d.x+(c.x-this.currentX_)/3,y:d.y+(c.y-this.currentY_)/3},c)};N.arc=function(a,b,c,d,e,g){c*=Y;var j=g?"at":"wa",k=a+ba(d)*c-xa,n=b+U(d)*c-xa;d=a+ba(e)*c-xa;e=b+U(e)*c-xa;k==d&&!g&&(k+=0.125);a=this.getCoords_(a,b);k=this.getCoords_(k,
n);d=this.getCoords_(d,e);this.currentPath_.push({type:j,x:a.x,y:a.y,radius:c,xStart:k.x,yStart:k.y,xEnd:d.x,yEnd:d.y})};N.rect=function(a,b,c,d){this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath()};N.strokeRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.stroke();this.currentPath_=e};N.fillRect=function(a,b,c,d){var e=this.currentPath_;this.beginPath();
this.moveTo(a,b);this.lineTo(a+c,b);this.lineTo(a+c,b+d);this.lineTo(a,b+d);this.closePath();this.fill();this.currentPath_=e};N.createLinearGradient=function(a,b,c,d){var e=new V("gradient");e.x0_=a;e.y0_=b;e.x1_=c;e.y1_=d;return e};N.createRadialGradient=function(a,b,c,d,e,g){var j=new V("gradientradial");j.x0_=a;j.y0_=b;j.r0_=c;j.x1_=d;j.y1_=e;j.r1_=g;return j};N.drawImage=function(a,b){var c,d,e,g,j,k,n,p;e=a.runtimeStyle.width;g=a.runtimeStyle.height;a.runtimeStyle.width="auto";a.runtimeStyle.height=
"auto";var q=a.width,r=a.height;a.runtimeStyle.width=e;a.runtimeStyle.height=g;if(3==arguments.length)c=arguments[1],d=arguments[2],j=k=0,n=e=q,p=g=r;else if(5==arguments.length)c=arguments[1],d=arguments[2],e=arguments[3],g=arguments[4],j=k=0,n=q,p=r;else if(9==arguments.length)j=arguments[1],k=arguments[2],n=arguments[3],p=arguments[4],c=arguments[5],d=arguments[6],e=arguments[7],g=arguments[8];else throw Error("Invalid number of arguments");var t=this.getCoords_(c,d),z=[];z.push(" <g_vml_:group",
' coordsize="',10*Y,",",10*Y,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var A=[];A.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",S(t.x/Y),",","Dy=",S(t.y/Y),"");var B=this.getCoords_(c+e,d),D=this.getCoords_(c,d+g);c=this.getCoords_(c+e,d+g);t.x=sa.max(t.x,B.x,D.x,c.x);t.y=sa.max(t.y,B.y,D.y,c.y);z.push("padding:0 ",S(t.x/
Y),"px ",S(t.y/Y),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",A.join(""),", sizingmethod='clip');")}else z.push("top:",S(t.y/Y),"px;left:",S(t.x/Y),"px;");z.push(' ">','<g_vml_:image src="',a.src,'"',' style="width:',Y*e,"px;"," height:",Y*g,'px"',' cropleft="',j/q,'"',' croptop="',k/r,'"',' cropright="',(q-j-n)/q,'"',' cropbottom="',(r-k-p)/r,'"'," />","</g_vml_:group>");this.element_.insertAdjacentHTML("BeforeEnd",z.join(""))};N.stroke=function(a){for(var b={x:null,y:null},c={x:null,
y:null},d=0;d<this.currentPath_.length;d+=5E3){var e=[];e.push("<g_vml_:shape",' filled="',!!a,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*Y,",",10*Y,'"',' stroked="',!a,'"',' path="');for(var g=d;g<Math.min(d+5E3,this.currentPath_.length);g++){0==g%5E3&&0<g&&e.push(" m ",S(this.currentPath_[g-1].x),",",S(this.currentPath_[g-1].y));var j=this.currentPath_[g];switch(j.type){case "moveTo":e.push(" m ",S(j.x),",",S(j.y));break;case "lineTo":e.push(" l ",
S(j.x),",",S(j.y));break;case "close":e.push(" x ");j=null;break;case "bezierCurveTo":e.push(" c ",S(j.cp1x),",",S(j.cp1y),",",S(j.cp2x),",",S(j.cp2y),",",S(j.x),",",S(j.y));break;case "at":case "wa":e.push(" ",j.type," ",S(j.x-this.arcScaleX_*j.radius),",",S(j.y-this.arcScaleY_*j.radius)," ",S(j.x+this.arcScaleX_*j.radius),",",S(j.y+this.arcScaleY_*j.radius)," ",S(j.xStart),",",S(j.yStart)," ",S(j.xEnd),",",S(j.yEnd))}if(j){if(null==b.x||j.x<b.x)b.x=j.x;if(null==c.x||j.x>c.x)c.x=j.x;if(null==b.y||
j.y<b.y)b.y=j.y;if(null==c.y||j.y>c.y)c.y=j.y}}e.push(' ">');a?D(this,e,b,c):F(this,e);e.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",e.join(""))}};N.fill=function(){this.stroke(!0)};N.closePath=function(){this.currentPath_.push({type:"close"})};N.getCoords_=function(a,b){var c=this.m_;return{x:Y*(a*c[0][0]+b*c[1][0]+c[2][0])-xa,y:Y*(a*c[0][1]+b*c[1][1]+c[2][1])-xa}};N.save=function(){var a={};n(this,a);this.aStack_.push(a);this.mStack_.push(this.m_);this.m_=j(k(),this.m_)};
N.restore=function(){this.aStack_.length&&(n(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};N.translate=function(a,b){E(this,j([[1,0,0],[0,1,0],[a,b,1]],this.m_),!1)};N.rotate=function(a){var b=ba(a);a=U(a);E(this,j([[b,a,0],[-a,b,0],[0,0,1]],this.m_),!1)};N.scale=function(a,b){this.arcScaleX_*=a;this.arcScaleY_*=b;E(this,j([[a,0,0],[0,b,0],[0,0,1]],this.m_),!0)};N.transform=function(a,b,c,d,e,g){E(this,j([[a,b,0],[c,d,0],[e,g,1]],this.m_),!0)};N.setTransform=function(a,b,c,d,e,g){E(this,[[a,
b,0],[c,d,0],[e,g,1]],!0)};N.drawText_=function(a,c,d,e,g){var j=this.m_;e=0;var k=1E3,n=0,p=[],q;q=this.font;if(qa[q])q=qa[q];else{var r=document.createElement("div").style;try{r.font=q}catch(t){}q=qa[q]={style:r.fontStyle||"normal",variant:r.fontVariant||"normal",weight:r.fontWeight||"normal",size:r.fontSize||10,family:r.fontFamily||"sans-serif"}}var r=q,z=this.element_;q={};for(var A in r)q[A]=r[A];A=parseFloat(z.currentStyle.fontSize);z=parseFloat(r.size);q.size="number"==typeof r.size?r.size:
-1!=r.size.indexOf("px")?z:-1!=r.size.indexOf("em")?A*z:-1!=r.size.indexOf("%")?A/100*z:-1!=r.size.indexOf("pt")?z/0.75:A;q.size*=0.981;A=q.style+" "+q.variant+" "+q.weight+" "+q.size+"px "+q.family;z=this.element_.currentStyle;r=this.textAlign.toLowerCase();switch(r){case "left":case "center":case "right":break;case "end":r="ltr"==z.direction?"right":"left";break;case "start":r="rtl"==z.direction?"right":"left";break;default:r="left"}switch(this.textBaseline){case "hanging":case "top":n=q.size/1.75;
break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":n=-q.size/2.25}switch(r){case "right":e=1E3;k=0.05;break;case "center":e=k=500}c=this.getCoords_(c+0,d+n);p.push('<g_vml_:line from="',-e,' 0" to="',k,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!g,'" stroked="',!!g,'" style="position:absolute;width:1px;height:1px;">');g?F(this,p):D(this,p,{x:-e,y:0},{x:k,y:q.size});g=j[0][0].toFixed(3)+","+j[1][0].toFixed(3)+","+j[0][1].toFixed(3)+","+
j[1][1].toFixed(3)+",0,0";c=S(c.x/Y)+","+S(c.y/Y);p.push('<g_vml_:skew on="t" matrix="',g,'" ',' offset="',c,'" origin="',e,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',b(a),'" style="v-text-align:',r,";font:",b(A),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",p.join(""))};N.fillText=function(a,b,c,d){this.drawText_(a,b,c,d,!1)};N.strokeText=function(a,b,c,d){this.drawText_(a,b,c,d,!0)};N.measureText=function(a){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",
'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var b=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";this.textMeasureEl_.style.font=this.font;this.textMeasureEl_.appendChild(b.createTextNode(a));return{width:this.textMeasureEl_.offsetWidth}};N.clip=function(){};N.arcTo=function(){};N.createPattern=function(a,b){return new ha(a,b)};V.prototype.addColorStop=function(a,b){b=r(b);
this.colors_.push({offset:a,color:b.color,alpha:b.alpha})};N=W.prototype=Error();N.INDEX_SIZE_ERR=1;N.DOMSTRING_SIZE_ERR=2;N.HIERARCHY_REQUEST_ERR=3;N.WRONG_DOCUMENT_ERR=4;N.INVALID_CHARACTER_ERR=5;N.NO_DATA_ALLOWED_ERR=6;N.NO_MODIFICATION_ALLOWED_ERR=7;N.NOT_FOUND_ERR=8;N.NOT_SUPPORTED_ERR=9;N.INUSE_ATTRIBUTE_ERR=10;N.INVALID_STATE_ERR=11;N.SYNTAX_ERR=12;N.INVALID_MODIFICATION_ERR=13;N.NAMESPACE_ERR=14;N.INVALID_ACCESS_ERR=15;N.VALIDATION_ERR=16;N.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=ta;CanvasRenderingContext2D=
z;CanvasGradient=V;CanvasPattern=ha;DOMException=W}();(function(a){elFinder=function(d,b){function c(a,b){a&&g.view.win.width(a);b&&g.view.nav.add(g.view.cwd).height(b)}function e(){c(null,g.dialog.height()-g.view.tlb.parent().height()-(a.browser.msie?47:32))}var g=this,k;this.log=function(a){window.console&&window.console.log&&window.console.log(a)};this.options=a.extend({},this.options,b||{});if(this.options.url){this.id="";this.id=(k=a(d).attr("id"))?k:"el-finder-"+Math.random().toString().substring(2);this.version="1.1 RC3";this.jquery=a.fn.jquery.split(".").join("");
this.cwd={};this.cdc={};this.buffer={};this.selected=[];this.history=[];this.locked=!1;this.zIndex=2;this.dialog=null;this.anchor=this.options.docked?a("<div/>").hide().insertBefore(d):null;this.params={dotFiles:!1,arc:"",uplMaxSize:""};this.vCookie="el-finder-view-"+this.id;this.pCookie="el-finder-places-"+this.id;this.lCookie="el-finder-last-"+this.id;this.view=new this.view(this,d);this.ui=new this.ui(this);this.eventsManager=new this.eventsManager(this);this.quickLook=new this.quickLook(this);
this.cookie=function(b,c){if("undefined"==typeof c){if(document.cookie&&""!=document.cookie){var d,e=document.cookie.split(";");b+="=";for(d=0;d<e.length;d++)if(e[d]=a.trim(e[d]),e[d].substring(0,b.length)==b)return decodeURIComponent(e[d].substring(b.length))}return""}e=a.extend({},this.options.cookie);null===c&&(c="",e.expires=-1);"number"==typeof e.expires&&(d=new Date,d.setTime(d.getTime()+864E5*e.expires),e.expires=d);document.cookie=b+"="+encodeURIComponent(c)+"; expires="+e.expires.toUTCString()+
(e.path?"; path="+e.path:"")+(e.domain?"; domain="+e.domain:"")+(e.secure?"; secure":"")};this.lock=function(a){this.view.spinner(this.locked=a||!1);this.eventsManager.lock=this.locked};this.lockShortcuts=function(a){this.eventsManager.lock=a};this.setView=function(a){if("list"==a||"icons"==a)this.options.view=a,this.cookie(this.vCookie,a)};this.ajax=function(b,c,d){var e={url:this.options.url,async:!0,type:"GET",data:b,dataType:"json",cache:!1,lock:!0,force:!1,silent:!1};"object"==typeof d&&(e=a.extend({},
e,d));e.silent||(e.error=g.view.fatal);e.success=function(a){e.lock&&g.lock();a.debug&&g.log(a.debug);if(a.error&&(!e.silent&&g.view.error(a.error,a.errorData),!e.force))return;c(a);delete a};e.lock&&this.lock(!0);a.ajax(e)};this.tmb=function(){this.ajax({cmd:"tmb",current:g.cwd.hash},function(b){if("icons"==g.options.view&&b.images&&b.current==g.cwd.hash){for(var c in b.images)g.cdc[c]&&(g.cdc[c].tmb=b.images[c],a('div[key="'+c+'"]>p',g.view.cwd).css("background",' url("'+b.images[c]+'") 0 0 no-repeat'));
b.tmb&&g.tmb()}},{lock:!1,silent:!0})};this.getPlaces=function(){var a=[],b=this.cookie(this.pCookie);b.length&&(-1!=b.indexOf(":")?a=b.split(":"):a.push(b));return a};this.addPlace=function(b){var c=this.getPlaces();if(-1==a.inArray(b,c))return c.push(b),this.savePlaces(c),!0};this.removePlace=function(b){var c=this.getPlaces();if(-1!=a.inArray(b,c))return this.savePlaces(a.map(c,function(a){return a==b?null:a})),!0};this.savePlaces=function(a){this.cookie(this.pCookie,a.join(":"))};this.reload=
function(a){var b;this.cwd=a.cwd;this.cdc={};for(b=0;b<a.cdc.length;b++)this.cdc[a.cdc[b].hash]=a.cdc[b],this.cwd.size+=a.cdc[b].size;a.tree&&(this.view.renderNav(a.tree),this.eventsManager.updateNav());this.updateCwd();a.tmb&&(!g.locked&&"icons"==g.options.view)&&g.tmb();if(a.select&&a.select.length)for(b=a.select.length;b--;)this.cdc[a.select[b]]&&this.selectById(a.select[b]);this.lastDir(this.cwd.hash);0<this.options.autoReload&&(this.iID&&clearInterval(this.iID),this.iID=setInterval(function(){!g.locked&&
g.ui.exec("reload")},6E4*this.options.autoReload))};this.updateCwd=function(){this.lockShortcuts();this.selected=[];this.view.renderCwd();this.eventsManager.updateCwd();this.view.tree.find('a[key="'+this.cwd.hash+'"]').trigger("select")};this.drop=function(b,c,d){if(c.helper.find('[key="'+d+'"]').length)return g.view.error("Unable to copy into itself");var e=[];c.helper.find('div:not(.noaccess):has(>label):not(:has(em[class="readonly"],em[class=""]))').each(function(){e.push(a(this).hide().attr("key"))});
c.helper.find("div:has(>label):visible").length||c.helper.hide();e.length?(g.setBuffer(e,b.shiftKey?0:1,d),g.buffer.files&&setTimeout(function(){g.ui.exec("paste");g.buffer={}},300)):a(this).removeClass("el-finder-droppable")};this.getSelected=function(a){var b=[];if(0<=a)return this.cdc[this.selected[a]]||{};for(a=0;a<this.selected.length;a++)this.cdc[this.selected[a]]&&b.push(this.cdc[this.selected[a]]);return b};this.select=function(b,c){c&&a(".ui-selected",g.view.cwd).removeClass("ui-selected");
b.addClass("ui-selected");g.updateSelect()};this.selectById=function(b){b=a('[key="'+b+'"]',this.view.cwd);b.length&&(this.select(b),this.checkSelectedPos())};this.unselect=function(a){a.removeClass("ui-selected");g.updateSelect()};this.toggleSelect=function(a){a.toggleClass("ui-selected");this.updateSelect()};this.selectAll=function(){a("[key]",g.view.cwd).addClass("ui-selected");g.updateSelect()};this.unselectAll=function(){a(".ui-selected",g.view.cwd).removeClass("ui-selected");g.updateSelect()};
this.updateSelect=function(){g.selected=[];a(".ui-selected",g.view.cwd).each(function(){g.selected.push(a(this).attr("key"))});g.view.selectedInfo();g.ui.update();g.quickLook.update()};this.checkSelectedPos=function(a){var b=g.view.cwd.find(".ui-selected:"+(a?"last":"first")).eq(0);a=b.position();var b=b.outerHeight(),c=g.view.cwd.height();0>a.top?g.view.cwd.scrollTop(a.top+g.view.cwd.scrollTop()-2):c-a.top<b&&g.view.cwd.scrollTop(a.top+b-c+g.view.cwd.scrollTop())};this.setBuffer=function(a,b,c){this.buffer=
{src:this.cwd.hash,dst:c,files:[],names:[],cut:b||0};for(b=0;b<a.length;b++)if(c=a[b],(c=this.cdc[c])&&c.read&&"link"!=c.type)this.buffer.files.push(c.hash),this.buffer.names.push(c.name);this.buffer.files.length||(this.buffer={})};this.isValidName=function(a){return!this.cwd.dotFiles&&0==a.indexOf(".")?!1:a.match(/^[^\\\/\<\>:]+$/)};this.fileExists=function(a){for(var b in this.cdc)if(this.cdc[b].name==a)return b;return!1};this.uniqueName=function(a,b){var c=a=g.i18n(a),d=0;b=b||"";if(!this.fileExists(c+
b))return c+b;for(;100>d++;)if(!this.fileExists(c+d+b))return c+d+b;return c.replace("100","")+Math.random()+b};this.lastDir=function(a){if(this.options.rememberLastDir)return a?this.cookie(this.lCookie,a):this.cookie(this.lCookie)};this.time=function(){return(new Date).getMilliseconds()};this.setView(this.cookie(this.vCookie));c(g.options.width,g.options.height);if(this.options.dialog||this.options.docked)this.options.dialog=a.extend({width:570,dialogClass:"",minWidth:480,minHeight:330},this.options.dialog||
{}),this.options.dialog.dialogClass+="el-finder-dialog",this.options.dialog.resize=e,this.options.docked?(this.options.dialog.close=function(){g.dock()},this.view.win.data("size",{width:this.view.win.width(),height:this.view.nav.height()})):this.dialog=a("<div/>").append(this.view.win).dialog(this.options.dialog);this.ajax({cmd:"open",target:this.lastDir()||"",init:!0,tree:!0},function(b){b.cwd&&(g.eventsManager.init(),g.reload(b),g.params=b.params,a("*",document.body).each(function(){var b=parseInt(a(this).css("z-index"));
b>=g.zIndex&&(g.zIndex=b+1)}),g.ui.init(b.disabled))},{force:!0});this.open=function(){this.dialog?this.dialog.dialog("open"):this.view.win.show();this.eventsManager.lock=!1};this.close=function(){this.options.docked&&this.view.win.attr("undocked")?this.dock():this.dialog?this.dialog.dialog("close"):this.view.win.hide();this.eventsManager.lock=!0};this.dock=function(){if(this.options.docked&&this.view.win.attr("undocked")){var a=this.view.win.data("size");this.view.win.insertAfter(this.anchor).removeAttr("undocked");
c(a.width,a.height);this.dialog.dialog("destroy");this.dialog=null}};this.undock=function(){this.options.docked&&!this.view.win.attr("undocked")&&(this.dialog=a("<div/>").append(this.view.win.css("width","100%").attr("undocked",!0).show()).dialog(this.options.dialog),e())}}else alert("Invalid configuration! You have to set URL option.")};elFinder.prototype.i18n=function(a){return this.options.i18n[this.options.lang]&&this.options.i18n[this.options.lang][a]?this.options.i18n[this.options.lang][a]:
a};elFinder.prototype.options={url:"",lang:"en",cssClass:"",wrap:14,places:"Places",placesFirst:!0,editorCallback:null,cutURL:"",closeOnEditorCallback:!0,i18n:{},view:"icons",width:"",height:"",disableShortcuts:!1,rememberLastDir:!0,cookie:{expires:30,domain:"",path:"/",secure:!1},toolbar:[["back","reload"],["select","open"],["mkdir","mkfile","upload"],["copy","paste","rm"],["rename","edit"],["info","quicklook"],["icons","list"],["help"]],contextmenu:{cwd:"reload delim mkdir mkfile upload delim paste delim info".split(" "),
file:"select open quicklook delim copy cut rm delim duplicate rename edit resize archive extract delim info".split(" "),group:"copy cut rm delim archive extract delim info".split(" ")},dialog:null,docked:!1,autoReload:0};a.fn.elfinder=function(a){return this.each(function(){var b="string"==typeof a?a:"";this.elfinder||(this.elfinder=new elFinder(this,"object"==typeof a?a:{}));switch(b){case "close":case "hide":this.elfinder.close();break;case "open":case "show":this.elfinder.open();break;case "dock":this.elfinder.dock();
break;case "undock":this.elfinder.undock()}})}})(jQuery);
(function(a){elFinder.prototype.view=function(d,b){var c=this;this.fm=d;this.kinds={unknown:"Unknown",directory:"Folder",symlink:"Alias","symlink-broken":"Broken alias","application/x-empty":"Plain text","application/postscript":"Postscript document","application/octet-stream":"Application","application/vnd.ms-office":"Microsoft Office document","application/vnd.ms-word":"Microsoft Word document","application/vnd.ms-excel":"Microsoft Excel document","application/vnd.ms-powerpoint":"Microsoft Powerpoint presentation",
"application/pdf":"Portable Document Format (PDF)","application/vnd.oasis.opendocument.text":"Open Office document","application/x-shockwave-flash":"Flash application","application/xml":"XML document","application/x-bittorrent":"Bittorrent file","application/x-7z-compressed":"7z archive","application/x-tar":"TAR archive","application/x-gzip":"GZIP archive","application/x-bzip2":"BZIP archive","application/zip":"ZIP archive","application/x-rar":"RAR archive","application/javascript":"Javascript application",
"text/plain":"Plain text","text/x-php":"PHP source","text/html":"HTML document","text/javascript":"Javascript source","text/css":"CSS style sheet","text/rtf":"Rich Text Format (RTF)","text/rtfd":"RTF with attachments (RTFD)","text/x-c":"C source","text/x-c++":"C++ source","text/x-shellscript":"Unix shell script","text/x-python":"Python source","text/x-java":"Java source","text/x-ruby":"Ruby source","text/x-perl":"Perl script","text/xml":"XML document","image/x-ms-bmp":"BMP image","image/jpeg":"JPEG image",
"image/gif":"GIF Image","image/png":"PNG image","image/x-targa":"TGA image","image/tiff":"TIFF image","image/vnd.adobe.photoshop":"Adobe Photoshop image","audio/mpeg":"MPEG audio","audio/midi":"MIDI audio","audio/ogg":"Ogg Vorbis audio","audio/mp4":"MP4 audio","audio/wav":"WAV audio","video/x-dv":"DV video","video/mp4":"MP4 video","video/mpeg":"MPEG video","video/x-msvideo":"AVI video","video/quicktime":"Quicktime video","video/x-ms-wmv":"WM video","video/x-flv":"Flash video","video/x-matroska":"Matroska video"};
this.tlb=a("<ul />");this.nav=a('<div class="el-finder-nav"/>').resizable({handles:"e",autoHide:!0,minWidth:200,maxWidth:500});this.cwd=a('<div class="el-finder-cwd"/>').attr("unselectable","on");this.spn=a('<div class="el-finder-spinner"/>');this.err=a('<p class="el-finder-err"><strong/></p>').click(function(){a(this).hide()});this.nfo=a('<div class="el-finder-stat"/>');this.pth=a('<div class="el-finder-path"/>');this.sel=a('<div class="el-finder-sel"/>');this.stb=a('<div class="el-finder-statusbar"/>').append(this.pth).append(this.nfo).append(this.sel);
this.wrz=a('<div class="el-finder-workzone" />').append(this.nav).append(this.cwd).append(this.spn).append(this.err).append('<div style="clear:both" />');this.win=a(b).empty().attr("id",this.fm.id).addClass("el-finder "+(d.options.cssClass||"")).append(a('<div class="el-finder-toolbar" />').append(this.tlb)).append(this.wrz).append(this.stb);this.tree=a('<ul class="el-finder-tree"></ul>').appendTo(this.nav);this.plc=a('<ul class="el-finder-places"><li><a href="#" class="el-finder-places-root"><div/>'+
this.fm.i18n(this.fm.options.places)+"</a><ul/></li></ul>").hide();this.nav[this.fm.options.placesFirst?"prepend":"append"](this.plc);this.spinner=function(a){this.win.toggleClass("el-finder-disabled",a);this.spn.toggle(a)};this.fatal=function(a){c.error("404"!=a.status?"Invalid backend configuration":"Unable to connect to backend")};this.error=function(a,b){this.fm.lock();this.err.show().children("strong").html(this.fm.i18n(a)+"!"+this.formatErrorData(b));setTimeout(function(){c.err.fadeOut("slow")},
4E3)};this.renderNav=function(a){function b(a){var c,d,e='<ul style="display:none">';for(c=0;c<a.length;c++)d="",!a[c].read&&!a[c].write?d="noaccess":a[c].read?a[c].write||(d="readonly"):d="dropbox",e+='<li><a href="#" class="'+d+'" key="'+a[c].hash+'"><div'+(a[c].dirs.length?' class="collapsed"':"")+"/>"+a[c].name+"</a>",a[c].dirs.length&&(e+=b(a[c].dirs)),e+="</li>";return e+"</ul>"}var c=a.dirs.length?b(a.dirs):"";this.tree.html('<li><a href="#" class="el-finder-tree-root" key="'+a.hash+'"><div'+
(c?' class="collapsed expanded"':"")+"/>"+a.name+"</a>"+c+"</li>");this.fm.options.places&&this.renderPlaces()};this.renderPlaces=function(){var b,d,k=this.fm.getPlaces(),j=this.plc.show().find("ul").empty().hide();a("div:first",this.plc).removeClass("collapsed expanded");if(k.length){k.sort(function(a,b){var d=c.tree.find('a[key="'+a+'"]').text()||"",e=c.tree.find('a[key="'+b+'"]').text()||"";return d.localeCompare(e)});for(b=0;b<k.length;b++)(d=this.tree.find('a[key="'+k[b]+'"]:not(.dropbox)').parent())&&
d.length?j.append(d.clone().children("ul").remove().end().find("div").removeClass("collapsed expanded").end()):this.fm.removePlace(k[b]);j.children().length&&a("div:first",this.plc).addClass("collapsed")}};this.renderCwd=function(){this.cwd.empty();var a=0,b=0,c="",j;for(j in this.fm.cdc)a++,b+=this.fm.cdc[j].size,c+="icons"==this.fm.options.view?this.renderIcon(this.fm.cdc[j]):this.renderRow(this.fm.cdc[j],a%2);"icons"==this.fm.options.view?this.cwd.append(c):this.cwd.append('<table><tr><th colspan="2">'+
this.fm.i18n("Name")+"</th><th>"+this.fm.i18n("Permissions")+"</th><th>"+this.fm.i18n("Modified")+'</th><th class="size">'+this.fm.i18n("Size")+"</th><th>"+this.fm.i18n("Kind")+"</th></tr>"+c+"</table>");this.pth.text(d.cwd.rel);this.nfo.text(d.i18n("items")+": "+a+", "+this.formatSize(b));this.sel.empty()};this.renderIcon=function(a){var b="<p"+(a.tmb?" style=\"background:url('"+a.tmb+"') 0 0 no-repeat\"":"")+"/><label>"+this.formatName(a.name)+"</label>";if(a.link||"symlink-broken"==a.mime)b+="<em/>";
!a.read&&!a.write?b+='<em class="noaccess"/>':a.read&&!a.write?b+='<em class="readonly"/>':!a.read&&a.write&&(b+='<em class="'+("directory"==a.mime?"dropbox":"noread")+'" />');return'<div class="'+this.mime2class(a.mime)+'" key="'+a.hash+'">'+b+"</div>"};this.renderRow=function(a,b){var d=a.link||"symlink-broken"==a.mime?"<em/>":"";!a.read&&!a.write?d+='<em class="noaccess"/>':a.read&&!a.write?d+='<em class="readonly"/>':!a.read&&a.write&&(d+='<em class="'+("directory"==a.mime?"dropbox":"noread")+
'" />');return'<tr key="'+a.hash+'" class="'+c.mime2class(a.mime)+(b?" el-finder-row-odd":"")+'"><td class="icon"><p>'+d+"</p></td><td>"+a.name+"</td><td>"+c.formatPermissions(a.read,a.write,a.rm)+"</td><td>"+c.formatDate(a.date)+'</td><td class="size">'+c.formatSize(a.size)+"</td><td>"+c.mime2kind(a.link?"symlink":a.mime)+"</td></tr>"};this.updateFile=function(a){var b=this.cwd.find('[key="'+a.hash+'"]');b.replaceWith("DIV"==b[0].nodeName?this.renderIcon(a):this.renderRow(a))};this.selectedInfo=
function(){var a,b=0,d;if(c.fm.selected.length){d=this.fm.getSelected();for(a=0;a<d.length;a++)b+=d[a].size}this.sel.text(0<a?this.fm.i18n("selected items")+": "+d.length+", "+this.formatSize(b):"")};this.formatName=function(a){var b=c.fm.options.wrap;if(0<b){if(a.length>2*b)return a.substr(0,b)+"&shy;"+a.substr(b,b-5)+"&hellip;"+a.substr(a.length-3);if(a.length>b)return a.substr(0,b)+"&shy;"+a.substr(b)}return a};this.formatErrorData=function(a){var b,d="";if("object"==typeof a)for(b in d="<br />",
a)d+=b+" "+c.fm.i18n(a[b])+"<br />";return d};this.mime2class=function(a){return a.replace("/"," ").replace(/\./g,"-")};this.formatDate=function(a){return a.replace(/([a-z]+)\s/i,function(a,b){return c.fm.i18n(b)+" "})};this.formatSize=function(a){var b=1,c="";1073741824<a?(b=1073741824,c="Gb"):1048576<a?(b=1048576,c="Mb"):1024<a&&(b=1024,c="Kb");return Math.round(a/b)+" "+c};this.formatPermissions=function(a,b,d){var j=[];a&&j.push(c.fm.i18n("read"));b&&j.push(c.fm.i18n("write"));d&&j.push(c.fm.i18n("remove"));
return j.join("/")};this.mime2kind=function(a){return this.fm.i18n(this.kinds[a]||"unknown")}}})(jQuery);
(function(a){elFinder.prototype.ui=function(d){var b=this;this.fm=d;this.cmd={};this.buttons={};this.menu=a('<div class="el-finder-contextmenu" />').appendTo(document.body).hide();this.dockButton=a('<div class="el-finder-dock-button" title="'+b.fm.i18n("Dock/undock filemanger window")+'" />');this.exec=function(b,d){if(this.cmd[b]){if("open"!=b&&!this.cmd[b].isAllowed())return this.fm.view.error("Command not allowed");this.fm.locked||(this.fm.quickLook.hide(),a(".el-finder-info").remove(),this.cmd[b].exec(d),
this.update())}};this.cmdName=function(a){return this.cmd[a]&&this.cmd[a].name?"archive"==a&&1==this.fm.params.archives.length?this.fm.i18n("Create")+" "+this.fm.view.mime2kind(this.fm.params.archives[0]).toLowerCase():this.fm.i18n(this.cmd[a].name):a};this.isCmdAllowed=function(a){return b.cmd[a]&&b.cmd[a].isAllowed()};this.execIfAllowed=function(a){this.isCmdAllowed(a)&&this.exec(a)};this.includeInCm=function(a,b){return this.isCmdAllowed(a)&&this.cmd[a].cm(b)};this.showMenu=function(c){var d,g,
k,j,n;this.hideMenu();d=b.fm.selected.length?1==b.fm.selected.length?"file":"group":"cwd";var t=b.fm.options.contextmenu[d]||[];for(g=0;g<t.length;g++)if("delim"==t[g])b.menu.children().length&&!b.menu.children(":last").hasClass("delim")&&b.menu.append('<div class="delim" />');else if(b.fm.ui.includeInCm(t[g],d)){j=b.cmd[t[g]].argc();n="";if(j.length){n='<span/><div class="el-finder-contextmenu-sub" style="z-index:'+(parseInt(b.menu.css("z-index"))+1)+'">';for(k=0;k<j.length;k++)n+='<div name="'+
t[g]+'" argc="'+j[k].argc+'" class="'+j[k]["class"]+'">'+j[k].text+"</div>";n+="</div>"}b.menu.append('<div class="'+t[g]+'" name="'+t[g]+'">'+n+b.cmdName(t[g])+"</div>")}k=a(window);d=k.height();g=k.width();k=k.scrollTop();j=this.menu.width();n=this.menu.height();this.menu.css({left:c.clientX+j>g?c.clientX-j:c.clientX,top:c.clientY+n>d&&c.clientY>n?c.clientY+k-n:c.clientY+k}).show().find("div[name]").hover(function(){var b=a(this),c=b.children("div"),d;b.addClass("hover");c.length&&(c.attr("pos")||
(d=b.outerWidth(),c.css(a(window).width()-d-b.offset().left>c.width()?"left":"right",d-5).attr("pos",!0)),c.show())},function(){a(this).removeClass("hover").children("div").hide()}).click(function(c){c.stopPropagation();c=a(this);c.children("div").length||(b.hideMenu(),b.exec(c.attr("name"),c.attr("argc")))})};this.hideMenu=function(){this.menu.hide().empty()};this.update=function(){for(var a in this.buttons)this.buttons[a].toggleClass("disabled",!this.cmd[a].isAllowed())};this.init=function(c){var d,
g,k=!1,j=this.fm.options.toolbar;this.fm.options.editorCallback||c.push("select");!b.fm.params.archives.length&&-1==a.inArray("archive",c)&&c.push("archive");for(d in this.commands)-1==a.inArray(d,c)&&(this.commands[d].prototype=this.command.prototype,this.cmd[d]=new this.commands[d](this.fm));for(d=0;d<j.length;d++){k&&this.fm.view.tlb.append('<li class="delim" />');k=!1;for(c=0;c<j[d].length;c++)g=j[d][c],this.cmd[g]&&(k=!0,this.buttons[g]=a('<li class="'+g+'" title="'+this.cmdName(g)+'" name="'+
g+'" />').appendTo(this.fm.view.tlb).click(function(a){a.stopPropagation()}).bind("click",function(b){return function(){!a(this).hasClass("disabled")&&b.exec(a(this).attr("name"))}}(this)).hover(function(){!a(this).hasClass("disabled")&&a(this).addClass("el-finder-tb-hover")},function(){a(this).removeClass("el-finder-tb-hover")}))}this.update();this.menu.css("z-index",this.fm.zIndex);this.fm.options.docked&&this.dockButton.hover(function(){a(this).addClass("el-finder-dock-button-hover")},function(){a(this).removeClass("el-finder-dock-button-hover")}).click(function(){b.fm.view.win.attr("undocked")?
b.fm.dock():b.fm.undock();a(this).trigger("mouseout")}).prependTo(this.fm.view.tlb)}};elFinder.prototype.ui.prototype.command=function(){};elFinder.prototype.ui.prototype.command.prototype.isAllowed=function(){return!0};elFinder.prototype.ui.prototype.command.prototype.cm=function(){return!1};elFinder.prototype.ui.prototype.command.prototype.argc=function(){return[]};elFinder.prototype.ui.prototype.commands={back:function(a){var b=this;this.name="Back";this.fm=a;this.exec=function(){this.fm.history.length&&
this.fm.ajax({cmd:"open",target:this.fm.history.pop()},function(a){b.fm.reload(a)})};this.isAllowed=function(){return this.fm.history.length}},reload:function(a){var b=this;this.name="Reload";this.fm=a;this.exec=function(){this.fm.ajax({cmd:"open",target:this.fm.cwd.hash,tree:!0},function(a){b.fm.reload(a)})};this.cm=function(a){return"cwd"==a}},open:function(d){var b=this;this.name="Open";this.fm=d;this.exec=function(c){var d=null,d=c?{hash:a(c).attr("key"),mime:"directory",read:!a(c).hasClass("noaccess")&&
!a(c).hasClass("dropbox")}:this.fm.getSelected(0);if(d.hash){if(!d.read)return this.fm.view.error("Access denied");if("link"==d.type&&!d.link)return this.fm.view.error("Unable to open broken link");"directory"==d.mime?(c=d.link||d.hash,b.fm.history.push(b.fm.cwd.hash),b.fm.ajax({cmd:"open",target:c},function(a){b.fm.reload(a)})):(c=d,d="",c.dim&&(d=c.dim.split("x"),d="width="+(parseInt(d[0])+20)+",height="+(parseInt(d[1])+20)+","),window.open(c.url||b.fm.options.url+"?cmd=open&current="+(c.parent||
b.fm.cwd.hash)+"&target="+(c.link||c.hash),!1,"top=50,left=50,"+d+"scrollbars=yes,resizable=yes"))}};this.isAllowed=function(){return 1==this.fm.selected.length&&this.fm.getSelected(0).read};this.cm=function(a){return"file"==a}},select:function(a){this.name="Select file";this.fm=a;this.exec=function(){var a=this.fm.getSelected(0);if(!a.url)return this.fm.view.error("File URL disabled by connector config");this.fm.options.editorCallback("root"==this.fm.options.cutURL?a.url.substr(this.fm.params.url.length):
a.url.replace(RegExp("^("+this.fm.options.cutURL+")"),""));this.fm.options.closeOnEditorCallback&&(this.fm.dock(),this.fm.close())};this.isAllowed=function(){return 1==this.fm.selected.length&&!/(symlink\-broken|directory)/.test(this.fm.getSelected(0).mime)};this.cm=function(a){return"file"==a}},quicklook:function(a){var b=this;this.name="Preview with Quick Look";this.fm=a;this.exec=function(){b.fm.quickLook.toggle()};this.isAllowed=function(){return 1==this.fm.selected.length};this.cm=function(){return!0}},
info:function(d){var b=this;this.name="Get info";this.fm=d;this.exec=function(){function c(c){var n=["50%","50%"],t,A='<table cellspacing="0"><tr><td>'+b.fm.i18n("Name")+"</td><td>"+c.name+"</td></tr><tr><td>"+b.fm.i18n("Kind")+"</td><td>"+b.fm.view.mime2kind(c.link?"symlink":c.mime)+"</td></tr><tr><td>"+b.fm.i18n("Size")+"</td><td>"+b.fm.view.formatSize(c.size)+"</td></tr><tr><td>"+b.fm.i18n("Modified")+"</td><td>"+b.fm.view.formatDate(c.date)+"</td></tr><tr><td>"+b.fm.i18n("Permissions")+"</td><td>"+
b.fm.view.formatPermissions(c.read,c.write,c.rm)+"</td></tr>";c.link&&(A+="<tr><td>"+b.fm.i18n("Link to")+"</td><td>"+c.linkTo+"</td></tr>");c.dim&&(A+="<tr><td>"+b.fm.i18n("Dimensions")+"</td><td>"+c.dim+" px.</td></tr>");c.url&&(A+="<tr><td>"+b.fm.i18n("URL")+'</td><td><a href="'+c.url+'" target="_blank">'+c.url+"</a></td></tr>");1<d&&(t=a(".el-finder-dialog-info:last"),t.length?(n=t.offset().left+10,t=t.offset().top+10,n=[n<g-350?n:20,t<k-300?t:20]):(n=Math.round((g-350)/2-10*d),t=Math.round((k-
300)/2-10*d),n=[20<n?n:20,20<t?t:20]));a("<div />").append(A+"</table>").dialog({dialogClass:"el-finder-dialog el-finder-dialog-info",width:390,position:n,title:b.fm.i18n("directory"==c.mime?"Folder info":"File info"),close:function(){0>=--d&&b.fm.lockShortcuts();a(this).dialog("destroy")},buttons:{Ok:function(){a(this).dialog("close")}}})}var d=this.fm.selected.length,g=a(window).width(),k=a(window).height();this.fm.lockShortcuts(!0);d?a.each(this.fm.getSelected(),function(){c(this)}):c(b.fm.cwd)};
this.cm=function(){return!0}},rename:function(d){var b=this;this.name="Rename";this.fm=d;this.exec=function(){function c(){j.html(A);b.fm.lockShortcuts()}function d(){if(!b.fm.locked){var a,e=n.val();if(t.name==n.val())return c();b.fm.isValidName(e)?b.fm.fileExists(e)&&(a="File or folder with the same name already exists"):a="Invalid name";if(a)return b.fm.view.error(a),k.addClass("ui-selected"),b.fm.lockShortcuts(!0),n.select().focus();b.fm.ajax({cmd:"rename",current:b.fm.cwd.hash,target:t.hash,
name:e},function(a){a.error?c():("directory"==t.mime&&b.fm.removePlace(t.hash)&&b.fm.addPlace(a.target),b.fm.reload(a))},{force:!0})}}var g=this.fm.getSelected(),k,j,n,t,A;1==g.length&&(t=g[0],k=this.fm.view.cwd.find('[key="'+t.hash+'"]'),j="icons"==this.fm.options.view?k.children("label"):k.find("td").eq(1),A=j.html(),n=a('<input type="text" />').val(t.name).appendTo(j.empty()).bind("change blur",d).keydown(function(b){b.stopPropagation();27==b.keyCode?c():13==b.keyCode&&(t.name==n.val()?c():a(this).trigger("change"))}).click(function(a){a.stopPropagation()}).select().focus(),
this.fm.lockShortcuts(!0))};this.isAllowed=function(){return this.fm.cwd.write&&this.fm.getSelected(0).write};this.cm=function(a){return"file"==a}},copy:function(a){this.name="Copy";this.fm=a;this.exec=function(){this.fm.setBuffer(this.fm.selected)};this.isAllowed=function(){if(this.fm.selected.length)for(var a=this.fm.getSelected(),c=a.length;c--;)if(a[c].read)return!0;return!1};this.cm=function(a){return"cwd"!=a}},cut:function(a){this.name="Cut";this.fm=a;this.exec=function(){this.fm.setBuffer(this.fm.selected,
1)};this.isAllowed=function(){if(this.fm.selected.length)for(var a=this.fm.getSelected(),c=a.length;c--;)if(a[c].read&&a[c].rm)return!0;return!1};this.cm=function(a){return"cwd"!=a}},paste:function(a){var b=this;this.name="Paste";this.fm=a;this.exec=function(){var a;this.fm.buffer.dst||(this.fm.buffer.dst=this.fm.cwd.hash);a=this.fm.view.tree.find('[key="'+this.fm.buffer.dst+'"]');if(!a.length||a.hasClass("noaccess")||a.hasClass("readonly"))return this.fm.view.error("Access denied");if(this.fm.buffer.src==
this.fm.buffer.dst)return this.fm.view.error("Unable to copy into itself");a={cmd:"paste",current:this.fm.cwd.hash,src:this.fm.buffer.src,dst:this.fm.buffer.dst,cut:this.fm.buffer.cut};132<this.fm.jquery?a.targets=this.fm.buffer.files:a["targets[]"]=this.fm.buffer.files;this.fm.ajax(a,function(a){a.cdc&&b.fm.reload(a)},{force:!0})};this.isAllowed=function(){return this.fm.buffer.files};this.cm=function(a){return"cwd"==a}},rm:function(d){var b=this;this.name="Remove";this.fm=d;this.exec=function(){var c,
d=[],g=this.fm.getSelected();for(c=0;c<g.length;c++){if(!g[c].rm)return this.fm.view.error(g[c].name+": "+this.fm.i18n("Access denied"));d.push(g[c].hash)}d.length&&(this.fm.lockShortcuts(!0),a('<div><div class="ui-state-error ui-corner-all"><span class="ui-icon ui-icon-alert"/><strong>'+this.fm.i18n("Are you shure you want to remove files?<br /> This cannot be undone!")+"</strong></div></div>").dialog({title:this.fm.i18n("Confirmation required"),dialogClass:"el-finder-dialog",width:350,close:function(){b.fm.lockShortcuts()},
buttons:{Cancel:function(){a(this).dialog("close")},Ok:function(){a(this).dialog("close");var c={cmd:"rm",current:b.fm.cwd.hash};132<b.fm.jquery?c.targets=d:c["targets[]"]=d;b.fm.ajax(c,function(a){a.tree&&b.fm.reload(a)},{force:!0})}}}))};this.isAllowed=function(){if(this.fm.selected.length)for(var a=this.fm.getSelected(),b=a.length;b--;)if(a[b].rm)return!0;return!1};this.cm=function(a){return"cwd"!=a}},mkdir:function(d){var b=this;this.name="New folder";this.fm=d;this.exec=function(){function c(){if(!b.fm.locked){var a,
c=input.val();b.fm.isValidName(c)?b.fm.fileExists(c)&&(a="File or folder with the same name already exists"):a="Invalid name";if(a)return b.fm.view.error(a),b.fm.lockShortcuts(!0),el.addClass("ui-selected"),input.select().focus();b.fm.ajax({cmd:"mkdir",current:b.fm.cwd.hash,name:c},function(a){if(a.error)return el.addClass("ui-selected"),input.select().focus();b.fm.reload(a)},{force:!0})}}b.fm.unselectAll();var d=this.fm.uniqueName("untitled folder");input=a('<input type="text"/>').val(d);prev=this.fm.view.cwd.find(".directory:last");
f={name:d,hash:"",mime:"directory",read:!0,write:!0,date:"",size:0};el="list"==this.fm.options.view?a(this.fm.view.renderRow(f)).children("td").eq(1).empty().append(input).end().end():a(this.fm.view.renderIcon(f)).children("label").empty().append(input).end();el.addClass("directory ui-selected");prev.length?el.insertAfter(prev):"list"==this.fm.options.view?el.insertAfter(this.fm.view.cwd.find("tr").eq(0)):el.prependTo(this.fm.view.cwd);b.fm.checkSelectedPos();input.select().focus().click(function(a){a.stopPropagation()}).bind("change blur",
c).keydown(function(a){a.stopPropagation();27==a.keyCode?(el.remove(),b.fm.lockShortcuts()):13==a.keyCode&&c()});b.fm.lockShortcuts(!0)};this.isAllowed=function(){return this.fm.cwd.write};this.cm=function(a){return"cwd"==a}},mkfile:function(d){var b=this;this.name="New text file";this.fm=d;this.exec=function(){function c(){if(!b.fm.locked){var a,c=g.val();b.fm.isValidName(c)?b.fm.fileExists(c)&&(a="File or folder with the same name already exists"):a="Invalid name";if(a)return b.fm.view.error(a),
b.fm.lockShortcuts(!0),k.addClass("ui-selected"),g.select().focus();b.fm.ajax({cmd:"mkfile",current:b.fm.cwd.hash,name:c},function(a){if(a.error)return k.addClass("ui-selected"),g.select().focus();b.fm.reload(a)},{force:!0})}}b.fm.unselectAll();var d=this.fm.uniqueName("untitled file",".txt"),g=a('<input type="text"/>').val(d),d={name:d,hash:"",mime:"text/plain",read:!0,write:!0,date:"",size:0},k="list"==this.fm.options.view?a(this.fm.view.renderRow(d)).children("td").eq(1).empty().append(g).end().end():
a(this.fm.view.renderIcon(d)).children("label").empty().append(g).end();k.addClass("text ui-selected").appendTo("list"==this.fm.options.view?b.fm.view.cwd.children("table"):b.fm.view.cwd);g.select().focus().bind("change blur",c).click(function(a){a.stopPropagation()}).keydown(function(a){a.stopPropagation();27==a.keyCode?(k.remove(),b.fm.lockShortcuts()):13==a.keyCode&&c()});b.fm.lockShortcuts(!0)};this.isAllowed=function(){return this.fm.cwd.write};this.cm=function(a){return"cwd"==a}},upload:function(d){var b=
this;this.name="Upload files";this.fm=d;this.exec=function(){function c(){function c(){try{p=j.contentWindow?j.contentWindow.document:j.contentDocument?j.contentDocument:j.document;if(null==p.body||""==p.body.innerHTML){if(--k)return setTimeout(c,100);b.fm.lock();g.remove();return b.fm.view.error("Unable to access iframe DOM after 50 tries")}t=a(p.body).html();A=141<=b.fm.jquery?a.parseJSON(t):/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?window.JSON&&window.JSON.parse?window.JSON.parse(t):(new Function("return "+t))():{error:"Unable to parse server response"}}catch(d){A={error:"Unable to parse server response"}}b.fm.lock();g.remove();A.error&&b.fm.view.error(A.error,A.errorData);A.cwd&&b.fm.reload(A);A.tmb&&b.fm.tmb()}var g=a('<iframe name="'+d+'" name="'+d+'" src="about:blank"/>'),j=g[0],k=50,p,t,A;g.css({position:"absolute",top:"-1000px",left:"-1000px"}).appendTo("body").bind("load",function(){g.unbind("load");
c()});b.fm.lock(!0);n.submit()}for(var d="el-finder-io-"+(new Date).getTime(),g=a('<div class="ui-state-error ui-corner-all"><span class="ui-icon ui-icon-alert"/><div/></div>'),k=this.fm.params.uplMaxSize?"<p>"+this.fm.i18n("Maximum allowed files size")+": "+this.fm.params.uplMaxSize+"</p>":"",j=a('<p class="el-finder-add-field"><span class="ui-state-default ui-corner-all"><em class="ui-icon ui-icon-circle-plus"/></span>'+this.fm.i18n("Add field")+"</p>").click(function(){a(this).before('<p><input type="file" name="upload[]"/></p>')}),
n='<form method="post" enctype="multipart/form-data" action="'+b.fm.options.url+'" target="'+d+'"><input type="hidden" name="cmd" value="upload" /><input type="hidden" name="current" value="'+b.fm.cwd.hash+'" />',t=a("<div/>"),A=3;A--;)n+='<p><input type="file" name="upload[]"/></p>';n=a(n+"</form>");t.append(n.append(g.hide()).prepend(k).append(j)).dialog({dialogClass:"el-finder-dialog",title:b.fm.i18n("Upload files"),modal:!0,resizable:!1,close:function(){b.fm.lockShortcuts()},buttons:{Cancel:function(){a(this).dialog("close")},
Ok:function(){if(a(":file[value]",n).length)setTimeout(function(){b.fm.lock();a.browser.safari?a.ajax({url:b.fm.options.url,data:{cmd:"ping"},error:c,success:c}):c()}),a(this).dialog("close");else{var d=b.fm.i18n("Select at least one file to upload");g.show().find("div").empty().text(d)}}}});b.fm.lockShortcuts(!0)};this.isAllowed=function(){return this.fm.cwd.write};this.cm=function(a){return"cwd"==a}},duplicate:function(a){var b=this;this.name="Duplicate";this.fm=a;this.exec=function(){this.fm.ajax({cmd:"duplicate",
current:this.fm.cwd.hash,target:this.fm.selected[0]},function(a){b.fm.reload(a)})};this.isAllowed=function(){return this.fm.cwd.write&&1==this.fm.selected.length&&this.fm.getSelected()[0].read};this.cm=function(a){return"file"==a}},edit:function(d){var b=this;this.name="Edit text file";this.fm=d;this.exec=function(){var c=this.fm.getSelected(0);this.fm.lockShortcuts(!0);this.fm.ajax({cmd:"read",current:this.fm.cwd.hash,target:c.hash},function(d){b.fm.lockShortcuts(!0);var g=a("<textarea/>").val(d.content||
"").keydown(function(a){a.stopPropagation()});a("<div/>").append(g).dialog({dialogClass:"el-finder-dialog",title:b.fm.i18n(b.name),modal:!0,width:500,close:function(){b.fm.lockShortcuts()},buttons:{Cancel:function(){a(this).dialog("close")},Ok:function(){var d=g.val();a(this).dialog("close");b.fm.ajax({cmd:"edit",current:b.fm.cwd.hash,target:c.hash,content:d},function(a){a.target&&(b.fm.cdc[a.target.hash]=a.target,b.fm.view.updateFile(a.target),b.fm.selectById(a.target.hash))},{type:"POST"})}}})})};
this.isAllowed=function(){if(1==b.fm.selected.length){var a=this.fm.getSelected()[0];return a.write&&(0==a.mime.indexOf("text")||"application/x-empty"==a.mime||"application/xml"==a.mime)}};this.cm=function(a){return"file"==a}},archive:function(d){var b=this;this.name="Create archive";this.fm=d;this.exec=function(c){c={cmd:"archive",current:b.fm.cwd.hash,type:-1!=a.inArray(c,this.fm.params.archives)?c:this.fm.params.archives[0],name:b.fm.i18n("Archive")};132<this.fm.jquery?c.targets=b.fm.selected:
c["targets[]"]=b.fm.selected;this.fm.ajax(c,function(a){b.fm.reload(a)})};this.isAllowed=function(){if(this.fm.cwd.write&&this.fm.selected.length)for(var a=this.fm.getSelected(),b=a.length;b--;)if(a[b].read)return!0;return!1};this.cm=function(a){return"cwd"!=a};this.argc=function(){var a,d=[];for(a=0;a<b.fm.params.archives.length;a++)d.push({"class":"archive",argc:b.fm.params.archives[a],text:b.fm.view.mime2kind(b.fm.params.archives[a])});return d}},extract:function(d){var b=this;this.name="Uncompress archive";
this.fm=d;this.exec=function(){this.fm.ajax({cmd:"extract",current:this.fm.cwd.hash,target:this.fm.getSelected(0).hash},function(a){b.fm.reload(a)})};this.isAllowed=function(){return this.fm.cwd.write&&1==this.fm.selected.length&&this.fm.getSelected(0).read&&this.fm.params.extract.length&&-1!=a.inArray(this.fm.getSelected(0).mime,this.fm.params.extract)};this.cm=function(a){return"file"==a}},resize:function(d){var b=this;this.name="Resize image";this.fm=d;this.exec=function(){function c(){var a=parseInt(iw.val())||
0,b=parseInt(ih.val())||0;0>=a||0>=b?(a=k,b=j):this==iw.get(0)?b=parseInt(a/n):a=parseInt(b*n);iw.val(a);ih.val(b)}var d=this.fm.getSelected();if(d[0]&&d[0].write&&d[0].dim){var g=d[0].dim.split("x"),k=parseInt(g[0]),j=parseInt(g[1]),n=k/j;iw=a('<input type="text" size="9" value="'+k+'" name="width"/>');ih=a('<input type="text" size="9" value="'+j+'" name="height"/>');f=a("<form/>").append(iw).append(" x ").append(ih).append(" px");iw.add(ih).bind("change",c);b.fm.lockShortcuts(!0);a("<div/>").append(a("<div/>").text(b.fm.i18n("Dimensions")+
":")).append(f).dialog({title:b.fm.i18n("Resize image"),dialogClass:"el-finder-dialog",width:230,modal:!0,close:function(){b.fm.lockShortcuts()},buttons:{Cancel:function(){a(this).dialog("close")},Ok:function(){var c=parseInt(iw.val())||0,g=parseInt(ih.val())||0;0<c&&(c!=k&&0<g&&g!=j)&&b.fm.ajax({cmd:"resize",current:b.fm.cwd.hash,target:d[0].hash,width:c,height:g},function(a){b.fm.reload(a)});a(this).dialog("close")}}})}};this.isAllowed=function(){return 1==this.fm.selected.length&&this.fm.cdc[this.fm.selected[0]].write&&
this.fm.cdc[this.fm.selected[0]].resize};this.cm=function(a){return"file"==a}},icons:function(d){this.name="View as icons";this.fm=d;this.exec=function(){this.fm.view.win.addClass("el-finder-disabled");this.fm.setView("icons");this.fm.updateCwd();this.fm.view.win.removeClass("el-finder-disabled");a("div.image",this.fm.view.cwd).length&&this.fm.tmb()};this.isAllowed=function(){return"icons"!=this.fm.options.view};this.cm=function(a){return"cwd"==a}},list:function(a){this.name="View as list";this.fm=
a;this.exec=function(){this.fm.view.win.addClass("el-finder-disabled");this.fm.setView("list");this.fm.updateCwd();this.fm.view.win.removeClass("el-finder-disabled")};this.isAllowed=function(){return"list"!=this.fm.options.view};this.cm=function(a){return"cwd"==a}},help:function(d){this.name="Help";this.fm=d;this.exec=function(){var b,c=this.fm.i18n("helpText"),d;b='<div class="el-finder-logo"/><strong>'+this.fm.i18n("elFinder: Web file manager")+"</strong><br/>"+this.fm.i18n("Version")+": "+this.fm.version+
'<br clear="all"/><p><strong><a href="http://elrte.ru/donate?prod=elfinder&lang='+this.fm.options.lang+'" target="_blank">'+this.fm.i18n("Donate to support project development")+'</a></strong></p><p><a href="http://elrte.ru/redmine/wiki/elfinder/" target="_blank">'+this.fm.i18n("elFinder documentation")+"</a></p>";b=b+("<p>"+("helpText"!=c?c:"elFinder works similar to file manager on your computer. <br /> To make actions on files/folders use icons on top panel. If icon action it is not clear for you, hold mouse cursor over it to see the hint. <br /> Manipulations with existing files/folders can be done through the context menu (mouse right-click).<br/> To copy/delete a group of files/folders, select them using Shift/Alt(Command) + mouse left-click.")+
"</p>")+("<p><strong>"+this.fm.i18n("elFinder support following shortcuts")+":</strong><ul><li><kbd>Ctrl+A</kbd> - "+this.fm.i18n("Select all files")+"</li><li><kbd>Ctrl+C/Ctrl+X/Ctrl+V</kbd> - "+this.fm.i18n("Copy/Cut/Paste files")+"</li><li><kbd>Enter</kbd> - "+this.fm.i18n("Open selected file/folder")+"</li><li><kbd>Space</kbd> - "+this.fm.i18n("Open/close QuickLook window")+"</li><li><kbd>Delete/Cmd+Backspace</kbd> - "+this.fm.i18n("Remove selected files")+"</li><li><kbd>Ctrl+I</kbd> - "+this.fm.i18n("Selected files or current directory info")+
"</li><li><kbd>Ctrl+N</kbd> - "+this.fm.i18n("Create new directory")+"</li><li><kbd>Ctrl+U</kbd> - "+this.fm.i18n("Open upload files form")+"</li><li><kbd>Left arrow</kbd> - "+this.fm.i18n("Select previous file")+"</li><li><kbd>Right arrow </kbd> - "+this.fm.i18n("Select next file")+"</li><li><kbd>Ctrl+Right arrow</kbd> - "+this.fm.i18n("Open selected file/folder")+"</li><li><kbd>Ctrl+Left arrow</kbd> - "+this.fm.i18n("Return into previous folder")+"</li><li><kbd>Shift+arrows</kbd> - "+this.fm.i18n("Increase/decrease files selection")+
"</li></ul></p><p>"+this.fm.i18n("Contacts us if you need help integrating elFinder in you products")+": dev@std42.ru</p>");c='<div class="el-finder-help-std"/><p>'+this.fm.i18n("Javascripts/PHP programming: Dmitry (dio) Levashov, dio@std42.ru")+"</p><p>"+this.fm.i18n("Python programming, techsupport: Troex Nevelin, troex@fury.scancode.ru")+"</p><p>"+this.fm.i18n("Design: Valentin Razumnih")+"</p><p>"+this.fm.i18n("Spanish localization")+': Alex (xand) Vavilin, xand@xand.es, <a href="http://xand.es" target="_blank">http://xand.es</a></p><p>'+
this.fm.i18n("Icons")+': <a href="http://www.famfamfam.com/lab/icons/silk/" target="_blank">Famfam silk icons</a>, <a href="http://www.fatcow.com/free-icons/" target="_blank">Fatcow icons</a></p><p>'+this.fm.i18n('Copyright: <a href="http://www.std42.ru" target="_blank">Studio 42 LTD</a>')+"</p><p>"+this.fm.i18n("License: BSD License")+"</p><p>"+this.fm.i18n('Web site: <a href="http://www.elrte.ru/elfinder/" target="_blank">elrte.ru</a>')+"</p>";d='<div class="el-finder-logo"/><strong><a href="http://www.eldorado-cms.ru" target="_blank">ELDORADO.CMS</a></strong><br/>'+
this.fm.i18n("Simple and usefull Content Management System")+"<hr/>"+this.fm.i18n("Support project development and we will place here info about you");b='<ul><li><a href="#el-finder-help-h">'+this.fm.i18n("Help")+'</a></li><li><a href="#el-finder-help-a">'+this.fm.i18n("Authors")+'</a><li><a href="#el-finder-help-sp">'+this.fm.i18n("Sponsors")+'</a></li></ul><div id="el-finder-help-h"><p>'+b+'</p></div><div id="el-finder-help-a"><p>'+c+'</p></div><div id="el-finder-help-sp"><p>'+d+"</p></div>";var g=
a("<div/>").html(b).dialog({width:617,title:this.fm.i18n("Help"),dialogClass:"el-finder-dialog",modal:!0,close:function(){g.tabs("destroy").dialog("destroy").remove()},buttons:{Ok:function(){a(this).dialog("close")}}}).tabs()};this.cm=function(a){return"cwd"==a}}}})(jQuery);
(function(a){elFinder.prototype.quickLook=function(d){function b(){e.media.hide().empty();e.win.attr("class","el-finder-ql").css("z-index",e.fm.zIndex);e.title.empty();e.ico.removeAttr("style").show();e.add.hide().empty();e._hash=""}function c(){var a=e.fm.getSelected(0);b();e._hash=a.hash;e.title.text(a.name);e.win.addClass(e.fm.view.mime2class(a.mime));e.name.text(a.name);e.kind.text(e.fm.view.mime2kind(a.link?"symlink":a.mime));e.size.text(e.fm.view.formatSize(a.size));e.date.text(e.fm.i18n("Modified")+
": "+e.fm.view.formatDate(a.date));a.dim&&e.add.append("<span>"+a.dim+" px</span>").show();a.tmb&&e.ico.css("background",'url("'+a.tmb+'") 0 0 no-repeat');if(a.url){e.url.text(a.url).attr("href",a.url).show();for(var c in e.plugins)if(e.plugins[c].test&&e.plugins[c].test(a.mime,e.mimes,a.name)){e.plugins[c].show(e,a);return}}else e.url.hide();e.win.css({width:"420px",height:"auto"})}var e=this;this.fm=d;this._hash="";this.title=a("<strong/>");this.ico=a("<p/>");this.info=a("<label/>");this.media=
a('<div class="el-finder-ql-media"/>').hide();this.name=a('<span class="el-finder-ql-name"/>');this.kind=a('<span class="el-finder-ql-kind"/>');this.size=a('<span class="el-finder-ql-size"/>');this.date=a('<span class="el-finder-ql-date"/>');this.url=a('<a href="#"/>').hide().click(function(b){b.preventDefault();window.open(a(this).attr("href"));e.hide()});this.add=a("<div/>");this.content=a('<div class="el-finder-ql-content"/>');this.win=a('<div class="el-finder-ql"/>').hide().append(a('<div class="el-finder-ql-drag-handle"/>').append(a('<span class="ui-icon ui-icon-circle-close"/>').click(function(){e.hide()})).append(this.title)).append(this.ico).append(this.media).append(this.content.append(this.name).append(this.kind).append(this.size).append(this.date).append(this.url).append(this.add)).appendTo(document.body).draggable({handle:".el-finder-ql-drag-handle"}).resizable({minWidth:420,
minHeight:150,resize:function(){if(e.media.children().length){var a=e.media.children(":first");switch(a[0].nodeName){case "IMG":var b=a.width(),c=a.height(),d=e.win.width(),g="auto"==e.win.css("height")?350:e.win.height()-e.content.height()-e.th,b=b>d||c>g?Math.min(Math.min(d,b)/b,Math.min(g,c)/c):Math.min(Math.max(d,b)/b,Math.max(g,c)/c);a.css({width:Math.round(a.width()*b),height:Math.round(a.height()*b)});break;case "IFRAME":case "EMBED":a.css("height",e.win.height()-e.content.height()-e.th);break;
case "OBJECT":a.children("embed").css("height",e.win.height()-e.content.height()-e.th)}}}});this.th=parseInt(this.win.children(":first").css("height"))||18;this.mimes={"image/jpeg":"jpg","image/gif":"gif","image/png":"png"};for(d=0;d<navigator.mimeTypes.length;d++){var g=navigator.mimeTypes[d].type;g&&"*"!=g&&(this.mimes[g]=navigator.mimeTypes[d].suffixes)}if(a.browser.safari&&-1!=navigator.platform.indexOf("Mac")||a.browser.msie)this.mimes["application/pdf"]="pdf";else for(d=0;d<navigator.plugins.length;d++)for(g=
0;g<navigator.plugins[d].length;g++){var k=navigator.plugins[d][g].description.toLowerCase();if("pdf"==k.substring(0,k.indexOf(" "))){this.mimes["application/pdf"]="pdf";break}}this.mimes["image/x-bmp"]&&(this.mimes["image/x-ms-bmp"]="bmp");a.browser.msie&&!this.mimes["application/x-shockwave-flash"]&&(this.mimes["application/x-shockwave-flash"]="swf");this.show=function(){if(this.win.is(":hidden")&&1==e.fm.selected.length){c();var b=e.fm.view.cwd.find('[key="'+e.fm.selected[0]+'"]'),d=b.offset();
e.fm.lockShortcuts(!0);this.win.css({width:b.width()-20,height:b.height(),left:d.left,top:d.top,opacity:0}).animate({width:420,height:150,opacity:1,top:Math.round(a(window).height()/5),left:a(window).width()/2-210},450,function(){e.win.css({height:"auto"});e.fm.lockShortcuts()})}};this.hide=function(){if(this.win.is(":visible")){var a,c=e.fm.view.cwd.find('[key="'+this._hash+'"]');c?(a=c.offset(),this.media.hide(200),this.win.animate({width:c.width()-20,height:c.height(),left:a.left,top:a.top,opacity:0},
350,function(){e.fm.lockShortcuts();b();e.win.hide().css("height","auto")})):(this.win.fadeOut(200),b(),e.fm.lockShortcuts())}};this.toggle=function(){this.win.is(":visible")?this.hide():this.show()};this.update=function(){1!=this.fm.selected.length?this.hide():this.win.is(":visible")&&this.fm.selected[0]!=this._hash&&c()};this.mediaHeight=function(){return this.win.is(":animated")||"auto"==this.win.css("height")?315:this.win.height()-this.content.height()-this.th}};elFinder.prototype.quickLook.prototype.plugins=
{image:new function(){this.test=function(a){return a.match(/^image\//)};this.show=function(d,b){function c(a){var b=a.width(),c=a.height(),e=d.win.is(":animated"),t=e?420:d.win.width(),e=e||"auto"==d.win.css("height")?315:d.win.height()-d.content.height()-d.th,t=b>t||c>e?Math.min(Math.min(t,b)/b,Math.min(e,c)/c):Math.min(Math.max(t,b)/b,Math.max(e,c)/c);d.fm.lockShortcuts(!0);d.ico.hide();a.css({width:d.ico.width(),height:d.ico.height()}).animate({width:Math.round(t*b),height:Math.round(t*c)},450,
function(){d.fm.lockShortcuts()})}var e;d.mimes[b.mime]&&b.hash==d._hash&&a("<img/>").hide().appendTo(d.media.show()).attr("src",b.url+(a.browser.msie||a.browser.opera?"?"+Math.random():"")).load(function(){e=a(this).unbind("load");b.hash==d._hash&&(d.win.is(":animated")?setTimeout(function(){c(e)},330):c(e))})}},text:new function(){this.test=function(a){return 0==a.indexOf("text")&&-1==a.indexOf("rtf")||a.match(/application\/(xml|javascript|json)/)};this.show=function(a,b){b.hash==a._hash&&(a.ico.hide(),
a.media.append('<iframe src="'+b.url+'" style="height:'+a.mediaHeight()+'px" />').show())}},swf:new function(){this.test=function(a,b){return"application/x-shockwave-flash"==a&&b[a]};this.show=function(a,b){if(b.hash==a._hash){a.ico.hide();var c=a.media.append('<embed pluginspage="http://www.macromedia.com/go/getflashplayer" quality="high" src="'+b.url+'" style="width:100%;height:'+a.mediaHeight()+'px" type="application/x-shockwave-flash" />');a.win.is(":animated")?c.slideDown(450):c.show()}}},audio:new function(){this.test=
function(a,b){return 0==a.indexOf("audio")&&b[a]};this.show=function(a,b){if(b.hash==a._hash){a.ico.hide();var c=a.win.is(":animated")||"auto"==a.win.css("height")?100:a.win.height()-a.content.height()-a.th;a.media.append('<embed src="'+b.url+'" style="width:100%;height:'+c+'px" />').show()}}},video:new function(){this.test=function(a,b){return 0==a.indexOf("video")&&b[a]};this.show=function(a,b){b.hash==a._hash&&(a.ico.hide(),a.media.append('<embed src="'+b.url+'" style="width:100%;height:'+a.mediaHeight()+
'px" />').show())}},pdf:new function(){this.test=function(a,b){return"application/pdf"==a&&b[a]};this.show=function(a,b){b.hash==a._hash&&(a.ico.hide(),a.media.append('<embed src="'+b.url+'" style="width:100%;height:'+a.mediaHeight()+'px" />').show())}}}})(jQuery);
(function(a){elFinder.prototype.eventsManager=function(d){function b(b,d){var k,j,n;if(a("[key]",c.cwd).length){if(0==c.fm.selected.length)k=a("[key]:"+(b?"first":"last"),c.cwd),c.fm.select(k);else if(d)k=a(".ui-selected:"+(b?"last":"first"),c.cwd),j=k[b?"next":"prev"]("[key]"),j.length&&(k=j),c.fm.select(k,!0);else{c.pointer&&(n=a('[key="'+c.pointer+'"].ui-selected',c.cwd));if(!n||!n.length)n=a(".ui-selected:"+(b?"last":"first"),c.cwd);k=n[b?"next":"prev"]("[key]");if(k.length)if(k.hasClass("ui-selected"))if(n.hasClass("ui-selected"))if(j=
n[b?"prev":"next"]("[key]"),!j.length||!j.hasClass("ui-selected"))c.fm.unselect(n);else{for(;(j=b?k.next("[key]"):k.prev("[key]"))&&k.hasClass("ui-selected");)k=j;c.fm.select(k)}else c.fm.unselect(k);else c.fm.select(k);else k=n}c.pointer=k.attr("key");c.fm.checkSelectedPos(b)}}var c=this;this.lock=!1;this.fm=d;this.ui=d.ui;this.tree=d.view.tree;this.cwd=d.view.cwd;this.pointer="";this.init=function(){this.cwd.bind("click",function(b){var d=a(b.target);d.hasClass("ui-selected")?c.fm.unselectAll():
(d.attr("key")||(d=d.parent("[key]")),b.ctrlKey||b.metaKey?c.fm.toggleSelect(d):c.fm.select(d,!0))}).bind(window.opera?"click":"contextmenu",function(b){if(!window.opera||b.ctrlKey){var d=a(b.target);b.preventDefault();b.stopPropagation();d.hasClass("el-finder-cwd")?c.fm.unselectAll():c.fm.select(d.attr("key")?d:d.parent("[key]"));c.fm.quickLook.hide();c.fm.ui.showMenu(b)}}).selectable({filter:"[key]",delay:300,stop:function(){c.fm.updateSelect()}});a(document).bind("click",function(){c.fm.ui.hideMenu();
a("input",c.cwd).trigger("change")});this.tree.bind("select",function(b){c.tree.find("a").removeClass("selected");a(b.target).addClass("selected").parents("li:has(ul)").children("ul").show().prev().children("div").addClass("expanded")});this.fm.options.places&&(this.fm.view.plc.click(function(b){b.preventDefault();var d=a(b.target).attr("key");if(d)d!=c.fm.cwd.hash&&c.ui.exec("open",b.target);else if("A"==b.target.nodeName||"DIV"==b.target.nodeName)b=c.fm.view.plc.find("ul"),b.children().length&&
(b.toggle(300),c.fm.view.plc.children("li").find("div").toggleClass("expanded"))}),this.fm.view.plc.droppable({accept:"(div,tr).directory",tolerance:"pointer",over:function(){a(this).addClass("el-finder-droppable")},out:function(){a(this).removeClass("el-finder-droppable")},drop:function(b,d){a(this).removeClass("el-finder-droppable");var k=!1;d.helper.children(".directory:not(.noaccess,.dropbox)").each(function(){c.fm.addPlace(a(this).attr("key"))&&(k=!0,a(this).hide())});k&&(c.fm.view.renderPlaces(),
c.updatePlaces(),c.fm.view.plc.children("li").children("div").trigger("click"));d.helper.children("div:visible").length||d.helper.hide()}}));a(document).bind(a.browser.mozilla||a.browser.opera?"keypress":"keydown",function(a){var d=a.ctrlKey||a.metaKey;if(!c.lock)switch(a.keyCode){case 37:case 38:a.stopPropagation();a.preventDefault();37==a.keyCode&&d?c.ui.execIfAllowed("back"):b(!1,!a.shiftKey);break;case 39:case 40:a.stopPropagation(),a.preventDefault(),d?c.ui.execIfAllowed("open"):b(!0,!a.shiftKey)}});
a(document).bind(a.browser.opera?"keypress":"keydown",function(a){if(!c.lock)switch(a.keyCode){case 32:a.preventDefault();a.stopPropagation();c.fm.quickLook.toggle();break;case 27:c.fm.quickLook.hide()}});this.fm.options.disableShortcuts||a(document).bind("keydown",function(a){var b=a.ctrlKey||a.metaKey;if(!c.lock)switch(a.keyCode){case 8:b&&c.ui.isCmdAllowed("rm")&&(a.preventDefault(),c.ui.exec("rm"));break;case 13:if(c.ui.isCmdAllowed("select"))return c.ui.exec("select");c.ui.execIfAllowed("open");
break;case 46:c.ui.execIfAllowed("rm");break;case 65:b&&(a.preventDefault(),c.fm.selectAll());break;case 67:b&&c.ui.execIfAllowed("copy");break;case 73:b&&(a.preventDefault(),c.ui.exec("info"));break;case 78:b&&(a.preventDefault(),c.ui.execIfAllowed("mkdir"));break;case 85:b&&(a.preventDefault(),c.ui.execIfAllowed("upload"));break;case 86:b&&c.ui.execIfAllowed("paste");break;case 88:b&&c.ui.execIfAllowed("cut");break;case 113:c.ui.execIfAllowed("rename")}})};this.updateNav=function(){a("a",this.tree).click(function(b){b.preventDefault();
var d=a(this);"DIV"==b.target.nodeName&&a(b.target).hasClass("collapsed")?a(b.target).toggleClass("expanded").parent().next("ul").toggle(300):d.attr("key")!=c.fm.cwd.hash?d.hasClass("noaccess")||d.hasClass("dropbox")?c.fm.view.error("Access denied"):c.ui.exec("open",d.trigger("select")[0]):(b=d.children(".collapsed"),b.length&&(b.toggleClass("expanded"),d.next("ul").toggle(300)))});a("a:not(.noaccess,.readonly)",this.tree).droppable({tolerance:"pointer",accept:"(div,tr)[key]",over:function(){a(this).addClass("el-finder-droppable")},
out:function(){a(this).removeClass("el-finder-droppable")},drop:function(b,d){a(this).removeClass("el-finder-droppable");c.fm.drop(b,d,a(this).attr("key"))}});this.fm.options.places&&this.updatePlaces()};this.updatePlaces=function(){this.fm.view.plc.children("li").find("li").draggable({scroll:!1,stop:function(){c.fm.removePlace(a(this).children("a").attr("key"))&&(a(this).remove(),a("li",c.fm.view.plc.children("li")).length||c.fm.view.plc.children("li").find("div").removeClass("collapsed expanded").end().children("ul").hide())}})};
this.updateCwd=function(){a("[key]",this.cwd).bind("dblclick",function(){c.fm.select(a(this),!0);c.ui.exec(c.ui.isCmdAllowed("select")?"select":"open")}).draggable({delay:3,addClasses:!1,appendTo:".el-finder-cwd",revert:!0,drag:function(a,b){b.helper.toggleClass("el-finder-drag-copy",a.shiftKey||a.ctrlKey)},helper:function(){var b=a(this),d=a('<div class="el-finder-drag-helper"/>'),k=0;!b.hasClass("ui-selected")&&c.fm.select(b,!0);c.cwd.find(".ui-selected").each(function(){var b="icons"==c.fm.options.view?
a(this).clone().removeClass("ui-selected"):a(c.fm.view.renderIcon(c.fm.cdc[a(this).attr("key")]));(0==k++||0==k%12)&&b.css("margin-left",0);d.append(b)});return d.css("width",(12>=k?85+29*(k-1):387)+"px")}}).filter(".directory").droppable({tolerance:"pointer",accept:"(div,tr)[key]",over:function(){a(this).addClass("el-finder-droppable")},out:function(){a(this).removeClass("el-finder-droppable")},drop:function(b,d){a(this).removeClass("el-finder-droppable");c.fm.drop(b,d,a(this).attr("key"))}});a.browser.msie&&
a("*",this.cwd).attr("unselectable","on").filter("[key]").bind("dragstart",function(){c.cwd.selectable("disable").removeClass("ui-state-disabled ui-selectable-disabled")}).bind("dragstop",function(){c.cwd.selectable("enable")})}}})(jQuery);(function(a,d,b){a.fn.dataTableSettings=[];var c=a.fn.dataTableSettings;a.fn.dataTableExt={};var e=a.fn.dataTableExt;e.sVersion="1.8.1";e.sErrMode="alert";e.iApiIndex=0;e.oApi={};e.afnFiltering=[];e.aoFeatures=[];e.ofnSearch={};e.afnSortData=[];e.oStdClasses={sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",
sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",
sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:""};e.oJUIClasses={sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",
sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",
sPageFirst:"first ui-corner-tl ui-corner-bl",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last ui-corner-tr ui-corner-br",sStripOdd:"odd",sStripEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",
sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortColumn:"sorting_",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollWrapper:"dataTables_scroll",
sScrollHead:"dataTables_scrollHead ui-state-default",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot ui-state-default",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"ui-state-default"};e.oPagination={two_button:{fnInit:function(c,d,e){var n,t,A;c.bJUI?(n=b.createElement("a"),t=b.createElement("a"),A=b.createElement("span"),A.className=c.oClasses.sPageJUINext,t.appendChild(A),A=b.createElement("span"),A.className=c.oClasses.sPageJUIPrev,
n.appendChild(A)):(n=b.createElement("div"),t=b.createElement("div"));n.className=c.oClasses.sPagePrevDisabled;t.className=c.oClasses.sPageNextDisabled;n.title=c.oLanguage.oPaginate.sPrevious;t.title=c.oLanguage.oPaginate.sNext;d.appendChild(n);d.appendChild(t);a(n).bind("click.DT",function(){c.oApi._fnPageChange(c,"previous")&&e(c)});a(t).bind("click.DT",function(){c.oApi._fnPageChange(c,"next")&&e(c)});a(n).bind("selectstart.DT",function(){return!1});a(t).bind("selectstart.DT",function(){return!1});
""!==c.sTableId&&"undefined"==typeof c.aanFeatures.p&&(d.setAttribute("id",c.sTableId+"_paginate"),n.setAttribute("id",c.sTableId+"_previous"),t.setAttribute("id",c.sTableId+"_next"))},fnUpdate:function(a){if(a.aanFeatures.p)for(var b=a.aanFeatures.p,c=0,d=b.length;c<d;c++)0!==b[c].childNodes.length&&(b[c].childNodes[0].className=0===a._iDisplayStart?a.oClasses.sPagePrevDisabled:a.oClasses.sPagePrevEnabled,b[c].childNodes[1].className=a.fnDisplayEnd()==a.fnRecordsDisplay()?a.oClasses.sPageNextDisabled:
a.oClasses.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(c,d,e){var n=b.createElement("span"),t=b.createElement("span"),A=b.createElement("span"),B=b.createElement("span"),r=b.createElement("span");n.innerHTML=c.oLanguage.oPaginate.sFirst;t.innerHTML=c.oLanguage.oPaginate.sPrevious;B.innerHTML=c.oLanguage.oPaginate.sNext;r.innerHTML=c.oLanguage.oPaginate.sLast;var q=c.oClasses;n.className=q.sPageButton+" "+q.sPageFirst;t.className=q.sPageButton+" "+q.sPagePrevious;B.className=
q.sPageButton+" "+q.sPageNext;r.className=q.sPageButton+" "+q.sPageLast;d.appendChild(n);d.appendChild(t);d.appendChild(A);d.appendChild(B);d.appendChild(r);a(n).bind("click.DT",function(){c.oApi._fnPageChange(c,"first")&&e(c)});a(t).bind("click.DT",function(){c.oApi._fnPageChange(c,"previous")&&e(c)});a(B).bind("click.DT",function(){c.oApi._fnPageChange(c,"next")&&e(c)});a(r).bind("click.DT",function(){c.oApi._fnPageChange(c,"last")&&e(c)});a("span",d).bind("mousedown.DT",function(){return!1}).bind("selectstart.DT",
function(){return!1});""!==c.sTableId&&"undefined"==typeof c.aanFeatures.p&&(d.setAttribute("id",c.sTableId+"_paginate"),n.setAttribute("id",c.sTableId+"_first"),t.setAttribute("id",c.sTableId+"_previous"),B.setAttribute("id",c.sTableId+"_next"),r.setAttribute("id",c.sTableId+"_last"))},fnUpdate:function(b,c){if(b.aanFeatures.p){var d=e.oPagination.iFullNumbersShowPages,n=Math.floor(d/2),t=Math.ceil(b.fnRecordsDisplay()/b._iDisplayLength),A=Math.ceil(b._iDisplayStart/b._iDisplayLength)+1,B="",r,q=
b.oClasses;t<d?(n=1,r=t):A<=n?(n=1,r=d):A>=t-n?(n=t-d+1,r=t):(n=A-Math.ceil(d/2)+1,r=n+d-1);for(d=n;d<=r;d++)B=A!=d?B+('<span class="'+q.sPageButton+'">'+d+"</span>"):B+('<span class="'+q.sPageButtonActive+'">'+d+"</span>");r=b.aanFeatures.p;for(var z,p=function(a){b._iDisplayStart=(1*this.innerHTML-1)*b._iDisplayLength;c(b);a.preventDefault()},F=function(){return!1},d=0,n=r.length;d<n;d++)0!==r[d].childNodes.length&&(z=a("span:eq(2)",r[d]),z.html(B),a("span",z).bind("click.DT",p).bind("mousedown.DT",
F).bind("selectstart.DT",F),z=r[d].getElementsByTagName("span"),z=[z[0],z[1],z[z.length-2],z[z.length-1]],a(z).removeClass(q.sPageButton+" "+q.sPageButtonActive+" "+q.sPageButtonStaticDisabled),1==A?(z[0].className+=" "+q.sPageButtonStaticDisabled,z[1].className+=" "+q.sPageButtonStaticDisabled):(z[0].className+=" "+q.sPageButton,z[1].className+=" "+q.sPageButton),0===t||A==t||-1==b._iDisplayLength?(z[2].className+=" "+q.sPageButtonStaticDisabled,z[3].className+=" "+q.sPageButtonStaticDisabled):(z[2].className+=
" "+q.sPageButton,z[3].className+=" "+q.sPageButton))}}}};e.oSort={"string-asc":function(a,b){"string"!=typeof a&&(a="");"string"!=typeof b&&(b="");var c=a.toLowerCase(),d=b.toLowerCase();return c<d?-1:c>d?1:0},"string-desc":function(a,b){"string"!=typeof a&&(a="");"string"!=typeof b&&(b="");var c=a.toLowerCase(),d=b.toLowerCase();return c<d?1:c>d?-1:0},"html-asc":function(a,b){var c=a.replace(/<.*?>/g,"").toLowerCase(),d=b.replace(/<.*?>/g,"").toLowerCase();return c<d?-1:c>d?1:0},"html-desc":function(a,
b){var c=a.replace(/<.*?>/g,"").toLowerCase(),d=b.replace(/<.*?>/g,"").toLowerCase();return c<d?1:c>d?-1:0},"date-asc":function(a,b){var c=Date.parse(a),d=Date.parse(b);if(isNaN(c)||""===c)c=Date.parse("01/01/1970 00:00:00");if(isNaN(d)||""===d)d=Date.parse("01/01/1970 00:00:00");return c-d},"date-desc":function(a,b){var c=Date.parse(a),d=Date.parse(b);if(isNaN(c)||""===c)c=Date.parse("01/01/1970 00:00:00");if(isNaN(d)||""===d)d=Date.parse("01/01/1970 00:00:00");return d-c},"numeric-asc":function(a,
b){return("-"==a||""===a?0:1*a)-("-"==b||""===b?0:1*b)},"numeric-desc":function(a,b){return("-"==b||""===b?0:1*b)-("-"==a||""===a?0:1*a)}};e.aTypes=[function(a){if("number"==typeof a)return"numeric";if("string"!=typeof a)return null;var b,c=!1;b=a.charAt(0);if(-1=="0123456789-".indexOf(b))return null;for(var d=1;d<a.length;d++){b=a.charAt(d);if(-1=="0123456789.".indexOf(b))return null;if("."==b){if(c)return null;c=!0}}return"numeric"},function(a){var b=Date.parse(a);return null!==b&&!isNaN(b)||"string"==
typeof a&&0===a.length?"date":null},function(a){return"string"==typeof a&&-1!=a.indexOf("<")&&-1!=a.indexOf(">")?"html":null}];e.fnVersionCheck=function(a){var b=function(a,b){for(;a.length<b;)a+="0";return a},c=e.sVersion.split(".");a=a.split(".");for(var d="",t="",A=0,B=a.length;A<B;A++)d+=b(c[A],3),t+=b(a[A],3);return parseInt(d,10)>=parseInt(t,10)};e._oExternConfig={iNextUnique:0};a.fn.dataTable=function(g){function k(){this.fnRecordsTotal=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,
10):this.aiDisplayMaster.length};this.fnRecordsDisplay=function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length};this.fnDisplayEnd=function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd};this.sInstance=this.oInstance=null;this.oFeatures={bPaginate:!0,bLengthChange:!0,bFilter:!0,
bSort:!0,bInfo:!0,bAutoWidth:!0,bProcessing:!1,bSortClasses:!0,bStateSave:!1,bServerSide:!1,bDeferRender:!1};this.oScroll={sX:"",sXInner:"",sY:"",bCollapse:!1,bInfinite:!1,iLoadGap:100,iBarWidth:0,bAutoCss:!0};this.aanFeatures=[];this.oLanguage={sProcessing:"Processing...",sLengthMenu:"Show _MENU_ entries",sZeroRecords:"No matching records found",sEmptyTable:"No data available in table",sLoadingRecords:"Loading...",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",
sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sSearch:"Search:",sUrl:"",oPaginate:{sFirst:"First",sPrevious:"Previous",sNext:"Next",sLast:"Last"},fnInfoCallback:null};this.aoData=[];this.aiDisplay=[];this.aiDisplayMaster=[];this.aoColumns=[];this.aoHeader=[];this.aoFooter=[];this.iNextId=0;this.asDataSearch=[];this.oPreviousSearch={sSearch:"",bRegex:!1,bSmart:!0};this.aoPreSearchCols=[];this.aaSorting=[[0,"asc",0]];this.aaSortingFixed=null;this.asStripClasses=[];this.asDestoryStrips=
[];this.sDestroyWidth=0;this.fnFooterCallback=this.fnHeaderCallback=this.fnRowCallback=null;this.aoDrawCallback=[];this.fnInitComplete=this.fnPreDrawCallback=null;this.sTableId="";this.nTableWrapper=this.nTBody=this.nTFoot=this.nTHead=this.nTable=null;this.bInitialised=this.bDeferLoading=!1;this.aoOpenRows=[];this.sDom="lfrtip";this.sPaginationType="two_button";this.iCookieDuration=7200;this.sCookiePrefix="SpryMedia_DataTables_";this.fnCookieCallback=null;this.aoStateSave=[];this.aoStateLoad=[];this.sAjaxSource=
this.oLoadedState=null;this.sAjaxDataProp="aaData";this.bAjaxDataGet=!0;this.jqXHR=null;this.fnServerData=function(b,c,d,e){e.jqXHR=a.ajax({url:b,data:c,success:d,dataType:"json",cache:!1,error:function(a,b){"parsererror"==b&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})};this.fnFormatNumber=function(a){if(1E3>a)return a;var b=a+"";a=b.split("");for(var c="",b=b.length,d=0;d<b;d++)0===d%3&&0!==d&&(c=","+c),c=a[b-d-1]+c;return c};
this.aLengthMenu=[10,25,50,100];this.bDrawing=this.iDraw=0;this.iDrawError=-1;this._iDisplayLength=10;this._iDisplayStart=0;this._iDisplayEnd=10;this._iRecordsDisplay=this._iRecordsTotal=0;this.bJUI=!1;this.oClasses=e.oStdClasses;this.bSortCellsTop=this.bSorted=this.bFiltered=!1;this.oInit=null}function j(a){return function(){var b=[aa(this[e.iApiIndex])].concat(Array.prototype.slice.call(arguments));return e.oApi[a].apply(this,b)}}function n(a){var b,c,d=a.iInitDisplayStart;if(!1===a.bInitialised)setTimeout(function(){n(a)},
200);else{sa(a);F(a);D(a,a.aoHeader);a.nTFoot&&D(a,a.aoFooter);ja(a,!0);a.oFeatures.bAutoWidth&&Ca(a);b=0;for(c=a.aoColumns.length;b<c;b++)null!==a.aoColumns[b].sWidth&&(a.aoColumns[b].nTh.style.width=P(a.aoColumns[b].sWidth));a.oFeatures.bSort?Ba(a):a.oFeatures.bFilter?ga(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),ma(a),E(a));null!==a.sAjaxSource&&!a.oFeatures.bServerSide?a.fnServerData.call(a.oInstance,a.sAjaxSource,[],function(c){var e=c;""!==a.sAjaxDataProp&&(e=bb(a.sAjaxDataProp)(c));
for(b=0;b<e.length;b++)q(a,e[b]);a.iInitDisplayStart=d;a.oFeatures.bSort?Ba(a):(a.aiDisplay=a.aiDisplayMaster.slice(),ma(a),E(a));ja(a,!1);t(a,c)},a):a.oFeatures.bServerSide||(ja(a,!1),t(a))}}function t(a,b){a._bInitComplete=!0;"function"==typeof a.fnInitComplete&&("undefined"!=typeof b?a.fnInitComplete.call(a.oInstance,a,b):a.fnInitComplete.call(a.oInstance,a))}function A(a,b,c){O(a.oLanguage,b,"sProcessing");O(a.oLanguage,b,"sLengthMenu");O(a.oLanguage,b,"sEmptyTable");O(a.oLanguage,b,"sLoadingRecords");
O(a.oLanguage,b,"sZeroRecords");O(a.oLanguage,b,"sInfo");O(a.oLanguage,b,"sInfoEmpty");O(a.oLanguage,b,"sInfoFiltered");O(a.oLanguage,b,"sInfoPostFix");O(a.oLanguage,b,"sSearch");"undefined"!=typeof b.oPaginate&&(O(a.oLanguage.oPaginate,b.oPaginate,"sFirst"),O(a.oLanguage.oPaginate,b.oPaginate,"sPrevious"),O(a.oLanguage.oPaginate,b.oPaginate,"sNext"),O(a.oLanguage.oPaginate,b.oPaginate,"sLast"));"undefined"==typeof b.sEmptyTable&&"undefined"!=typeof b.sZeroRecords&&O(a.oLanguage,b,"sZeroRecords",
"sEmptyTable");"undefined"==typeof b.sLoadingRecords&&"undefined"!=typeof b.sZeroRecords&&O(a.oLanguage,b,"sZeroRecords","sLoadingRecords");c&&n(a)}function B(a,c){var d=a.aoColumns.length,e={sType:null,_bAutoType:!0,bVisible:!0,bSearchable:!0,bSortable:!0,asSorting:["asc","desc"],sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,sTitle:c?c.innerHTML:"",sName:"",sWidth:null,sWidthOrig:null,sClass:null,fnRender:null,bUseRendered:!0,iDataSort:d,mDataProp:d,fnGetData:null,fnSetData:null,
sSortDataType:"std",sDefaultContent:null,sContentPadding:"",nTh:c?c:b.createElement("th"),nTf:null};a.aoColumns.push(e);"undefined"==typeof a.aoPreSearchCols[d]||null===a.aoPreSearchCols[d]?a.aoPreSearchCols[d]={sSearch:"",bRegex:!1,bSmart:!0}:("undefined"==typeof a.aoPreSearchCols[d].bRegex&&(a.aoPreSearchCols[d].bRegex=!0),"undefined"==typeof a.aoPreSearchCols[d].bSmart&&(a.aoPreSearchCols[d].bSmart=!0));r(a,d,null)}function r(b,c,d){c=b.aoColumns[c];"undefined"!=typeof d&&null!==d&&("undefined"!=
typeof d.sType&&(c.sType=d.sType,c._bAutoType=!1),O(c,d,"bVisible"),O(c,d,"bSearchable"),O(c,d,"bSortable"),O(c,d,"sTitle"),O(c,d,"sName"),O(c,d,"sWidth"),O(c,d,"sWidth","sWidthOrig"),O(c,d,"sClass"),O(c,d,"fnRender"),O(c,d,"bUseRendered"),O(c,d,"iDataSort"),O(c,d,"mDataProp"),O(c,d,"asSorting"),O(c,d,"sSortDataType"),O(c,d,"sDefaultContent"),O(c,d,"sContentPadding"));c.fnGetData=bb(c.mDataProp);c.fnSetData=Oa(c.mDataProp);b.oFeatures.bSort||(c.bSortable=!1);!c.bSortable||-1==a.inArray("asc",c.asSorting)&&
-1==a.inArray("desc",c.asSorting)?(c.sSortingClass=b.oClasses.sSortableNone,c.sSortingClassJUI=""):c.bSortable||-1==a.inArray("asc",c.asSorting)&&-1==a.inArray("desc",c.asSorting)?(c.sSortingClass=b.oClasses.sSortable,c.sSortingClassJUI=b.oClasses.sSortJUI):-1!=a.inArray("asc",c.asSorting)&&-1==a.inArray("desc",c.asSorting)?(c.sSortingClass=b.oClasses.sSortableAsc,c.sSortingClassJUI=b.oClasses.sSortJUIAscAllowed):-1==a.inArray("asc",c.asSorting)&&-1!=a.inArray("desc",c.asSorting)&&(c.sSortingClass=
b.oClasses.sSortableDesc,c.sSortingClassJUI=b.oClasses.sSortJUIDescAllowed)}function q(b,c){var d;d="number"==typeof c.length?c.slice():a.extend(!0,{},c);var e=b.aoData.length,g={nTr:null,_iId:b.iNextId++,_aData:d,_anHidden:[],_sRowStripe:""};b.aoData.push(g);for(var j,k=0,n=b.aoColumns.length;k<n;k++)d=b.aoColumns[k],"function"==typeof d.fnRender&&(d.bUseRendered&&null!==d.mDataProp)&&Wa(b,e,k,d.fnRender({iDataRow:e,iDataColumn:k,aData:g._aData,oSettings:b})),d._bAutoType&&"string"!=d.sType&&(j=
Ia(b,e,k,"type"),null!==j&&""!==j&&(j=Da(j),null===d.sType?d.sType=j:d.sType!=j&&(d.sType="string")));b.aiDisplayMaster.push(e);b.oFeatures.bDeferRender||z(b,e);return e}function z(c,d){var e=c.aoData[d],g;if(null===e.nTr){e.nTr=b.createElement("tr");"undefined"!=typeof e._aData.DT_RowId&&e.nTr.setAttribute("id",e._aData.DT_RowId);"undefined"!=typeof e._aData.DT_RowClass&&a(e.nTr).addClass(e._aData.DT_RowClass);for(var j=0,k=c.aoColumns.length;j<k;j++){var n=c.aoColumns[j];g=b.createElement("td");
g.innerHTML="function"==typeof n.fnRender&&(!n.bUseRendered||null===n.mDataProp)?n.fnRender({iDataRow:d,iDataColumn:j,aData:e._aData,oSettings:c}):Ia(c,d,j,"display");null!==n.sClass&&(g.className=n.sClass);n.bVisible?(e.nTr.appendChild(g),e._anHidden[j]=null):e._anHidden[j]=g}}}function p(b){var c,d,e,g,j,k,n,p,q;if(b.bDeferLoading||null===b.sAjaxSource){n=b.nTBody.childNodes;c=0;for(d=n.length;c<d;c++)if("TR"==n[c].nodeName.toUpperCase()){p=b.aoData.length;b.aoData.push({nTr:n[c],_iId:b.iNextId++,
_aData:[],_anHidden:[],_sRowStripe:""});b.aiDisplayMaster.push(p);k=n[c].childNodes;e=j=0;for(g=k.length;e<g;e++)if(q=k[e].nodeName.toUpperCase(),"TD"==q||"TH"==q)Wa(b,p,j,a.trim(k[e].innerHTML)),j++}}n=ra(b);k=[];c=0;for(d=n.length;c<d;c++){e=0;for(g=n[c].childNodes.length;e<g;e++)j=n[c].childNodes[e],q=j.nodeName.toUpperCase(),("TD"==q||"TH"==q)&&k.push(j)}k.length!=n.length*b.aoColumns.length&&Ea(b,1,"Unexpected number of TD elements. Expected "+n.length*b.aoColumns.length+" and got "+k.length+
". DataTables does not support rowspan / colspan in the table body, and there must be one cell for each row/column combination.");e=0;for(g=b.aoColumns.length;e<g;e++){null===b.aoColumns[e].sTitle&&(b.aoColumns[e].sTitle=b.aoColumns[e].nTh.innerHTML);n=b.aoColumns[e]._bAutoType;q="function"==typeof b.aoColumns[e].fnRender;j=null!==b.aoColumns[e].sClass;p=b.aoColumns[e].bVisible;var r,t;if(n||q||j||!p){c=0;for(d=b.aoData.length;c<d;c++)r=k[c*g+e],n&&"string"!=b.aoColumns[e].sType&&(t=Ia(b,c,e,"type"),
""!==t&&(t=Da(t),null===b.aoColumns[e].sType?b.aoColumns[e].sType=t:b.aoColumns[e].sType!=t&&(b.aoColumns[e].sType="string"))),q&&(t=b.aoColumns[e].fnRender({iDataRow:c,iDataColumn:e,aData:b.aoData[c]._aData,oSettings:b}),r.innerHTML=t,b.aoColumns[e].bUseRendered&&Wa(b,c,e,t)),j&&(r.className+=" "+b.aoColumns[e].sClass),p?b.aoData[c]._anHidden[e]=null:(b.aoData[c]._anHidden[e]=r,r.parentNode.removeChild(r))}}}function F(c){var d,e,g;c.nTHead.getElementsByTagName("tr");if(0!==c.nTHead.getElementsByTagName("th").length){d=
0;for(g=c.aoColumns.length;d<g;d++)e=c.aoColumns[d].nTh,null!==c.aoColumns[d].sClass&&a(e).addClass(c.aoColumns[d].sClass),c.aoColumns[d].sTitle!=e.innerHTML&&(e.innerHTML=c.aoColumns[d].sTitle)}else{var j=b.createElement("tr");d=0;for(g=c.aoColumns.length;d<g;d++)e=c.aoColumns[d].nTh,e.innerHTML=c.aoColumns[d].sTitle,null!==c.aoColumns[d].sClass&&a(e).addClass(c.aoColumns[d].sClass),j.appendChild(e);a(c.nTHead).html("")[0].appendChild(j);Z(c.aoHeader,c.nTHead)}if(c.bJUI){d=0;for(g=c.aoColumns.length;d<
g;d++){e=c.aoColumns[d].nTh;j=b.createElement("div");j.className=c.oClasses.sSortJUIWrapper;a(e).contents().appendTo(j);var k=b.createElement("span");k.className=c.oClasses.sSortIcon;j.appendChild(k);e.appendChild(j)}}g=function(){this.onselectstart=function(){return!1};return!1};if(c.oFeatures.bSort)for(d=0;d<c.aoColumns.length;d++)!1!==c.aoColumns[d].bSortable?(qa(c,c.aoColumns[d].nTh,d),a(c.aoColumns[d].nTh).bind("mousedown.DT",g)):a(c.aoColumns[d].nTh).addClass(c.oClasses.sSortableNone);""!==
c.oClasses.sFooterTH&&a(">tr>th",c.nTFoot).addClass(c.oClasses.sFooterTH);if(null!==c.nTFoot){e=Na(c,null,c.aoFooter);d=0;for(g=c.aoColumns.length;d<g;d++)"undefined"!=typeof e[d]&&(c.aoColumns[d].nTf=e[d])}}function D(a,b,c){var d,e,g,j=[],k=[],n=a.aoColumns.length;"undefined"==typeof c&&(c=!1);d=0;for(e=b.length;d<e;d++){j[d]=b[d].slice();j[d].nTr=b[d].nTr;for(g=n-1;0<=g;g--)!a.aoColumns[g].bVisible&&!c&&j[d].splice(g,1);k.push([])}d=0;for(e=j.length;d<e;d++){if(j[d].nTr){a=0;for(g=j[d].nTr.childNodes.length;a<
g;a++)j[d].nTr.removeChild(j[d].nTr.childNodes[0])}g=0;for(b=j[d].length;g<b;g++)if(n=c=1,"undefined"==typeof k[d][g]){j[d].nTr.appendChild(j[d][g].cell);for(k[d][g]=1;"undefined"!=typeof j[d+c]&&j[d][g].cell==j[d+c][g].cell;)k[d+c][g]=1,c++;for(;"undefined"!=typeof j[d][g+n]&&j[d][g].cell==j[d][g+n].cell;){for(a=0;a<c;a++)k[d+a][g+n]=1;n++}j[d][g].cell.setAttribute("rowspan",c);j[d][g].cell.setAttribute("colspan",n)}}}function E(c){var d,e,g=[],j=0,k=!1;d=c.asStripClasses.length;e=c.aoOpenRows.length;
if(!(null!==c.fnPreDrawCallback&&!1===c.fnPreDrawCallback.call(c.oInstance,c))){c.bDrawing=!0;"undefined"!=typeof c.iInitDisplayStart&&-1!=c.iInitDisplayStart&&(c._iDisplayStart=c.oFeatures.bServerSide?c.iInitDisplayStart:c.iInitDisplayStart>=c.fnRecordsDisplay()?0:c.iInitDisplayStart,c.iInitDisplayStart=-1,ma(c));if(c.bDeferLoading)c.bDeferLoading=!1,c.iDraw++;else if(c.oFeatures.bServerSide){if(!c.bDestroying&&!ha(c))return}else c.iDraw++;if(0!==c.aiDisplay.length){var n=c._iDisplayStart,p=c._iDisplayEnd;
c.oFeatures.bServerSide&&(n=0,p=c.aoData.length);for(;n<p;n++){var q=c.aoData[c.aiDisplay[n]];null===q.nTr&&z(c,c.aiDisplay[n]);var r=q.nTr;if(0!==d){var A=c.asStripClasses[j%d];q._sRowStripe!=A&&(a(r).removeClass(q._sRowStripe).addClass(A),q._sRowStripe=A)}"function"==typeof c.fnRowCallback&&(r=c.fnRowCallback.call(c.oInstance,r,c.aoData[c.aiDisplay[n]]._aData,j,n),!r&&!k&&(Ea(c,0,"A node was not returned by fnRowCallback"),k=!0));g.push(r);j++;if(0!==e)for(q=0;q<e;q++)r==c.aoOpenRows[q].nParent&&
g.push(c.aoOpenRows[q].nTr)}}else g[0]=b.createElement("tr"),"undefined"!=typeof c.asStripClasses[0]&&(g[0].className=c.asStripClasses[0]),k=c.oLanguage.sZeroRecords.replace("_MAX_",c.fnFormatNumber(c.fnRecordsTotal())),1==c.iDraw&&null!==c.sAjaxSource&&!c.oFeatures.bServerSide?k=c.oLanguage.sLoadingRecords:"undefined"!=typeof c.oLanguage.sEmptyTable&&0===c.fnRecordsTotal()&&(k=c.oLanguage.sEmptyTable),d=b.createElement("td"),d.setAttribute("valign","top"),d.colSpan=Aa(c),d.className=c.oClasses.sRowEmpty,
d.innerHTML=k,g[j].appendChild(d);"function"==typeof c.fnHeaderCallback&&c.fnHeaderCallback.call(c.oInstance,a(">tr",c.nTHead)[0],T(c),c._iDisplayStart,c.fnDisplayEnd(),c.aiDisplay);"function"==typeof c.fnFooterCallback&&c.fnFooterCallback.call(c.oInstance,a(">tr",c.nTFoot)[0],T(c),c._iDisplayStart,c.fnDisplayEnd(),c.aiDisplay);j=b.createDocumentFragment();d=b.createDocumentFragment();if(c.nTBody){k=c.nTBody.parentNode;d.appendChild(c.nTBody);if(!c.oScroll.bInfinite||!c._bInitComplete||c.bSorted||
c.bFiltered){e=c.nTBody.childNodes;for(d=e.length-1;0<=d;d--)e[d].parentNode.removeChild(e[d])}d=0;for(e=g.length;d<e;d++)j.appendChild(g[d]);c.nTBody.appendChild(j);null!==k&&k.appendChild(c.nTBody)}for(d=c.aoDrawCallback.length-1;0<=d;d--)c.aoDrawCallback[d].fn.call(c.oInstance,c);c.bSorted=!1;c.bFiltered=!1;c.bDrawing=!1;c.oFeatures.bServerSide&&(ja(c,!1),"undefined"==typeof c._bInitComplete&&t(c))}}function V(a){a.oFeatures.bSort?Ba(a,a.oPreviousSearch):a.oFeatures.bFilter?ga(a,a.oPreviousSearch):
(ma(a),E(a))}function ha(a){if(a.bAjaxDataGet){ja(a,!0);var b=a.aoColumns.length,c=[],d,e;a.iDraw++;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:Ua(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:!1!==a.oFeatures.bPaginate?a._iDisplayLength:-1});for(e=0;e<b;e++)d=a.aoColumns[e].mDataProp,c.push({name:"mDataProp_"+e,value:"function"==typeof d?"function":d});if(!1!==a.oFeatures.bFilter){c.push({name:"sSearch",
value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(e=0;e<b;e++)c.push({name:"sSearch_"+e,value:a.aoPreSearchCols[e].sSearch}),c.push({name:"bRegex_"+e,value:a.aoPreSearchCols[e].bRegex}),c.push({name:"bSearchable_"+e,value:a.aoColumns[e].bSearchable})}if(!1!==a.oFeatures.bSort){d=null!==a.aaSortingFixed?a.aaSortingFixed.length:0;var g=a.aaSorting.length;c.push({name:"iSortingCols",value:d+g});for(e=0;e<d;e++)c.push({name:"iSortCol_"+e,value:a.aaSortingFixed[e][0]}),
c.push({name:"sSortDir_"+e,value:a.aaSortingFixed[e][1]});for(e=0;e<g;e++)c.push({name:"iSortCol_"+(e+d),value:a.aaSorting[e][0]}),c.push({name:"sSortDir_"+(e+d),value:a.aaSorting[e][1]});for(e=0;e<b;e++)c.push({name:"bSortable_"+e,value:a.aoColumns[e].bSortable})}a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(b){W(a,b)},a);return!1}return!0}function W(a,b){if("undefined"!=typeof b.sEcho){if(1*b.sEcho<a.iDraw)return;a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||
a.bFiltered))&&Ha(a);a._iRecordsTotal=b.iTotalRecords;a._iRecordsDisplay=b.iTotalDisplayRecords;var c=Ua(a);if(c="undefined"!=typeof b.sColumns&&""!==c&&b.sColumns!=c)var d=oa(a,b.sColumns);for(var e=bb(a.sAjaxDataProp)(b),g=0,j=e.length;g<j;g++)if(c){for(var k=[],n=0,p=a.aoColumns.length;n<p;n++)k.push(e[g][d[n]]);q(a,k)}else q(a,e[g]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;E(a);a.bAjaxDataGet=!0;ja(a,!1)}function sa(a){var c=b.createElement("div");a.nTable.parentNode.insertBefore(c,
a.nTable);a.nTableWrapper=b.createElement("div");a.nTableWrapper.className=a.oClasses.sWrapper;""!==a.sTableId&&a.nTableWrapper.setAttribute("id",a.sTableId+"_wrapper");a.nTableReinsertBefore=a.nTable.nextSibling;for(var d=a.nTableWrapper,g=a.sDom.split(""),j,k,n,p,q,r,t,z=0;z<g.length;z++){k=0;n=g[z];if("<"==n){p=b.createElement("div");q=g[z+1];if("'"==q||'"'==q){r="";for(t=2;g[z+t]!=q;)r+=g[z+t],t++;"H"==r?r="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":"F"==
r&&(r="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");-1!=r.indexOf(".")?(q=r.split("."),p.setAttribute("id",q[0].substr(1,q[0].length-1)),p.className=q[1]):"#"==r.charAt(0)?p.setAttribute("id",r.substr(1,r.length-1)):p.className=r;z+=t}d.appendChild(p);d=p}else if(">"==n)d=d.parentNode;else if("l"==n&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange)j=C(a),k=1;else if("f"==n&&a.oFeatures.bFilter)j=ia(a),k=1;else if("r"==n&&a.oFeatures.bProcessing)j=M(a),k=1;
else if("t"==n)j=S(a),k=1;else if("i"==n&&a.oFeatures.bInfo)j=la(a),k=1;else if("p"==n&&a.oFeatures.bPaginate)j=w(a),k=1;else if(0!==e.aoFeatures.length){p=e.aoFeatures;t=0;for(q=p.length;t<q;t++)if(n==p[t].cFeature){(j=p[t].fnInit(a))&&(k=1);break}}1==k&&null!==j&&("object"!=typeof a.aanFeatures[n]&&(a.aanFeatures[n]=[]),a.aanFeatures[n].push(j),d.appendChild(j))}c.parentNode.replaceChild(a.nTableWrapper,c)}function S(c){if(""===c.oScroll.sX&&""===c.oScroll.sY)return c.nTable;var d=b.createElement("div"),
j=b.createElement("div"),k=b.createElement("div"),n=b.createElement("div"),p=b.createElement("div"),q=b.createElement("div"),r=c.nTable.cloneNode(!1),t=c.nTable.cloneNode(!1),z=c.nTable.getElementsByTagName("thead")[0],A=0===c.nTable.getElementsByTagName("tfoot").length?null:c.nTable.getElementsByTagName("tfoot")[0],w="undefined"!=typeof g.bJQueryUI&&g.bJQueryUI?e.oJUIClasses:e.oStdClasses;j.appendChild(k);p.appendChild(q);n.appendChild(c.nTable);d.appendChild(j);d.appendChild(n);k.appendChild(r);
r.appendChild(z);null!==A&&(d.appendChild(p),q.appendChild(t),t.appendChild(A));d.className=w.sScrollWrapper;j.className=w.sScrollHead;k.className=w.sScrollHeadInner;n.className=w.sScrollBody;p.className=w.sScrollFoot;q.className=w.sScrollFootInner;c.oScroll.bAutoCss&&(j.style.overflow="hidden",j.style.position="relative",p.style.overflow="hidden",n.style.overflow="auto");j.style.border="0";j.style.width="100%";p.style.border="0";k.style.width="150%";r.removeAttribute("id");r.style.marginLeft="0";
c.nTable.style.marginLeft="0";null!==A&&(t.removeAttribute("id"),t.style.marginLeft="0");k=a(">caption",c.nTable);q=0;for(t=k.length;q<t;q++)r.appendChild(k[q]);""!==c.oScroll.sX&&(j.style.width=P(c.oScroll.sX),n.style.width=P(c.oScroll.sX),null!==A&&(p.style.width=P(c.oScroll.sX)),a(n).scroll(function(){j.scrollLeft=this.scrollLeft;null!==A&&(p.scrollLeft=this.scrollLeft)}));""!==c.oScroll.sY&&(n.style.height=P(c.oScroll.sY));c.aoDrawCallback.push({fn:U,sName:"scrolling"});c.oScroll.bInfinite&&a(n).scroll(function(){!c.bDrawing&&
(a(this).scrollTop()+a(this).height()>a(c.nTable).height()-c.oScroll.iLoadGap&&c.fnDisplayEnd()<c.fnRecordsDisplay())&&(Q(c,"next"),ma(c),E(c))});c.nScrollHead=j;c.nScrollFoot=p;return d}function U(b){var c=b.nScrollHead.getElementsByTagName("div")[0],d=c.getElementsByTagName("table")[0],e=b.nTable.parentNode,g,j,k,n,p,q,r,t,z=[];k=b.nTable.getElementsByTagName("thead");0<k.length&&b.nTable.removeChild(k[0]);null!==b.nTFoot&&(p=b.nTable.getElementsByTagName("tfoot"),0<p.length&&b.nTable.removeChild(p[0]));
k=b.nTHead.cloneNode(!0);b.nTable.insertBefore(k,b.nTable.childNodes[0]);null!==b.nTFoot&&(p=b.nTFoot.cloneNode(!0),b.nTable.insertBefore(p,b.nTable.childNodes[1]));""===b.oScroll.sX&&(e.style.width="100%",c.parentNode.style.width="100%");var A=Na(b,k);g=0;for(j=A.length;g<j;g++)r=za(b,g),A[g].style.width=b.aoColumns[r].sWidth;null!==b.nTFoot&&Va(function(a){a.style.width=""},p.getElementsByTagName("tr"));g=a(b.nTable).outerWidth();""===b.oScroll.sX?(b.nTable.style.width="100%",a.browser.msie&&7>=
a.browser.version&&(b.nTable.style.width=P(a(b.nTable).outerWidth()-b.oScroll.iBarWidth))):""!==b.oScroll.sXInner?b.nTable.style.width=P(b.oScroll.sXInner):g==a(e).width()&&a(e).height()<a(b.nTable).height()?(b.nTable.style.width=P(g-b.oScroll.iBarWidth),a(b.nTable).outerWidth()>g-b.oScroll.iBarWidth&&(b.nTable.style.width=P(g))):b.nTable.style.width=P(g);g=a(b.nTable).outerWidth();""===b.oScroll.sX&&(e.style.width=P(g+b.oScroll.iBarWidth),c.parentNode.style.width=P(g+b.oScroll.iBarWidth));j=b.nTHead.getElementsByTagName("tr");
k=k.getElementsByTagName("tr");Va(function(b,c){q=b.style;q.paddingTop="0";q.paddingBottom="0";q.borderTopWidth="0";q.borderBottomWidth="0";q.height=0;t=a(b).width();c.style.width=P(t);z.push(t)},k,j);a(k).height(0);null!==b.nTFoot&&(n=p.getElementsByTagName("tr"),p=b.nTFoot.getElementsByTagName("tr"),Va(function(b,c){q=b.style;q.paddingTop="0";q.paddingBottom="0";q.borderTopWidth="0";q.borderBottomWidth="0";q.height=0;t=a(b).width();c.style.width=P(t);z.push(t)},n,p),a(n).height(0));Va(function(a){a.innerHTML=
"";a.style.width=P(z.shift())},k);null!==b.nTFoot&&Va(function(a){a.innerHTML="";a.style.width=P(z.shift())},n);a(b.nTable).outerWidth()<g&&(""===b.oScroll.sX?Ea(b,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you enable x-scrolling or increase the width the table has in which to be drawn"):""!==b.oScroll.sXInner&&Ea(b,1,"The table cannot fit into the current element which will cause column misalignment. It is suggested that you increase the sScrollXInner property to allow it to draw in a larger area, or simply remove that parameter to allow automatic calculation"));
""===b.oScroll.sY&&(a.browser.msie&&7>=a.browser.version)&&(e.style.height=P(b.nTable.offsetHeight+b.oScroll.iBarWidth));""!==b.oScroll.sY&&b.oScroll.bCollapse&&(e.style.height=P(b.oScroll.sY),n=""!==b.oScroll.sX&&b.nTable.offsetWidth>e.offsetWidth?b.oScroll.iBarWidth:0,b.nTable.offsetHeight<e.offsetHeight&&(e.style.height=P(a(b.nTable).height()+n)));n=a(b.nTable).outerWidth();d.style.width=P(n);c.style.width=P(n+b.oScroll.iBarWidth);null!==b.nTFoot&&(c=b.nScrollFoot.getElementsByTagName("div")[0],
d=c.getElementsByTagName("table")[0],c.style.width=P(b.nTable.offsetWidth+b.oScroll.iBarWidth),d.style.width=P(b.nTable.offsetWidth));if(b.bSorted||b.bFiltered)e.scrollTop=0}function ba(a){if(!1===a.oFeatures.bAutoWidth)return!1;Ca(a);for(var b=0,c=a.aoColumns.length;b<c;b++)a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}function ia(c){var d=c.oLanguage.sSearch,d=-1!==d.indexOf("_INPUT_")?d.replace("_INPUT_",'<input type="text" />'):""===d?'<input type="text" />':d+' <input type="text" />',
e=b.createElement("div");e.className=c.oClasses.sFilter;e.innerHTML="<label>"+d+"</label>";""!==c.sTableId&&"undefined"==typeof c.aanFeatures.f&&e.setAttribute("id",c.sTableId+"_filter");d=a("input",e);d.val(c.oPreviousSearch.sSearch.replace('"',"&quot;"));d.bind("keyup.DT",function(){for(var b=c.aanFeatures.f,d=0,e=b.length;d<e;d++)b[d]!=this.parentNode&&a("input",b[d]).val(this.value);this.value!=c.oPreviousSearch.sSearch&&ga(c,{sSearch:this.value,bRegex:c.oPreviousSearch.bRegex,bSmart:c.oPreviousSearch.bSmart})});
d.bind("keypress.DT",function(a){if(13==a.keyCode)return!1});return e}function ga(a,b,c){ua(a,b.sSearch,c,b.bRegex,b.bSmart);for(b=0;b<a.aoPreSearchCols.length;b++)xa(a,a.aoPreSearchCols[b].sSearch,b,a.aoPreSearchCols[b].bRegex,a.aoPreSearchCols[b].bSmart);0!==e.afnFiltering.length&&Y(a);a.bFiltered=!0;a._iDisplayStart=0;ma(a);E(a);ta(a,0)}function Y(a){for(var b=e.afnFiltering,c=0,d=b.length;c<d;c++)for(var g=0,j=0,k=a.aiDisplay.length;j<k;j++){var n=a.aiDisplay[j-g];b[c](a,ab(a,n,"filter"),n)||
(a.aiDisplay.splice(j-g,1),g++)}}function xa(a,b,c,d,e){if(""!==b){var g=0;b=N(b,d,e);for(d=a.aiDisplay.length-1;0<=d;d--)e=na(Ia(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType),b.test(e)||(a.aiDisplay.splice(d,1),g++)}}function ua(a,b,c,d,g){var j=N(b,d,g);if("undefined"==typeof c||null===c)c=0;0!==e.afnFiltering.length&&(c=1);if(0>=b.length)a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice();else if(a.aiDisplay.length==a.aiDisplayMaster.length||a.oPreviousSearch.sSearch.length>
b.length||1==c||0!==b.indexOf(a.oPreviousSearch.sSearch)){a.aiDisplay.splice(0,a.aiDisplay.length);ta(a,1);for(c=0;c<a.aiDisplayMaster.length;c++)j.test(a.asDataSearch[c])&&a.aiDisplay.push(a.aiDisplayMaster[c])}else{var k=0;for(c=0;c<a.asDataSearch.length;c++)j.test(a.asDataSearch[c])||(a.aiDisplay.splice(c-k,1),k++)}a.oPreviousSearch.sSearch=b;a.oPreviousSearch.bRegex=d;a.oPreviousSearch.bSmart=g}function ta(a,b){a.asDataSearch.splice(0,a.asDataSearch.length);for(var c="undefined"!=typeof b&&1==
b?a.aiDisplayMaster:a.aiDisplay,d=0,e=c.length;d<e;d++)a.asDataSearch[d]=va(a,ab(a,c[d],"filter"))}function va(a,c){var d="";"undefined"==typeof a.__nTmpFilter&&(a.__nTmpFilter=b.createElement("div"));for(var e=a.__nTmpFilter,g=0,j=a.aoColumns.length;g<j;g++)a.aoColumns[g].bSearchable&&(d+=na(c[g],a.aoColumns[g].sType)+"  ");-1!==d.indexOf("&")&&(e.innerHTML=d,d=e.textContent?e.textContent:e.innerText,d=d.replace(/\n/g," ").replace(/\r/g,""));return d}function N(a,b,c){if(c)return a=b?a.split(" "):
pa(a).split(" "),a="^(?=.*?"+a.join(")(?=.*?")+").*$",RegExp(a,"i");a=b?a:pa(a);return RegExp(a,"i")}function na(a,b){return"function"==typeof e.ofnSearch[b]?e.ofnSearch[b](a):"html"==b?a.replace(/\n/g," ").replace(/<.*?>/g,""):"string"==typeof a?a.replace(/\n/g," "):null===a?"":a}function Ba(a,b){var c,d,g,j,k=[],n=[],p=e.oSort;d=a.aoData;var q=a.aoColumns;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||null!==a.aaSortingFixed)){k=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):
a.aaSorting.slice();for(c=0;c<k.length;c++){var r=k[c][0];g=J(a,r);j=a.aoColumns[r].sSortDataType;if("undefined"!=typeof e.afnSortData[j]){var t=e.afnSortData[j](a,r,g);g=0;for(j=d.length;g<j;g++)Wa(a,g,r,t[g])}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++)n[a.aiDisplayMaster[c]]=c;var z=k.length;a.aiDisplayMaster.sort(function(b,d){var e,g;for(c=0;c<z;c++)if(e=q[k[c][0]].iDataSort,g=q[e].sType,e=p[(g?g:"string")+"-"+k[c][1]](Ia(a,b,e,"sort"),Ia(a,d,e,"sort")),0!==e)return e;return p["numeric-asc"](n[b],
n[d])})}("undefined"==typeof b||b)&&!a.oFeatures.bDeferRender&&G(a);a.bSorted=!0;a.oFeatures.bFilter?ga(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,ma(a),E(a))}function qa(b,c,d,e){a(c).bind("click.DT",function(a){if(!1!==b.aoColumns[d].bSortable){var c=function(){var c,e;if(a.shiftKey){for(var g=!1,j=0;j<b.aaSorting.length;j++)if(b.aaSorting[j][0]==d){g=!0;c=b.aaSorting[j][0];e=b.aaSorting[j][2]+1;"undefined"==typeof b.aoColumns[c].asSorting[e]?b.aaSorting.splice(j,
1):(b.aaSorting[j][1]=b.aoColumns[c].asSorting[e],b.aaSorting[j][2]=e);break}!1===g&&b.aaSorting.push([d,b.aoColumns[d].asSorting[0],0])}else 1==b.aaSorting.length&&b.aaSorting[0][0]==d?(c=b.aaSorting[0][0],e=b.aaSorting[0][2]+1,"undefined"==typeof b.aoColumns[c].asSorting[e]&&(e=0),b.aaSorting[0][1]=b.aoColumns[c].asSorting[e],b.aaSorting[0][2]=e):(b.aaSorting.splice(0,b.aaSorting.length),b.aaSorting.push([d,b.aoColumns[d].asSorting[0],0]));Ba(b)};b.oFeatures.bProcessing?(ja(b,!0),setTimeout(function(){c();
b.oFeatures.bServerSide||ja(b,!1)},0)):c();"function"==typeof e&&e(b)}})}function G(b){var c,d,e,g,j,k=b.aoColumns.length,n=b.oClasses;for(c=0;c<k;c++)b.aoColumns[c].bSortable&&a(b.aoColumns[c].nTh).removeClass(n.sSortAsc+" "+n.sSortDesc+" "+b.aoColumns[c].sSortingClass);g=null!==b.aaSortingFixed?b.aaSortingFixed.concat(b.aaSorting):b.aaSorting.slice();for(c=0;c<b.aoColumns.length;c++)if(b.aoColumns[c].bSortable){j=b.aoColumns[c].sSortingClass;e=-1;for(d=0;d<g.length;d++)if(g[d][0]==c){j="asc"==g[d][1]?
n.sSortAsc:n.sSortDesc;e=d;break}a(b.aoColumns[c].nTh).addClass(j);b.bJUI&&(d=a("span",b.aoColumns[c].nTh),d.removeClass(n.sSortJUIAsc+" "+n.sSortJUIDesc+" "+n.sSortJUI+" "+n.sSortJUIAscAllowed+" "+n.sSortJUIDescAllowed),d.addClass(-1==e?b.aoColumns[c].sSortingClassJUI:"asc"==g[e][1]?n.sSortJUIAsc:n.sSortJUIDesc))}else a(b.aoColumns[c].nTh).addClass(b.aoColumns[c].sSortingClass);j=n.sSortColumn;if(b.oFeatures.bSort&&b.oFeatures.bSortClasses){e=da(b);if(b.oFeatures.bDeferRender)a(e).removeClass(j+
"1 "+j+"2 "+j+"3");else if(e.length>=k)for(c=0;c<k;c++)if(-1!=e[c].className.indexOf(j+"1")){d=0;for(b=e.length/k;d<b;d++)e[k*d+c].className=a.trim(e[k*d+c].className.replace(j+"1",""))}else if(-1!=e[c].className.indexOf(j+"2")){d=0;for(b=e.length/k;d<b;d++)e[k*d+c].className=a.trim(e[k*d+c].className.replace(j+"2",""))}else if(-1!=e[c].className.indexOf(j+"3")){d=0;for(b=e.length/k;d<b;d++)e[k*d+c].className=a.trim(e[k*d+c].className.replace(" "+j+"3",""))}var n=1,p;for(c=0;c<g.length;c++){p=parseInt(g[c][0],
10);d=0;for(b=e.length/k;d<b;d++)e[k*d+p].className+=" "+j+n;3>n&&n++}}}function w(a){if(a.oScroll.bInfinite)return null;var c=b.createElement("div");c.className=a.oClasses.sPaging+a.sPaginationType;e.oPagination[a.sPaginationType].fnInit(a,c,function(a){ma(a);E(a)});"undefined"==typeof a.aanFeatures.p&&a.aoDrawCallback.push({fn:function(a){e.oPagination[a.sPaginationType].fnUpdate(a,function(a){ma(a);E(a)})},sName:"pagination"});return c}function Q(a,b){var c=a._iDisplayStart;if("first"==b)a._iDisplayStart=
0;else if("previous"==b)a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart&&(a._iDisplayStart=0);else if("next"==b)0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0;else if("last"==b)if(0<=a._iDisplayLength){var d=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(d-1)*a._iDisplayLength}else a._iDisplayStart=0;else Ea(a,0,"Unknown paging action: "+
b);return c!=a._iDisplayStart}function la(a){var c=b.createElement("div");c.className=a.oClasses.sInfo;"undefined"==typeof a.aanFeatures.i&&(a.aoDrawCallback.push({fn:L,sName:"information"}),""!==a.sTableId&&c.setAttribute("id",a.sTableId+"_info"));return c}function L(b){if(b.oFeatures.bInfo&&0!==b.aanFeatures.i.length){var c=b._iDisplayStart+1,d=b.fnDisplayEnd(),e=b.fnRecordsTotal(),g=b.fnRecordsDisplay(),j=b.fnFormatNumber(c),k=b.fnFormatNumber(d),n=b.fnFormatNumber(e),p=b.fnFormatNumber(g);b.oScroll.bInfinite&&
(j=b.fnFormatNumber(1));j=0===b.fnRecordsDisplay()&&b.fnRecordsDisplay()==b.fnRecordsTotal()?b.oLanguage.sInfoEmpty+b.oLanguage.sInfoPostFix:0===b.fnRecordsDisplay()?b.oLanguage.sInfoEmpty+" "+b.oLanguage.sInfoFiltered.replace("_MAX_",n)+b.oLanguage.sInfoPostFix:b.fnRecordsDisplay()==b.fnRecordsTotal()?b.oLanguage.sInfo.replace("_START_",j).replace("_END_",k).replace("_TOTAL_",p)+b.oLanguage.sInfoPostFix:b.oLanguage.sInfo.replace("_START_",j).replace("_END_",k).replace("_TOTAL_",p)+" "+b.oLanguage.sInfoFiltered.replace("_MAX_",
b.fnFormatNumber(b.fnRecordsTotal()))+b.oLanguage.sInfoPostFix;null!==b.oLanguage.fnInfoCallback&&(j=b.oLanguage.fnInfoCallback(b,c,d,e,g,j));b=b.aanFeatures.i;c=0;for(d=b.length;c<d;c++)a(b[c]).html(j)}}function C(c){if(c.oScroll.bInfinite)return null;var d='<select size="1" '+(""===c.sTableId?"":'name="'+c.sTableId+'_length"')+">",e,g;if(2==c.aLengthMenu.length&&"object"==typeof c.aLengthMenu[0]&&"object"==typeof c.aLengthMenu[1]){e=0;for(g=c.aLengthMenu[0].length;e<g;e++)d+='<option value="'+c.aLengthMenu[0][e]+
'">'+c.aLengthMenu[1][e]+"</option>"}else{e=0;for(g=c.aLengthMenu.length;e<g;e++)d+='<option value="'+c.aLengthMenu[e]+'">'+c.aLengthMenu[e]+"</option>"}var d=d+"</select>",j=b.createElement("div");""!==c.sTableId&&"undefined"==typeof c.aanFeatures.l&&j.setAttribute("id",c.sTableId+"_length");j.className=c.oClasses.sLength;j.innerHTML="<label>"+c.oLanguage.sLengthMenu.replace("_MENU_",d)+"</label>";a('select option[value="'+c._iDisplayLength+'"]',j).attr("selected",!0);a("select",j).bind("change.DT",
function(){var b=a(this).val(),d=c.aanFeatures.l;e=0;for(g=d.length;e<g;e++)d[e]!=this.parentNode&&a("select",d[e]).val(b);c._iDisplayLength=parseInt(b,10);ma(c);c.fnDisplayEnd()==c.fnRecordsDisplay()&&(c._iDisplayStart=c.fnDisplayEnd()-c._iDisplayLength,0>c._iDisplayStart&&(c._iDisplayStart=0));-1==c._iDisplayLength&&(c._iDisplayStart=0);E(c)});return j}function M(a){var c=b.createElement("div");""!==a.sTableId&&"undefined"==typeof a.aanFeatures.r&&c.setAttribute("id",a.sTableId+"_processing");c.innerHTML=
a.oLanguage.sProcessing;c.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(c,a.nTable);return c}function ja(a,b){if(a.oFeatures.bProcessing)for(var c=a.aanFeatures.r,d=0,e=c.length;d<e;d++)c[d].style.visibility=b?"visible":"hidden"}function za(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(!0===a.aoColumns[d].bVisible&&c++,c==b)return d;return null}function J(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(!0===a.aoColumns[d].bVisible&&c++,d==b)return!0===a.aoColumns[d].bVisible?
c:null;return null}function ya(a,b){var c,d;c=a._iDisplayStart;for(d=a._iDisplayEnd;c<d;c++)if(a.aoData[a.aiDisplay[c]].nTr==b)return a.aiDisplay[c];c=0;for(d=a.aoData.length;c<d;c++)if(a.aoData[c].nTr==b)return c;return null}function Aa(a){for(var b=0,c=0;c<a.aoColumns.length;c++)!0===a.aoColumns[c].bVisible&&b++;return b}function ma(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+
a._iDisplayLength}function Ga(a,c){if(!a||null===a||""===a)return 0;"undefined"==typeof c&&(c=b.getElementsByTagName("body")[0]);var d,e=b.createElement("div");e.style.width=P(a);c.appendChild(e);d=e.offsetWidth;c.removeChild(e);return d}function Ca(c){var d=0,e,g=0,j=c.aoColumns.length,k,n=a("th",c.nTHead);for(k=0;k<j;k++)c.aoColumns[k].bVisible&&(g++,null!==c.aoColumns[k].sWidth&&(e=Ga(c.aoColumns[k].sWidthOrig,c.nTable.parentNode),null!==e&&(c.aoColumns[k].sWidth=P(e)),d++));if(j==n.length&&0===
d&&g==j&&""===c.oScroll.sX&&""===c.oScroll.sY)for(k=0;k<c.aoColumns.length;k++)e=a(n[k]).width(),null!==e&&(c.aoColumns[k].sWidth=P(e));else{d=c.nTable.cloneNode(!1);k=c.nTHead.cloneNode(!0);g=b.createElement("tbody");e=b.createElement("tr");d.removeAttribute("id");d.appendChild(k);null!==c.nTFoot&&(d.appendChild(c.nTFoot.cloneNode(!0)),Va(function(a){a.style.width=""},d.getElementsByTagName("tr")));d.appendChild(g);g.appendChild(e);g=a("thead th",d);0===g.length&&(g=a("tbody tr:eq(0)>td",d));n=Na(c,
k);for(k=g=0;k<j;k++){var p=c.aoColumns[k];p.bVisible&&null!==p.sWidthOrig&&""!==p.sWidthOrig?n[k-g].style.width=P(p.sWidthOrig):p.bVisible?n[k-g].style.width="":g++}for(k=0;k<j;k++)c.aoColumns[k].bVisible&&(g=Pa(c,k),null!==g&&(g=g.cloneNode(!0),""!==c.aoColumns[k].sContentPadding&&(g.innerHTML+=c.aoColumns[k].sContentPadding),e.appendChild(g)));j=c.nTable.parentNode;j.appendChild(d);""!==c.oScroll.sX&&""!==c.oScroll.sXInner?d.style.width=P(c.oScroll.sXInner):""!==c.oScroll.sX?(d.style.width="",
a(d).width()<j.offsetWidth&&(d.style.width=P(j.offsetWidth))):""!==c.oScroll.sY&&(d.style.width=P(j.offsetWidth));d.style.visibility="hidden";ka(c,d);j=a("tbody tr:eq(0)",d).children();0===j.length&&(j=Na(c,a("thead",d)[0]));if(""!==c.oScroll.sX){for(k=g=e=0;k<c.aoColumns.length;k++)c.aoColumns[k].bVisible&&(e=null===c.aoColumns[k].sWidthOrig?e+a(j[g]).outerWidth():e+(parseInt(c.aoColumns[k].sWidth.replace("px",""),10)+(a(j[g]).outerWidth()-a(j[g]).width())),g++);d.style.width=P(e);c.nTable.style.width=
P(e)}for(k=g=0;k<c.aoColumns.length;k++)c.aoColumns[k].bVisible&&(e=a(j[g]).width(),null!==e&&0<e&&(c.aoColumns[k].sWidth=P(e)),g++);c.nTable.style.width=P(a(d).outerWidth());d.parentNode.removeChild(d)}}function ka(b,c){""===b.oScroll.sX&&""!==b.oScroll.sY?(a(c).width(),c.style.width=P(a(c).outerWidth()-b.oScroll.iBarWidth)):""!==b.oScroll.sX&&(c.style.width=P(a(c).outerWidth()))}function Pa(a,c){var d=Qa(a,c);if(0>d)return null;if(null===a.aoData[d].nTr){var e=b.createElement("td");e.innerHTML=
Ia(a,d,c,"");return e}return da(a,d)[c]}function Qa(a,b){for(var c=-1,d=-1,e=0;e<a.aoData.length;e++){var g=Ia(a,e,b,"display")+"",g=g.replace(/<.*?>/g,"");g.length>c&&(c=g.length,d=e)}return d}function P(a){if(null===a)return"0px";if("number"==typeof a)return 0>a?"0px":a+"px";var b=a.charCodeAt(a.length-1);return 48>b||57<b?a:a+"px"}function Da(a){for(var b=e.aTypes,c=b.length,d=0;d<c;d++){var g=b[d](a);if(null!==g)return g}return"string"}function aa(a){for(var b=0;b<c.length;b++)if(c[b].nTable==
a)return c[b];return null}function T(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++)b.push(a.aoData[d]._aData);return b}function ra(a){for(var b=[],c=0,d=a.aoData.length;c<d;c++)null!==a.aoData[c].nTr&&b.push(a.aoData[c].nTr);return b}function da(a,b){var c=[],d,e,g,j,k,n;e=0;var p=a.aoData.length;"undefined"!=typeof b&&(e=b,p=b+1);for(g=e;g<p;g++)if(n=a.aoData[g],null!==n.nTr){e=[];j=0;for(k=n.nTr.childNodes.length;j<k;j++)d=n.nTr.childNodes[j].nodeName.toLowerCase(),("td"==d||"th"==d)&&e.push(n.nTr.childNodes[j]);
j=d=0;for(k=a.aoColumns.length;j<k;j++)a.aoColumns[j].bVisible?c.push(e[j-d]):(c.push(n._anHidden[j]),d++)}return c}function pa(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","g"),"\\$1")}function fa(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)a[d]==b?c=d:a[d]>b&&a[d]--; -1!=c&&a.splice(c,1)}function oa(a,b){for(var c=b.split(","),d=[],e=0,g=a.aoColumns.length;e<g;e++)for(var j=0;j<g;j++)if(a.aoColumns[e].sName==c[j]){d.push(j);break}return d}function Ua(a){for(var b=
"",c=0,d=a.aoColumns.length;c<d;c++)b+=a.aoColumns[c].sName+",";return b.length==d?"":b.slice(0,-1)}function Ea(a,b,c){a=""===a.sTableId?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(0===b)if("alert"==e.sErrMode)alert(a);else throw a;else"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log(a)}function Ha(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);ma(a)}
function ca(a){if(a.oFeatures.bStateSave&&"undefined"==typeof a.bDestroying){var b,c,d,e;e="{"+('"iCreate":'+(new Date).getTime()+",");e+='"iStart":'+(a.oScroll.bInfinite?0:a._iDisplayStart)+",";e+='"iEnd":'+(a.oScroll.bInfinite?a._iDisplayLength:a._iDisplayEnd)+",";e+='"iLength":'+a._iDisplayLength+",";e+='"sFilter":"'+encodeURIComponent(a.oPreviousSearch.sSearch)+'",';e+='"sFilterEsc":'+!a.oPreviousSearch.bRegex+",";e+='"aaSorting":[ ';for(b=0;b<a.aaSorting.length;b++)e+="["+a.aaSorting[b][0]+',"'+
a.aaSorting[b][1]+'"],';e=e.substring(0,e.length-1);e+='],"aaSearchCols":[ ';for(b=0;b<a.aoPreSearchCols.length;b++)e+='["'+encodeURIComponent(a.aoPreSearchCols[b].sSearch)+'",'+!a.aoPreSearchCols[b].bRegex+"],";e=e.substring(0,e.length-1);e+="],";e+='"abVisCols":[ ';for(b=0;b<a.aoColumns.length;b++)e+=a.aoColumns[b].bVisible+",";e=e.substring(0,e.length-1);e+="]";b=0;for(c=a.aoStateSave.length;b<c;b++)d=a.aoStateSave[b].fn(a,e),""!==d&&(e=d);e+="}";X(a.sCookiePrefix+a.sInstance,e,a.iCookieDuration,
a.sCookiePrefix,a.fnCookieCallback)}}function wa(b,c){if(b.oFeatures.bStateSave){var d,e,g;e=Ma(b.sCookiePrefix+b.sInstance);if(null!==e&&""!==e){try{d="function"==typeof a.parseJSON?a.parseJSON(e.replace(/'/g,'"')):eval("("+e+")")}catch(j){return}e=0;for(g=b.aoStateLoad.length;e<g;e++)if(!b.aoStateLoad[e].fn(b,d))return;b.oLoadedState=a.extend(!0,{},d);b._iDisplayStart=d.iStart;b.iInitDisplayStart=d.iStart;b._iDisplayEnd=d.iEnd;b._iDisplayLength=d.iLength;b.oPreviousSearch.sSearch=decodeURIComponent(d.sFilter);
b.aaSorting=d.aaSorting.slice();b.saved_aaSorting=d.aaSorting.slice();"undefined"!=typeof d.sFilterEsc&&(b.oPreviousSearch.bRegex=!d.sFilterEsc);if("undefined"!=typeof d.aaSearchCols)for(e=0;e<d.aaSearchCols.length;e++)b.aoPreSearchCols[e]={sSearch:decodeURIComponent(d.aaSearchCols[e][0]),bRegex:!d.aaSearchCols[e][1]};if("undefined"!=typeof d.abVisCols){c.saved_aoColumns=[];for(e=0;e<d.abVisCols.length;e++)c.saved_aoColumns[e]={},c.saved_aoColumns[e].bVisible=d.abVisCols[e]}}}}function X(c,e,g,j,
k){var n=new Date;n.setTime(n.getTime()+1E3*g);g=d.location.pathname.split("/");c=c+"_"+g.pop().replace(/[\/:]/g,"").toLowerCase();var p;null!==k?(p="function"==typeof a.parseJSON?a.parseJSON(e):eval("("+e+")"),e=k(c,p,n.toGMTString(),g.join("/")+"/")):e=c+"="+encodeURIComponent(e)+"; expires="+n.toGMTString()+"; path="+g.join("/")+"/";k="";n=9999999999999;if(4096<(null!==Ma(c)?b.cookie.length:e.length+b.cookie.length)+10){c=b.cookie.split(";");for(var q=0,r=c.length;q<r;q++)if(-1!=c[q].indexOf(j)){var t=
c[q].split("=");try{p=eval("("+decodeURIComponent(t[1])+")")}catch(z){continue}"undefined"!=typeof p.iCreate&&p.iCreate<n&&(k=t[0],n=p.iCreate)}""!==k&&(b.cookie=k+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+g.join("/")+"/")}b.cookie=e}function Ma(a){var c=d.location.pathname.split("/");a=a+"_"+c[c.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";for(var c=b.cookie.split(";"),e=0;e<c.length;e++){for(var g=c[e];" "==g.charAt(0);)g=g.substring(1,g.length);if(0===g.indexOf(a))return decodeURIComponent(g.substring(a.length,
g.length))}return null}function Z(a,b){var c=b.getElementsByTagName("tr"),d,e,g,j,k,n,p,q;a.splice(0,a.length);e=0;for(n=c.length;e<n;e++)a.push([]);e=0;for(n=c.length;e<n;e++){g=0;for(p=c[e].childNodes.length;g<p;g++)if(d=c[e].childNodes[g],"TD"==d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){var r=1*d.getAttribute("colspan"),t=1*d.getAttribute("rowspan"),r=!r||0===r||1===r?1:r,t=!t||0===t||1===t?1:t;for(j=0;"undefined"!=typeof a[e][j];)j++;q=j;for(k=0;k<r;k++)for(j=0;j<t;j++)a[e+j][q+
k]={cell:d,unique:1==r?!0:!1},a[e+j].nTr=c[e]}}}function Na(a,b,c){var d=[];"undefined"==typeof c&&(c=a.aoHeader,"undefined"!=typeof b&&(c=[],Z(c,b)));b=0;for(var e=c.length;b<e;b++)for(var g=0,j=c[b].length;g<j;g++)if(c[b][g].unique&&("undefined"==typeof d[g]||!a.bSortCellsTop))d[g]=c[b][g].cell;return d}function fb(){var a=b.createElement("p"),c=a.style;c.width="100%";c.height="200px";var d=b.createElement("div"),c=d.style;c.position="absolute";c.top="0px";c.left="0px";c.visibility="hidden";c.width=
"200px";c.height="150px";c.overflow="hidden";d.appendChild(a);b.body.appendChild(d);c=a.offsetWidth;d.style.overflow="scroll";a=a.offsetWidth;c==a&&(a=d.clientWidth);b.body.removeChild(d);return c-a}function Va(a,b,c){for(var d=0,e=b.length;d<e;d++)for(var g=0,j=b[d].childNodes.length;g<j;g++)1==b[d].childNodes[g].nodeType&&("undefined"!=typeof c?a(b[d].childNodes[g],c[d].childNodes[g]):a(b[d].childNodes[g]))}function O(a,b,c,d){"undefined"==typeof d&&(d=c);"undefined"!=typeof b[c]&&(a[d]=b[c])}function ab(a,
b,c){for(var d=[],e=0,g=a.aoColumns.length;e<g;e++)d.push(Ia(a,b,e,c));return d}function Ia(a,b,c,d){var e=a.aoColumns[c];if(void 0===(c=e.fnGetData(a.aoData[b]._aData)))return a.iDrawError!=a.iDraw&&null===e.sDefaultContent&&(Ea(a,0,"Requested unknown parameter '"+e.mDataProp+"' from the data source for row "+b),a.iDrawError=a.iDraw),e.sDefaultContent;null===c&&null!==e.sDefaultContent&&(c=e.sDefaultContent);return"display"==d&&null===c?"":c}function Wa(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,
d)}function bb(a){if(null===a)return function(){return null};if("function"==typeof a)return function(b){return a(b)};if("string"==typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return 2==b.length?function(a){return a[b[0]][b[1]]}:3==b.length?function(a){return a[b[0]][b[1]][b[2]]}:function(a){for(var c=0,d=b.length;c<d;c++)a=a[b[c]];return a}}return function(b){return b[a]}}function Oa(a){if(null===a)return function(){};if("function"==typeof a)return function(b,c){return a(b,c)};if("string"==typeof a&&
-1!=a.indexOf(".")){var b=a.split(".");return 2==b.length?function(a,c){a[b[0]][b[1]]=c}:3==b.length?function(a,c){a[b[0]][b[1]][b[2]]=c}:function(a,c){for(var d=0,e=b.length-1;d<e;d++)a=a[b[d]];a[b[b.length-1]]=c}}return function(b,c){b[a]=c}}this.oApi={};this.fnDraw=function(a){var b=aa(this[e.iApiIndex]);"undefined"!=typeof a&&!1===a?(ma(b),E(b)):V(b)};this.fnFilter=function(b,c,d,g,j){var k=aa(this[e.iApiIndex]);if(k.oFeatures.bFilter)if("undefined"==typeof d&&(d=!1),"undefined"==typeof g&&(g=
!0),"undefined"==typeof j&&(j=!0),"undefined"==typeof c||null===c){if(ga(k,{sSearch:b,bRegex:d,bSmart:g},1),j&&"undefined"!=typeof k.aanFeatures.f){c=k.aanFeatures.f;d=0;for(g=c.length;d<g;d++)a("input",c[d]).val(b)}}else k.aoPreSearchCols[c].sSearch=b,k.aoPreSearchCols[c].bRegex=d,k.aoPreSearchCols[c].bSmart=g,ga(k,k.oPreviousSearch,1)};this.fnSettings=function(){return aa(this[e.iApiIndex])};this.fnVersionCheck=e.fnVersionCheck;this.fnSort=function(a){var b=aa(this[e.iApiIndex]);b.aaSorting=a;Ba(b)};
this.fnSortListener=function(a,b,c){qa(aa(this[e.iApiIndex]),a,b,c)};this.fnAddData=function(a,b){if(0===a.length)return[];var c=[],d,g=aa(this[e.iApiIndex]);if("object"==typeof a[0])for(var j=0;j<a.length;j++){d=q(g,a[j]);if(-1==d)return c;c.push(d)}else{d=q(g,a);if(-1==d)return c;c.push(d)}g.aiDisplay=g.aiDisplayMaster.slice();("undefined"==typeof b||b)&&V(g);return c};this.fnDeleteRow=function(b,c,d){var g=aa(this[e.iApiIndex]);b="object"==typeof b?ya(g,b):b;var j=g.aoData.splice(b,1),k=a.inArray(b,
g.aiDisplay);g.asDataSearch.splice(k,1);fa(g.aiDisplayMaster,b);fa(g.aiDisplay,b);"function"==typeof c&&c.call(this,g,j);g._iDisplayStart>=g.aiDisplay.length&&(g._iDisplayStart-=g._iDisplayLength,0>g._iDisplayStart&&(g._iDisplayStart=0));if("undefined"==typeof d||d)ma(g),E(g);return j};this.fnClearTable=function(a){var b=aa(this[e.iApiIndex]);Ha(b);("undefined"==typeof a||a)&&E(b)};this.fnOpen=function(c,d,g){var j=aa(this[e.iApiIndex]);this.fnClose(c);var k=b.createElement("tr"),n=b.createElement("td");
k.appendChild(n);n.className=g;n.colSpan=Aa(j);"undefined"!=typeof d.jquery||"object"==typeof d?n.appendChild(d):n.innerHTML=d;d=a("tr",j.nTBody);-1!=a.inArray(c,d)&&a(k).insertAfter(c);j.aoOpenRows.push({nTr:k,nParent:c});return k};this.fnClose=function(a){for(var b=aa(this[e.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0;return 1};this.fnGetData=function(a,b){var c=aa(this[e.iApiIndex]);
if("undefined"!=typeof a){var d="object"==typeof a?ya(c,a):a;return"undefined"!=typeof b?Ia(c,d,b,""):"undefined"!=typeof c.aoData[d]?c.aoData[d]._aData:null}return T(c)};this.fnGetNodes=function(a){var b=aa(this[e.iApiIndex]);return"undefined"!=typeof a?"undefined"!=typeof b.aoData[a]?b.aoData[a].nTr:null:ra(b)};this.fnGetPosition=function(a){var b=aa(this[e.iApiIndex]),c=a.nodeName.toUpperCase();if("TR"==c)return ya(b,a);if("TD"==c||"TH"==c)for(var c=ya(b,a.parentNode),d=da(b,c),g=0;g<b.aoColumns.length;g++)if(d[g]==
a)return[c,J(b,g),g];return null};this.fnUpdate=function(b,c,d,g,j){var k=aa(this[e.iApiIndex]);c="object"==typeof c?ya(k,c):c;if(a.isArray(b)&&"object"==typeof b){k.aoData[c]._aData=b.slice();for(d=0;d<k.aoColumns.length;d++)this.fnUpdate(Ia(k,c,d),c,d,!1,!1)}else if("object"==typeof b){k.aoData[c]._aData=a.extend(!0,{},b);for(d=0;d<k.aoColumns.length;d++)this.fnUpdate(Ia(k,c,d),c,d,!1,!1)}else Wa(k,c,d,b),null!==k.aoColumns[d].fnRender&&(b=k.aoColumns[d].fnRender({iDataRow:c,iDataColumn:d,aData:k.aoData[c]._aData,
oSettings:k}),k.aoColumns[d].bUseRendered&&Wa(k,c,d,b)),null!==k.aoData[c].nTr&&(da(k,c)[d].innerHTML=b);d=a.inArray(c,k.aiDisplay);k.asDataSearch[d]=va(k,ab(k,c,"filter"));("undefined"==typeof j||j)&&ba(k);("undefined"==typeof g||g)&&V(k);return 0};this.fnSetColumnVis=function(a,b,c){var d=aa(this[e.iApiIndex]),g,j;j=d.aoColumns.length;var k,n;if(d.aoColumns[a].bVisible!=b){if(b){for(g=n=0;g<a;g++)d.aoColumns[g].bVisible&&n++;n=n>=Aa(d);if(!n)for(g=a;g<j;g++)if(d.aoColumns[g].bVisible){k=g;break}g=
0;for(j=d.aoData.length;g<j;g++)null!==d.aoData[g].nTr&&(n?d.aoData[g].nTr.appendChild(d.aoData[g]._anHidden[a]):d.aoData[g].nTr.insertBefore(d.aoData[g]._anHidden[a],da(d,g)[k]))}else{g=0;for(j=d.aoData.length;g<j;g++)null!==d.aoData[g].nTr&&(k=da(d,g)[a],d.aoData[g]._anHidden[a]=k,k.parentNode.removeChild(k))}d.aoColumns[a].bVisible=b;D(d,d.aoHeader);d.nTFoot&&D(d,d.aoFooter);g=0;for(j=d.aoOpenRows.length;g<j;g++)d.aoOpenRows[g].nTr.colSpan=Aa(d);if("undefined"==typeof c||c)ba(d),E(d);ca(d)}};this.fnPageChange=
function(a,b){var c=aa(this[e.iApiIndex]);Q(c,a);ma(c);("undefined"==typeof b||b)&&E(c)};this.fnDestroy=function(){var b=aa(this[e.iApiIndex]),d=b.nTableWrapper.parentNode,g=b.nTBody,j,k;b.bDestroying=!0;j=0;for(k=b.aoColumns.length;j<k;j++)!1===b.aoColumns[j].bVisible&&this.fnSetColumnVis(j,!0);a(b.nTableWrapper).find("*").andSelf().unbind(".DT");a("tbody>tr>td."+b.oClasses.sRowEmpty,b.nTable).parent().remove();b.nTable!=b.nTHead.parentNode&&(a(">thead",b.nTable).remove(),b.nTable.appendChild(b.nTHead));
b.nTFoot&&b.nTable!=b.nTFoot.parentNode&&(a(">tfoot",b.nTable).remove(),b.nTable.appendChild(b.nTFoot));b.nTable.parentNode.removeChild(b.nTable);a(b.nTableWrapper).remove();b.aaSorting=[];b.aaSortingFixed=[];G(b);a(ra(b)).removeClass(b.asStripClasses.join(" "));b.bJUI?(a("th",b.nTHead).removeClass([e.oStdClasses.sSortable,e.oJUIClasses.sSortableAsc,e.oJUIClasses.sSortableDesc,e.oJUIClasses.sSortableNone].join(" ")),a("th span."+e.oJUIClasses.sSortIcon,b.nTHead).remove(),a("th",b.nTHead).each(function(){var b=
a("div."+e.oJUIClasses.sSortJUIWrapper,this),c=b.contents();a(this).append(c);b.remove()})):a("th",b.nTHead).removeClass([e.oStdClasses.sSortable,e.oStdClasses.sSortableAsc,e.oStdClasses.sSortableDesc,e.oStdClasses.sSortableNone].join(" "));b.nTableReinsertBefore?d.insertBefore(b.nTable,b.nTableReinsertBefore):d.appendChild(b.nTable);j=0;for(k=b.aoData.length;j<k;j++)null!==b.aoData[j].nTr&&g.appendChild(b.aoData[j].nTr);!0===b.oFeatures.bAutoWidth&&(b.nTable.style.width=P(b.sDestroyWidth));a(">tr:even",
g).addClass(b.asDestoryStrips[0]);a(">tr:odd",g).addClass(b.asDestoryStrips[1]);j=0;for(k=c.length;j<k;j++)c[j]==b&&c.splice(j,1);b=null};this.fnAdjustColumnSizing=function(a){var b=aa(this[e.iApiIndex]);ba(b);"undefined"==typeof a||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};for(var Ja in e.oApi)Ja&&(this[Ja]=j(Ja));this.oApi._fnExternApiFunc=j;this.oApi._fnInitalise=n;this.oApi._fnInitComplete=t;this.oApi._fnLanguageProcess=A;this.oApi._fnAddColumn=B;this.oApi._fnColumnOptions=
r;this.oApi._fnAddData=q;this.oApi._fnCreateTr=z;this.oApi._fnGatherData=p;this.oApi._fnBuildHead=F;this.oApi._fnDrawHead=D;this.oApi._fnDraw=E;this.oApi._fnReDraw=V;this.oApi._fnAjaxUpdate=ha;this.oApi._fnAjaxUpdateDraw=W;this.oApi._fnAddOptionsHtml=sa;this.oApi._fnFeatureHtmlTable=S;this.oApi._fnScrollDraw=U;this.oApi._fnAjustColumnSizing=ba;this.oApi._fnFeatureHtmlFilter=ia;this.oApi._fnFilterComplete=ga;this.oApi._fnFilterCustom=Y;this.oApi._fnFilterColumn=xa;this.oApi._fnFilter=ua;this.oApi._fnBuildSearchArray=
ta;this.oApi._fnBuildSearchRow=va;this.oApi._fnFilterCreateSearch=N;this.oApi._fnDataToSearch=na;this.oApi._fnSort=Ba;this.oApi._fnSortAttachListener=qa;this.oApi._fnSortingClasses=G;this.oApi._fnFeatureHtmlPaginate=w;this.oApi._fnPageChange=Q;this.oApi._fnFeatureHtmlInfo=la;this.oApi._fnUpdateInfo=L;this.oApi._fnFeatureHtmlLength=C;this.oApi._fnFeatureHtmlProcessing=M;this.oApi._fnProcessingDisplay=ja;this.oApi._fnVisibleToColumnIndex=za;this.oApi._fnColumnIndexToVisible=J;this.oApi._fnNodeToDataIndex=
ya;this.oApi._fnVisbleColumns=Aa;this.oApi._fnCalculateEnd=ma;this.oApi._fnConvertToWidth=Ga;this.oApi._fnCalculateColumnWidths=Ca;this.oApi._fnScrollingWidthAdjust=ka;this.oApi._fnGetWidestNode=Pa;this.oApi._fnGetMaxLenString=Qa;this.oApi._fnStringToCss=P;this.oApi._fnArrayCmp=function(a,b){if(a.length!=b.length)return 1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return 2;return 0};this.oApi._fnDetectType=Da;this.oApi._fnSettingsFromNode=aa;this.oApi._fnGetDataMaster=T;this.oApi._fnGetTrNodes=ra;this.oApi._fnGetTdNodes=
da;this.oApi._fnEscapeRegex=pa;this.oApi._fnDeleteIndex=fa;this.oApi._fnReOrderIndex=oa;this.oApi._fnColumnOrdering=Ua;this.oApi._fnLog=Ea;this.oApi._fnClearTable=Ha;this.oApi._fnSaveState=ca;this.oApi._fnLoadState=wa;this.oApi._fnCreateCookie=X;this.oApi._fnReadCookie=Ma;this.oApi._fnDetectHeader=Z;this.oApi._fnGetUniqueThs=Na;this.oApi._fnScrollBarWidth=fb;this.oApi._fnApplyToChildren=Va;this.oApi._fnMap=O;this.oApi._fnGetRowData=ab;this.oApi._fnGetCellData=Ia;this.oApi._fnSetCellData=Wa;this.oApi._fnGetObjectDataFn=
bb;this.oApi._fnSetObjectDataFn=Oa;var eb=this;return this.each(function(){var d=0,j,t,z,w,d=0;for(j=c.length;d<j;d++){if(c[d].nTable==this){if("undefined"==typeof g||"undefined"!=typeof g.bRetrieve&&!0===g.bRetrieve)return c[d].oInstance;if("undefined"!=typeof g.bDestroy&&!0===g.bDestroy){c[d].oInstance.fnDestroy();break}else{Ea(c[d],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, please pass either no arguments to the dataTable() function, or set bRetrieve to true. Alternatively, to destory the old table and create a new one, set bDestroy to true (note that a lot of changes to the configuration can be made through the API which is usually much faster).");
return}}if(""!==c[d].sTableId&&c[d].sTableId==this.getAttribute("id")){c.splice(d,1);break}}var v=new k;c.push(v);var D=!1,C=!1,d=this.getAttribute("id");null!==d?(v.sTableId=d,v.sInstance=d):v.sInstance=e._oExternConfig.iNextUnique++;if("table"!=this.nodeName.toLowerCase())Ea(v,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{v.nTable=this;v.oInstance=1==eb.length?eb:a(this).dataTable();v.oApi=eb.oApi;v.sDestroyWidth=a(this).width();if("undefined"!=typeof g&&
null!==g){v.oInit=g;O(v.oFeatures,g,"bPaginate");O(v.oFeatures,g,"bLengthChange");O(v.oFeatures,g,"bFilter");O(v.oFeatures,g,"bSort");O(v.oFeatures,g,"bInfo");O(v.oFeatures,g,"bProcessing");O(v.oFeatures,g,"bAutoWidth");O(v.oFeatures,g,"bSortClasses");O(v.oFeatures,g,"bServerSide");O(v.oFeatures,g,"bDeferRender");O(v.oScroll,g,"sScrollX","sX");O(v.oScroll,g,"sScrollXInner","sXInner");O(v.oScroll,g,"sScrollY","sY");O(v.oScroll,g,"bScrollCollapse","bCollapse");O(v.oScroll,g,"bScrollInfinite","bInfinite");
O(v.oScroll,g,"iScrollLoadGap","iLoadGap");O(v.oScroll,g,"bScrollAutoCss","bAutoCss");O(v,g,"asStripClasses");O(v,g,"fnPreDrawCallback");O(v,g,"fnRowCallback");O(v,g,"fnHeaderCallback");O(v,g,"fnFooterCallback");O(v,g,"fnCookieCallback");O(v,g,"fnInitComplete");O(v,g,"fnServerData");O(v,g,"fnFormatNumber");O(v,g,"aaSorting");O(v,g,"aaSortingFixed");O(v,g,"aLengthMenu");O(v,g,"sPaginationType");O(v,g,"sAjaxSource");O(v,g,"sAjaxDataProp");O(v,g,"iCookieDuration");O(v,g,"sCookiePrefix");O(v,g,"sDom");
O(v,g,"bSortCellsTop");O(v,g,"oSearch","oPreviousSearch");O(v,g,"aoSearchCols","aoPreSearchCols");O(v,g,"iDisplayLength","_iDisplayLength");O(v,g,"bJQueryUI","bJUI");O(v.oLanguage,g,"fnInfoCallback");"function"==typeof g.fnDrawCallback&&v.aoDrawCallback.push({fn:g.fnDrawCallback,sName:"user"});"function"==typeof g.fnStateSaveCallback&&v.aoStateSave.push({fn:g.fnStateSaveCallback,sName:"user"});"function"==typeof g.fnStateLoadCallback&&v.aoStateLoad.push({fn:g.fnStateLoadCallback,sName:"user"});v.oFeatures.bServerSide&&
v.oFeatures.bSort&&v.oFeatures.bSortClasses?v.aoDrawCallback.push({fn:G,sName:"server_side_sort_classes"}):v.oFeatures.bDeferRender&&v.aoDrawCallback.push({fn:G,sName:"defer_sort_classes"});"undefined"!=typeof g.bJQueryUI&&g.bJQueryUI&&(v.oClasses=e.oJUIClasses,"undefined"==typeof g.sDom&&(v.sDom='<"H"lfr>t<"F"ip>'));if(""!==v.oScroll.sX||""!==v.oScroll.sY)v.oScroll.iBarWidth=fb();"undefined"!=typeof g.iDisplayStart&&"undefined"==typeof v.iInitDisplayStart&&(v.iInitDisplayStart=g.iDisplayStart,v._iDisplayStart=
g.iDisplayStart);"undefined"!=typeof g.bStateSave&&(v.oFeatures.bStateSave=g.bStateSave,wa(v,g),v.aoDrawCallback.push({fn:ca,sName:"state_save"}));"undefined"!=typeof g.iDeferLoading&&(v.bDeferLoading=!0,v._iRecordsTotal=g.iDeferLoading,v._iRecordsDisplay=g.iDeferLoading);"undefined"!=typeof g.aaData&&(C=!0);"undefined"!=typeof g&&"undefined"!=typeof g.aoData&&(g.aoColumns=g.aoData);"undefined"!=typeof g.oLanguage&&("undefined"!=typeof g.oLanguage.sUrl&&""!==g.oLanguage.sUrl?(v.oLanguage.sUrl=g.oLanguage.sUrl,
a.getJSON(v.oLanguage.sUrl,null,function(a){A(v,a,!0)}),D=!0):A(v,g.oLanguage,!1))}else g={};"undefined"==typeof g.asStripClasses&&(v.asStripClasses.push(v.oClasses.sStripOdd),v.asStripClasses.push(v.oClasses.sStripEven));t=!1;z=a(">tbody>tr",this);d=0;for(j=v.asStripClasses.length;d<j;d++)if(z.filter(":lt(2)").hasClass(v.asStripClasses[d])){t=!0;break}t&&(v.asDestoryStrips=["",""],a(z[0]).hasClass(v.oClasses.sStripOdd)&&(v.asDestoryStrips[0]+=v.oClasses.sStripOdd+" "),a(z[0]).hasClass(v.oClasses.sStripEven)&&
(v.asDestoryStrips[0]+=v.oClasses.sStripEven),a(z[1]).hasClass(v.oClasses.sStripOdd)&&(v.asDestoryStrips[1]+=v.oClasses.sStripOdd+" "),a(z[1]).hasClass(v.oClasses.sStripEven)&&(v.asDestoryStrips[1]+=v.oClasses.sStripEven),z.removeClass(v.asStripClasses.join(" ")));t=[];var F,d=this.getElementsByTagName("thead");0!==d.length&&(Z(v.aoHeader,d[0]),t=Na(v));if("undefined"==typeof g.aoColumns){F=[];d=0;for(j=t.length;d<j;d++)F.push(null)}else F=g.aoColumns;d=0;for(j=F.length;d<j;d++)"undefined"!=typeof g.saved_aoColumns&&
g.saved_aoColumns.length==j&&(null===F[d]&&(F[d]={}),F[d].bVisible=g.saved_aoColumns[d].bVisible),B(v,t?t[d]:null);if("undefined"!=typeof g.aoColumnDefs)for(d=g.aoColumnDefs.length-1;0<=d;d--){var E=g.aoColumnDefs[d].aTargets;a.isArray(E)||Ea(v,1,"aTargets must be an array of targets, not a "+typeof E);t=0;for(z=E.length;t<z;t++)if("number"==typeof E[t]&&0<=E[t]){for(;v.aoColumns.length<=E[t];)B(v);r(v,E[t],g.aoColumnDefs[d])}else if("number"==typeof E[t]&&0>E[t])r(v,v.aoColumns.length+E[t],g.aoColumnDefs[d]);
else if("string"==typeof E[t]){j=0;for(w=v.aoColumns.length;j<w;j++)("_all"==E[t]||a(v.aoColumns[j].nTh).hasClass(E[t]))&&r(v,j,g.aoColumnDefs[d])}}if("undefined"!=typeof F){d=0;for(j=F.length;d<j;d++)r(v,d,F[d])}d=0;for(j=v.aaSorting.length;d<j;d++){v.aaSorting[d][0]>=v.aoColumns.length&&(v.aaSorting[d][0]=0);F=v.aoColumns[v.aaSorting[d][0]];"undefined"==typeof v.aaSorting[d][2]&&(v.aaSorting[d][2]=0);"undefined"==typeof g.aaSorting&&"undefined"==typeof v.saved_aaSorting&&(v.aaSorting[d][1]=F.asSorting[0]);
t=0;for(z=F.asSorting.length;t<z;t++)if(v.aaSorting[d][1]==F.asSorting[t]){v.aaSorting[d][2]=t;break}}G(v);d=a(">thead",this);0===d.length&&(d=[b.createElement("thead")],this.appendChild(d[0]));v.nTHead=d[0];d=a(">tbody",this);0===d.length&&(d=[b.createElement("tbody")],this.appendChild(d[0]));v.nTBody=d[0];d=a(">tfoot",this);0<d.length&&(v.nTFoot=d[0],Z(v.aoFooter,v.nTFoot));if(C)for(d=0;d<g.aaData.length;d++)q(v,g.aaData[d]);else p(v);v.aiDisplay=v.aiDisplayMaster.slice();v.bInitialised=!0;!1===
D&&n(v)}})}})(jQuery,window,document);$.fn.wl_Alert=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Alert.methods[a])return $.fn.wl_Alert.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Alert")?$.extend({},b.data("wl_Alert"),a):$.extend({},$.fn.wl_Alert.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');b.data("wl_Alert")||(b.data("wl_Alert",{}),b.bind("click.wl_Alert",function(a){a.preventDefault();b.data("wl_Alert").sticky||$.fn.wl_Alert.methods.close.call(b[0])}).find("a").bind("click.wl_Alert",
function(a){a.stopPropagation()}));b.is(":hidden")&&b.slideDown(c.speed/2);c&&$.extend(b.data("wl_Alert"),c)})};$.fn.wl_Alert.defaults={speed:500,sticky:!1,onBeforeClose:function(){},onClose:function(){}};$.fn.wl_Alert.version="1.1";
$.fn.wl_Alert.methods={close:function(){var a=$(this),d=a.data("wl_Alert");if(!1===d.onBeforeClose.call(this,a))return!1;a.fadeOutSlide(d.speed,function(){d.onClose.call(a[0],a)})},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Alert.defaults[a]||null==$.fn.wl_Alert.defaults[a]?b.data("wl_Alert")[a]=c:$.error('Key "'+a+'" is not defined')})}};
$.wl_Alert=function(a,d,b,c,e){$("div.alert").each(function(){var b=$(this);b.text()==a&&b.slideUp($.fn.wl_Alert.defaults.speed)});d=$('<div class="alert '+d+'">'+a+"</div>").hide();c?d.appendTo(b).wl_Alert(e):d.prependTo(b).wl_Alert(e);return d};$.fn.wl_Autocomplete=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Autocomplete.methods[a])return $.fn.wl_Autocomplete.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Autocomplete")?$.extend({},b.data("wl_Autocomplete"),a):$.extend({},$.fn.wl_Autocomplete.defaults,a,b.data());else try{return b.autocomplete(a,d[1],d[2])}catch(e){$.error('Method "'+a+'" does not exist')}b.data("wl_Autocomplete")||(b.data("wl_Autocomplete",
{}),$.isFunction(window[c.source])&&(c.source=window[c.source].call(this)),"string"===typeof c.source&&(c.source=$.parseData(c.source,!0)),b.autocomplete(c));c&&$.extend(b.data("wl_Autocomplete"),c)})};$.fn.wl_Autocomplete.defaults={};$.fn.wl_Autocomplete.version="1.0";
$.fn.wl_Autocomplete.methods={set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Autocomplete.defaults[a]||null==$.fn.wl_Autocomplete.defaults[a]?b.data("wl_Autocomplete")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Breadcrumb=function(a){var d=arguments;return this.each(function(){var b=$(this),c=b.find("li");$a=b.find("a");if($.fn.wl_Breadcrumb.methods[a])return $.fn.wl_Breadcrumb.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var e=b.data("wl_Breadcrumb")?$.extend({},b.data("wl_Breadcrumb"),a):$.extend({},$.fn.wl_Breadcrumb.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');var g=b.find("a.active").eq(0);g.length||(g=$a.eq(e.start));if(!b.data("wl_Breadcrumb")){b.data("wl_Breadcrumb",
{});$a.each(function(a){var b=$(this);b.data("id",a);e.numbers&&b.text(a+1+". "+b.text())});c.each(function(a){var b=$(this);b.attr("class")&&($a.eq(a).wrapInner('<span class="'+b.attr("class")+'"/>'),b.removeAttr("class"))});$.browser.msie&&c.filter(":last").addClass("last");b.delegate("a","click.wl_Breadcrumb",function(){var a=b.data("wl_Breadcrumb")||a;if(a.disabled)return!1;var c=$(this);if(!a.allownextonly||1>=c.data("id")-b.find("a.active").data("id"))$.fn.wl_Breadcrumb.methods.activate.call(b[0],
c),a.onChange.call(b[0],c,c.data("id"));return!1});if(e.connect){var c=$("#"+e.connect),k=c.children();c.find(".next").bind("click.wl_Breadcrumb",function(){b.wl_Breadcrumb("next");return!1});c.find(".prev").bind("click.wl_Breadcrumb",function(){b.wl_Breadcrumb("prev");return!1});k.hide().eq(e.start).show()}e.disabled&&b.wl_Breadcrumb("disable")}e&&$.extend(b.data("wl_Breadcrumb"),e);$.fn.wl_Breadcrumb.methods.activate.call(this,g)})};
$.fn.wl_Breadcrumb.defaults={start:0,numbers:!1,allownextonly:!1,disabled:!1,connect:null,onChange:function(){}};$.fn.wl_Breadcrumb.version="1.0";
$.fn.wl_Breadcrumb.methods={activate:function(a){var d=$(this);if("number"===typeof a)return a=d.find("li").eq(a).find("a"),a.trigger("click.wl_Breadcrumb"),!1;var b=d.data("wl_Breadcrumb");d.find("a").removeClass("active previous");a.parent().prevAll().find("a").addClass("previous");a.addClass("active");b.connect&&$("#"+b.connect).children().hide().eq(a.data("id")).show()},disable:function(){var a=$(this);a.wl_Breadcrumb("set","disabled",!0);a.addClass("disabled")},enable:function(){var a=$(this);
a.wl_Breadcrumb("set","disabled",!1);a.removeClass("disabled")},next:function(){$(this).find("a.active").parent().next().find("a").trigger("click.wl_Breadcrumb")},prev:function(){$(this).find("a.active").parent().prev().find("a").trigger("click.wl_Breadcrumb")},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Breadcrumb.defaults[a]||null==$.fn.wl_Breadcrumb.defaults[a]?b.data("wl_Breadcrumb")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Calendar=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Calendar.methods[a])return $.fn.wl_Calendar.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Calendar")?$.extend({},b.data("wl_Calendar"),a):$.extend({},$.fn.wl_Calendar.defaults,a,b.data());else try{return b.fullCalendar(a,d[1],d[2],d[3],d[4])}catch(e){$.error('Method "'+a+'" does not exist')}if(!b.data("wl_Calendar")){b.data("wl_Calendar",{});c.theme=
!0;switch(c.header){case "small":c.header={left:"title",right:"prev,next"};break;case "small-today":c.header={left:"title",right:"prev,today,next"}}b.fullCalendar(c)}c&&$.extend(b.data("wl_Calendar"),c)})};$.fn.wl_Calendar.defaults={};$.fn.wl_Calendar.version="1.0";
$.fn.wl_Calendar.methods={set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Calendar.defaults[a]||null==$.fn.wl_Calendar.defaults[a]?b.data("wl_Calendar")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Chart=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Chart.methods[a])return $.fn.wl_Chart.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Chart")?$.extend({},b.data("wl_Chart"),a):$.extend({},$.fn.wl_Chart.defaults,a,b.data());else try{return b.data("wl_Chart").plot[a](d[1],d[2])}catch(e){$.error('Method "'+a+'" does not exist')}/^(lines|bars|pie)$/.test(c.type)||$.error('Type of "'+c.type+'" is not allowed');
b.data("wl_Chart")?c.holder.unbind("plothover").unbind("mouseout"):(b.data("wl_Chart",{}),$(window).bind("resize.wl_Chart",function(){b.data("wl_Chart").holder.width("99%");$.fn.wl_Chart.methods.draw.call(b[0])}),c.holder=$("<div/>",{"class":"chart"}).css({width:99*((c.width||b.width()||NaN)/100),height:c.height||300})[c.tableBefore?"insertAfter":"insertBefore"](b));c.width=c.holder.width();c.hideTable?b.hide():b.show();c.holder.bind("plotclick",function(a,d,e){if(e){a={};switch(c.type){case "bars":a.value=
e.datapoint[1];a.label=e.series.xaxis.ticks[e.dataIndex].label;a.id=e.seriesIndex;break;case "pie":a.value=e.datapoint[1][0][1];a.label=e.series.xaxis.options.ticks[0][1];a.id=e.seriesIndex;break;default:a.value=e.datapoint[1],a.label=e.series.xaxis.ticks[e.datapoint[0]].label,a.id=e.seriesIndex}a.legend=e.series.label;c.onClick.call(b[0],a.value,a.legend,a.label,a.id,e)}});if(c.tooltip){c.holder.tipsy($.extend({},config.tooltip,{fallback:"",followMouse:!0,gravity:c.tooltipGravity||"n"}));var g=null,
k;c.holder.bind("plothover",function(a,d,e){if(e){if(e.datapoint.toString()!=g){a={};g=e.datapoint.toString();switch(c.type){case "bars":a.value=c.stack?e.datapoint[1]-e.datapoint[2]:e.datapoint[1];a.label=e.series.xaxis.ticks[e.dataIndex].label;a.id=e.seriesIndex;break;case "pie":a.value=e.datapoint[1][0][1];a.label=e.series.xaxis.options.ticks[0][1];a.id=e.seriesIndex;break;default:a.value=e.datapoint[1],a.label=e.series.xaxis.ticks[e.datapoint[0]].label,a.id=e.seriesIndex}a.legend=e.series.label;
k=$.isFunction(c.tooltipPattern)?c.tooltipPattern.call(b[0],a.value,a.legend,a.label,a.id,e):c.tooltipPattern.replace(/%1/g,a.value).replace(/%2/g,a.legend).replace(/%3/g,a.label).replace(/%4/g,a.id);c.holder.tipsy("setTitel",k);c.holder.tipsy("show")}}else c.holder.tipsy("hide"),g=null}).bind("mouseout",function(){c.holder.tipsy("hide");g=null})}$.isArray(c.colors)||(c.colors=$.parseData(c.colors,!0));var j=[];if($.isEmptyObject(c.data))if($.isEmptyObject(c.data)&&b.is("table"))switch(c.xlabels=
c.xlabels||[],c.data=[],c.orientation){case "horizontal":var n=b.find("thead th"),t=b.find("tbody th"),A=b.find("tbody tr"),B=t.length;B&&(n=n.slice(1));A.each(function(a,b){var d=[];$(b).find("td").each(function(a,b){var e=parseFloat(b.innerHTML);isNaN(e)||d.push([a,e||0]);c.xlabels.push([a,n.eq(a).text()])});c.data.push({label:t.eq(a).text(),data:"pie"!=c.type?d:d[0][1]});j[a]=A.eq(a).data("color")||c.colors[a]||j[a%c.colors.length]});break;case "vertical":n=b.find("tbody th");t=b.find("thead th");
A=b.find("tbody tr");if(B=t.length)t=t.slice(1),B--;var r=[];A.each(function(a,b){$(b).find("td").each(function(b,c){var d=parseFloat(c.innerHTML);r[b]=r[b]||[];isNaN(d)||r[b].push([a,d||0])});c.xlabels.push([a,n.eq(a).text()])});for(var q=0;q<B;q++)c.data.push({label:t.eq(q).text(),data:r[q]}),j[q]=c.colors[q]||j[q%c.colors.length];break;default:$.error('Orientation "'+c.orientation+'" is not allowed')}else $.error("No data or data table!");else{if(c.xlabels)c.xlabels=$.map(c.xlabels,function(a,
b){return[[b,a]]});else{var B=c,z=[];$.each(c.data,function(a){$.map(c.data[a].data,function(a,b){z[a[0]]=b})});q=$.map(z,function(a,b){return b});B.xlabels=q}j=$.map(c.data,function(a,b){return c.colors[b%c.colors.length]})}c.colors=j;B={};switch(c.type){case "bars":B={points:{show:null!==c.points?c.points:!1},bars:{order:c.stack?null:!0,show:!0,border:!1,fill:null!==c.fill?c.fill:!0,fillColor:null!==c.fillColor?c.fillColor:null,align:c.align||"center",horizontal:c.horizontal||!1,barWidth:c.barWidth||
c.stack?0.85:0.85/c.data.length,lineWidth:null!==c.lineWidth?c.lineWidth:0},lines:{show:!1},pie:{show:!1}};break;case "pie":B={points:{show:null!==c.points?c.points:!0},bars:{show:!1},lines:{show:!1},pie:{show:!0,label:!0,tilt:c.tilt||1,innerRadius:c.innerRadius?c.innerRadius:0,radius:c.tilt&&!c.radius?0.8:c.radius||1,shadowSize:2}};break;default:B={points:{show:null!==c.points?c.points:!0},bars:{show:!1},lines:{show:!0,lineWidth:null!==c.lineWidth?c.lineWidth:4,fill:null!==c.fill?c.fill:!1,fillColor:null!==
c.fillColor?c.fillColor:null},pie:{show:!1}}}B=$.extend(!0,{},{series:$.extend(!0,{},{stack:c.stack?!0:null,points:{show:c.points}},B),shadowSize:c.shadowSize||0,grid:{hoverable:c.tooltip,clickable:!0,color:"#666",borderWidth:null},legend:{show:c.legend,position:/^(ne|nw|se|sw)$/.test(c.legendPosition)?c.legendPosition:"ne"},colors:c.colors,xaxis:{ticks:c.xlabels}},c.flot);c.flotobj=$.extend({},c.flotobj,B);c&&$.extend(b.data("wl_Chart"),c);$.fn.wl_Chart.methods.draw.call(this)})};
$.fn.wl_Chart.defaults={width:null,height:300,hideTable:!0,tableBefore:!1,data:{},stack:!1,type:"lines",points:null,shadowSize:2,fill:null,fillColor:null,lineWidth:null,legend:!0,legendPosition:"ne",tooltip:!0,tooltipGravity:"n",tooltipPattern:function(a,d,b,c){return"value is "+a+" from "+d+" at "+b+" ("+c+")"},orientation:"horizontal",colors:"#b2e7b2 #f0b7b7 #b5f0f0 #e8e8b3 #efb7ef #bbb6f0".split(" "),flot:{},onClick:function(){}};$.fn.wl_Chart.version="1.3";
$.fn.wl_Chart.methods={draw:function(){var a=$(this),d=a.data("wl_Chart");a.data("wl_Chart").plot=$.plot(d.holder,d.data,d.flotobj)},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Chart.defaults[a]||null==$.fn.wl_Chart.defaults[a]?b.data("wl_Chart")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Color=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Color.methods[a])return $.fn.wl_Color.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Color")?$.extend({},b.data("wl_Color"),a):$.extend({},$.fn.wl_Color.defaults,a,b.data());else try{return b.miniColors(a,d[1])}catch(e){$.error('Method "'+a+'" does not exist')}if(!b.data("wl_Color")){b.data("wl_Color",{});b.bind("mousewheel.wl_Color",function(a,d){if(c.mousewheel){a.preventDefault();
d=0>d?-1:1;var e=b.data("hsb");a.shiftKey?(e.s-=2*d,e.s=Math.round(Math.max(0,Math.min(100,e.s)))):a.altKey&&a.shiftKey?(e.h+=5*d,e.h=Math.round(e.h)):(e.b+=2*d,e.b=Math.round(Math.max(0,Math.min(100,e.b))));b.miniColors("value",e);b.trigger("change.wl_Color")}});b.miniColors($.extend({},{change:function(){$(this).trigger("change.wl_Color")}}),c).trigger("keyup.miniColors");b.bind("change.wl_Color",function(){var a=$(this).val();a&&!/^#/.test(a)&&(a="#"+a);$(this).val(a);c.onChange.call(b[0],$(this).data("hsb"),
a)}).attr("maxlength",7);var g=b.val();g&&!/^#/.test(b.val())&&b.val("#"+g.substr(0,6))}c&&$.extend(b.data("wl_Color"),c)})};$.fn.wl_Color.defaults={mousewheel:!0,onChange:function(){}};$.fn.wl_Color.version="1.0";
$.fn.wl_Color.methods={destroy:function(){var a=$(this);a.removeData("wl_Color");a.miniColors("destroy")},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Color.defaults[a]?b.data("wl_Color")[a]=c:"value"==a?b.val(c).trigger("keyup.miniColors"):$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Date=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Date.methods[a])return $.fn.wl_Date.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Date")?$.extend({},b.data("wl_Date"),a):$.extend({},$.fn.wl_Date.defaults,a,b.data());else try{return b.datepicker(a,d[1],d[2])}catch(e){$.error('Method "'+a+'" does not exist')}if(!b.data("wl_Date")){b.data("wl_Date",{});b.datepicker(c);b.bind("mousewheel.wl_Date",function(a,
d){if(c.mousewheel){a.preventDefault();d=0>d?-1:1;if(a.shiftKey){var e=b.datepicker("getDate");d*=(new Date(e.getFullYear(),e.getMonth()+1,0)).getDate()}$.fn.wl_Date.methods.changeDay.call(b[0],d)}});if(c.value){var g=(new Date).getTime();switch(c.value){case "now":case "today":b.datepicker("setDate",new Date);break;case "next":case "tomorrow":b.datepicker("setDate",new Date(g+864E5));break;case "prev":case "yesterday":b.datepicker("setDate",new Date(g+-864E5));break;default:isNaN(c.value)||b.datepicker("setDate",
new Date(g+864E5*c.value))}}c.disabled&&$.fn.wl_Date.methods.disable.call(this)}c&&$.extend(b.data("wl_Date"),c)})};$.fn.wl_Date.defaults={value:null,mousewheel:!0};$.fn.wl_Date.version="1.0";
$.fn.wl_Date.methods={disable:function(){var a=$(this);a.datepicker("disable");a.data("wl_Date").disabled=!0},enable:function(){var a=$(this);a.datepicker("enable");a.data("wl_Date").disabled=!1},next:function(){$.fn.wl_Date.methods.changeDay.call(this,1)},prev:function(){$.fn.wl_Date.methods.changeDay.call(this,-1)},changeDay:function(a){var d=$(this),b=d.datepicker("getDate")||new Date;b.setDate(b.getDate()+a);d.datepicker("setDate",b)},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=
a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Date.defaults[a]||null==$.fn.wl_Date.defaults[a]?b.data("wl_Date")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Editor=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Editor.methods[a])return $.fn.wl_Editor.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Editor")?$.extend({},b.data("wl_Editor"),a):$.extend({},$.fn.wl_Editor.defaults,a,b.data());else try{return b.wysiwyg(a,d[1],d[2],d[3])}catch(e){$.error('Method "'+a+'" does not exist')}if(!b.data("wl_Editor")){b.data("wl_Editor",{});c.buttons=c.buttons.split("|")||
c.buttons;c.eOpts={initialContent:c.initialContent,css:c.css};var g={};$.each(c.buttons,function(a,b){g[b]={visible:!0}});$.extend(!0,c.eOpts,{controls:g},c.eOpts);b.wysiwyg(c.eOpts)}c&&$.extend(b.data("wl_Editor"),c)})};
$.fn.wl_Editor.defaults={css:"css/light/editor.css",buttons:"bold|italic|underline|strikeThrough|justifyLeft|justifyCenter|justifyRight|justifyFull|highlight|colorpicker|indent|outdent|subscript|superscript|undo|redo|insertOrderedList|insertUnorderedList|insertHorizontalRule|createLink|insertImage|h1|h2|h3|h4|h5|h6|paragraph|rtl|ltr|cut|copy|paste|increaseFontSize|decreaseFontSize|html|code|removeFormat|insertTable",initialContent:""};$.fn.wl_Editor.version="1.1";
$.fn.wl_Editor.methods={destroy:function(){var a=$(this);a.wysiwyg("destroy");a.removeData("wl_Editor")},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Editor.defaults[a]||null==$.fn.wl_Editor.defaults[a]?b.data("wl_Editor")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_File=function(a){var d=arguments;return this.each(function(){function b(a){$.each(a.files,function(b,c){j[c.name]&&(j[c.name].fileupload=a.submit())})}function c(a){var b=document.createElement("div");a="on"+a;var c=a in b;c||(b.setAttribute||(b=document.createElement("div")),b.setAttribute&&b.removeAttribute&&(b.setAttribute(a,""),c="function"==typeof b[a],void 0!=typeof b[a]&&(b[a]=void 0),b.removeAttribute(a)));return c}var e=$(this);if($.fn.wl_File.methods[a])return $.fn.wl_File.methods[a].apply(this,
Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var g=e.data("wl_File")?$.extend({},e.data("wl_File"),a):$.extend({},$.fn.wl_File.defaults,a,e.data());else try{return e.fileupload(a,d[1],d[2],d[3],d[4])}catch(k){$.error('Method "'+a+'" does not exist')}if(!e.data("wl_File")){e.data("wl_File",{});var j={},n=[],t=0,A,B=c("dragstart")&&c("drop")&&!!window.FileReader;g.multiple=e.is("[multiple]")||"string"===typeof e.prop("multiple")||g.multiple;g.queue={};g.files=[];"string"===typeof g.allowedExtensions&&
(g.allowedExtensions=$.parseData(g.allowedExtensions));g.ui=$("<div>",{"class":"fileuploadui"}).insertAfter(e);g.autoUpload||(g.uiStart=$("<a>",{"class":"btn small fileupload_start",title:g.text.start}).html(g.text.start).bind("click",function(){$.each(j,function(a){b(j[a].data)})}).appendTo(g.ui));g.uiCancel=$("<a>",{"class":"btn small fileupload_cancel",title:g.text.cancel_all}).html(g.text.cancel_all).appendTo(g.ui).bind("click",function(){var a=$(this),b=g.filepool.find("li");b.addClass("error");
e.data("wl_File")||e.data("wl_File",A);n=e.data("wl_File").files=[];t=0;$.each(j,function(a){j[a]&&(j[a].fileupload.abort(),delete j[a])});b.delay(700).fadeOut(function(){g.filepool.trigger("change");a.text(g.text.cancel_all).attr("title",g.text.cancel_all);$(this).remove()});g.onDelete.call(e[0],$.map(b,function(a){return $(a).data("fileName")}))});g.filepool=$("<ul>",{"class":"fileuploadpool"}).insertAfter(e).delegate("a.cancel","click",function(){var a=$(this).parent(),b=a.data("fileName");e.data("wl_File")||
e.data("wl_File",A);e.data("wl_File").files=n=$.map(n,function(a){if(a!=b)return a});j[b].fileupload.abort();delete j[b];t--;a.addClass("error").delay(700).fadeOut();g.onCancel.call(e[0],b);g.filepool.trigger("change")}).delegate("a.remove","click",function(){var a=$(this).parent(),b=a.data("fileName");e.data("wl_File")||e.data("wl_File",A);e.data("wl_File").files=n=$.map(n,function(a){if(a!=b)return a});a.fadeOut();g.onDelete.call(e[0],[b]);g.filepool.trigger("change")}).addClass(!g.multiple?"single":
"multiple").addClass(B?"drop":"nodrop");e.fileupload({url:g.url,dropZone:g.dragAndDrop?g.filepool:null,fileInput:e,singleFileUploads:!0,sequentialUploads:g.sequentialUploads,paramName:g.paramName+"[]",formData:g.formData,add:function(a,c){g.multiple||(g.uiCancel.click(),g.filepool.find("li").remove());$.each(c.files,function(a,b){b.ext=b.name.substring(b.name.lastIndexOf(".")+1).toLowerCase();t++;var d=g.maxNumberOfFiles&&(n.length>=g.maxNumberOfFiles||t>g.maxNumberOfFiles)?{msg:"maxNumberOfFiles",
code:1}:g.allowedExtensions&&-1==$.inArray(b.ext,g.allowedExtensions)?{msg:"allowedExtensions",code:2}:"number"===typeof b.size&&g.maxFileSize&&b.size>g.maxFileSize?{msg:"maxFileSize",code:3}:"number"===typeof b.size&&g.minFileSize&&b.size<g.minFileSize?{msg:"minFileSize",code:4}:null;if(d)t--,g.onFileError.call(e[0],d,b);else{var d=b.name,k=$('<li><span class="name">'+d+'</span><span class="progress"></span><span class="status">'+g.text.ready+'</span><a class="cancel" title="'+g.text.cancel+'">'+
g.text.cancel+"</a></li>").data("fileName",d).appendTo(g.filepool);j[d]={element:k,data:c,progress:k.find(".progress"),status:k.find(".status"),cancel:k.find(".cancel")}}});e.data("wl_File")?(e.data("wl_File").queue=j,A=e.data("wl_File")):A&&(A.queue=j);g.filepool.trigger("change");g.onAdd.call(e[0],a,c);g.autoUpload&&b(c)},send:function(a,b){$.each(b.files,function(a,c){j[c.name].element.addClass(b.textStatus);j[c.name].progress.width("100%");j[c.name].status.text(g.text.uploading)});g.uiCancel.text(g.text.cancel_all).attr("title",
g.text.cancel_all);return g.onSend.call(e[0],a,b)},done:function(a,b){e.data("wl_File",A);$.each(b.files,function(a,c){j[c.name]&&(j[c.name].element.addClass(b.textStatus),j[c.name].progress.width("100%"),j[c.name].status.text(g.text.done),j[c.name].cancel.removeAttr("class").addClass("remove").attr("title",g.text.remove),-1==$.inArray(c.name,n)&&(n.push(c.name),e.data("wl_File").files=n),t--,delete j[c.name])});g.onDone.call(e[0],a,b);$.isEmptyObject(j)&&(g.filepool.trigger("change"),g.uiCancel.text(g.text.remove_all).attr("title",
g.text.remove_all),g.onFinish.call(e[0],a,b))},fail:function(a,b){g.onFail.call(e[0],a,b)},always:function(a,b){g.onAlways.call(e[0],a,b)},progress:function(a,b){$.each(b.files,function(a,c){if(j[c.name]){var d=Math.round(parseInt(100*(b.loaded/b.total),10));j[c.name].progress.width(d+"%");j[c.name].status.text(g.text.uploading+d+"%")}});g.onProgress.call(e[0],a,b)},progressall:function(a,b){g.onProgressAll.call(e[0],a,b)},start:function(a){g.onStart.call(e[0],a)},stop:function(a){g.onStop.call(e[0],
a)},change:function(a,b){g.onChange.call(e[0],a,b)},drop:function(a,b){g.onDrop.call(e[0],a,b)},dragover:function(a){g.onDragOver.call(e[0],a)}})}g&&$.extend(e.data("wl_File"),g)})};
$.fn.wl_File.defaults={url:"upload.php",autoUpload:!0,paramName:"files",multiple:!1,allowedExtensions:!1,maxNumberOfFiles:0,maxFileSize:0,minFileSize:0,sequentialUploads:!1,dragAndDrop:!0,formData:{},text:{ready:"ready",cancel:"cancel",remove:"remove",uploading:"uploading...",done:"done",start:"start upload",add_files:"add files",cancel_all:"cancel upload",remove_all:"remove all"},onAdd:function(){},onDelete:function(){},onCancel:function(){},onSend:function(){},onDone:function(){},onFinish:function(){},
onFail:function(){},onAlways:function(){},onProgress:function(){},onProgressAll:function(){},onStart:function(){},onStop:function(){},onChange:function(){},onDrop:function(){},onDragOver:function(){},onFileError:function(){}};$.fn.wl_File.version="1.2";
$.fn.wl_File.methods={reset:function(){var a=$(this),d=a.data("wl_File");$.uniform&&a.next().html($.uniform.options.fileDefaultText);d.filepool.empty();d.uiCancel.attr("title",d.text.cancel_all).text(d.text.cancel_all);a.data("wl_File").files=[]},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_File.defaults[a]||null==$.fn.wl_File.defaults[a]?b.data("wl_File")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.confirm=function(a,d,b){var c=$.extend(!0,{},$.alert.defaults,$.confirm.defaults);if(c.nativ)(result=confirm(unescape(a)))?$.isFunction(d)&&d.call(this):$.isFunction(b)&&b.call(this);else return c=$.extend({},{buttons:[{text:c.text.ok,click:function(){$.isFunction(d)&&d.call(this);$(this).dialog("close");$("#wl_dialog").remove()}},{text:c.text.cancel,click:function(){$.isFunction(b)&&b.call(this);$(this).dialog("close");$("#wl_dialog").remove()}}]},c),$.alert(unescape(a),c)};
$.confirm.defaults={text:{header:"Please confirm",ok:"Yes",cancel:"No"}};
$.prompt=function(a,d,b,c){var e=$.extend(!0,{},$.alert.defaults,$.prompt.defaults);if(e.nativ)a=prompt(unescape($.trim(a)),unescape(d)),$.isFunction(b)&&null!==a?b.call(this,a):$.isFunction(c)&&c.call(this);else{var g=function(a){$.isFunction(b)&&b.call(this,a);$(this).dialog("close");$("#wl_dialog").remove()},e=$.extend({},{buttons:[{text:e.text.ok,click:function(){g.call(this,$("#wl_promptinputfield").val())}},{text:e.text.cancel,click:function(){$.isFunction(c)&&c.call(this);$(this).dialog("close");
$("#wl_dialog").remove()}}],open:function(){$("#wl_promptinputfield").focus().select();$("#wl_promptinputfield").uniform();$("#wl_promptinputform").bind("submit",function(a){a.preventDefault();g.call(this,$("#wl_promptinputfield").val());$(this).parent().dialog("close");$("#wl_dialog").remove()})}},e);return $.alert("<p>"+unescape(a)+'</p><form id="wl_promptinputform"><input id="wl_promptinputfield" name="wl_promptinputfield" value="'+unescape(d)+'"></form>',e)}};
$.prompt.defaults={text:{header:"Please prompt",ok:"OK",cancel:"Cancel"}};
$.alert=function(a,d){d||(d=$.extend(!0,{},{buttons:[{text:$.alert.defaults.text.ok,click:function(){$(this).dialog("close");$("#wl_dialog").remove()}}]},$.alert.defaults));if(d.nativ)alert(a);else{var b=$("<div/>",{id:"wl_dialog"}).appendTo("body");d.text.header&&b.attr("title",d.text.header);b.html(a.replace(/\n/g,"<br>"));b.dialog(d);return{close:function(a){b.dialog("close");b.remove();$.isFunction(a)&&a.call(this)},setHeader:function(a){this.set("title",a)},setBody:function(a){b.html(a)},set:function(a,
d){b.dialog("option",a,d)}}}};$.alert.defaults={nativ:!1,resizable:!1,modal:!0,text:{header:"Notification",ok:"OK"}};
$.msg=function(a,d){function b(a,e,g){$.isFunction(e)?(g=e,e=0):e||(e=0);setTimeout(function(){c.data("pause")?b(a,e):a.fadeOutSlide(d.fadeTime,function(){var b=$(".msg-box").length;2>b&&$(".msg-box-close").length&&$(".msg-box-close").fadeOutSlide(d.fadeTime);c.data("msgcount",b);$.isFunction(g)&&g.call(a)})},e)}d=$.extend({},$.msg.defaults,d);var c=$("#wl_msg"),e;if(!c.length){var c=$("<div/>",{id:"wl_msg"}).appendTo("body").data("msgcount",0),g=parseInt(c.css("top"),10);c.bind("mouseenter",function(){c.data("pause",
!0)}).bind("mouseleave",function(){c.data("pause",!1)});c.delegate(".msg-close","click",function(){c.data("pause",!1);b($(this).parent())});c.delegate(".msg-box-close","click",function(){c.fadeOutSlide(d.fadeTime)});$(window).unbind("scroll.wl_msg").bind("scroll.wl_msg",function(){var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;a>g?void 0===window.navigator.standalone?c.css({position:"fixed",top:10}):c.css({top:a+10}):void 0===window.navigator.standalone?c.removeAttr("style"):
c.css({top:g})}).trigger("scroll.wl_msg")}if(!a)return!1;var k=c.data("msgcount");e=$('<div class="msg-box"><h3>'+(d.header||"")+'</h3><a class="msg-close">close</a><div class="msg-content">'+a.replace("\n","<br>")+"</div></div>");closeall=$(".msg-box-close");k?closeall.length?e.insertBefore(closeall):(e.appendTo(c),$('<div class="msg-box-close">close all</div>').appendTo(c).fadeInSlide(d.fadeTime)):e.appendTo(c);e.fadeInSlide(d.fadeTime);c.data("msgcount",++k);d.sticky||b(e,d.live);return{close:function(a){b(e,
a)},setHeader:function(a){e.find("h3").eq(0).text(a)},setBody:function(a){e.find(".msg-content").eq(0).html(a)},closeAll:function(a){c.fadeOutSlide(d.fadeTime,function(){$.isFunction(a)&&a.call(this)})}}};$.msg.defaults={header:null,live:5E3,topoffset:90,fadeTime:500,sticky:!1};$(document).ready(function(){$.msg(!1)});$.fn.wl_Fileexplorer=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Fileexplorer.methods[a])return $.fn.wl_Fileexplorer.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Fileexplorer")?$.extend({},b.data("wl_Fileexplorer"),a):$.extend({},$.fn.wl_Fileexplorer.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');b.data("wl_Fileexplorer")||(b.data("wl_Fileexplorer",{}),b.elfinder(c));c&&$.extend(b.data("wl_Fileexplorer"),
c)})};$.fn.wl_Fileexplorer.defaults={url:"elfinder/php/connector.php",toolbar:["back reload open select quicklook info rename copy cut paste rm mkdir mkfile upload duplicate edit archive extract resize icons list help".split(" ")]};$.fn.wl_Fileexplorer.version="1.0";
$.fn.wl_Fileexplorer.methods={set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Fileexplorer.defaults[a]||null==$.fn.wl_Fileexplorer.defaults[a]?b.data("wl_Fileexplorer")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Form=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Form.methods[a])return $.fn.wl_Form.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Form")?$.extend({},b.data("wl_Form"),a):$.extend({},$.fn.wl_Form.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');var e=b.find("input,textarea,select,div.date,div.slider"),g=c.submitButton instanceof jQuery?c.submitButton:b.find(c.submitButton),k=c.resetButton instanceof
jQuery?c.resetButton:b.find(c.resetButton);b.data("wl_Form")||(b.data("wl_Form",{}),c.action=b.attr("action")||c.action,c.method=b.attr("method")||c.method,b.bind({"submit.wl_Form":function(a){a.preventDefault();return!1},"reset.wl_Form":function(a){a.preventDefault();return!1}}),g.bind("click.wl_Form",function(){$.fn.wl_Form.methods.submit.call(b[0]);return!1}),k.bind("click.wl_Form",function(){$.fn.wl_Form.methods.reset.call(b[0]);return!1}),e.each(function(){var a=$(this),b=a.closest("section"),
c=b.find("label").eq(0).html()||this.name||this.id||"";if(a.is("[required]")||"string"==typeof a.prop("required"))a.data("required",!0),b.find("span.required").length||b.find("label").eq(0).append('&nbsp;<span class="required">&nbsp;</span>');a.data("wl_label",c.replace(/<span>([^<]+)<\/span>|<([^>]+)\/?>/g,""));a.data("wl_initdata",function(){var b=a.attr("type");if("checkbox"==b||"radio"==b)return a.prop("checked");if(a.data("wl_Date"))return a.datepicker("getDate");if(a.data("wl_Slider")){if(!a.data("wl_Slider").connect)return a.data("wl_Slider").range?
a.slider("option","values"):a.slider("option","value")}else return a.val()}())}),c.status&&!g.closest("div").is("span.wl_formstatus")&&g.closest("div").append('<span class="wl_formstatus"></span>'),c.parseQuery&&b.wl_Form.methods.unserialize.call(this));c&&$.extend(b.data("wl_Form"),c)})};
$.fn.wl_Form.defaults={submitButton:"button.submit",resetButton:"button.reset",method:"post",action:null,ajax:!0,serialize:!1,parseQuery:!0,dataType:"text",status:!0,sent:!1,confirmSend:!0,text:{required:"This field is required",valid:"This field is invalid",password:"This password is to short",passwordmatch:"This password doesn't match",fileinqueue:"There is at least one file in the queue",incomplete:"Please fill out the form correctly!",send:"send form...",sendagain:"send again?",success:"form sent!",
error:"error while sending!",parseerror:"Can't unserialize query string:\n %e"},tooltip:{gravity:"nw"},onRequireError:function(){},onValidError:function(){},onPasswordError:function(){},onFileError:function(){},onBeforePrepare:function(){},onBeforeSubmit:function(){},onReset:function(){},onComplete:function(){},onError:function(){},onSuccess:function(){}};$.fn.wl_Form.version="1.3.5";
$.fn.wl_Form.methods={disable:function(){var a=$(this);a.find(a.data("wl_Form").submitButton+",input,textarea,select,div.date,div.slider").each(function(){var a=$(this);a.is("div")?a.is("div.slider")&&a.data("wl_Slider")?a.wl_Slider("disable"):a.is("div.date")&&a.data("wl_Date")&&a.wl_Date("disable"):a.prop("disabled",!0)});a.data("wl_Form").disabled=!0},enable:function(){var a=$(this);a.find(a.data("wl_Form").submitButton+",input,textarea,select,div.date,div.slider").each(function(){var a=$(this);
a.is("div")?a.is("div.slider")&&a.data("wl_Slider")?a.wl_Slider("enable"):a.is("div.date")&&a.data("wl_Date")&&a.wl_Date("enable"):a.prop("disabled",!1)});a.data("wl_Form").disabled=!1},reset:function(){var a=$(this),d=a.find("input,textarea,select,div.date,div.slider");if(!1===a.data("wl_Form").onReset.call(a[0]))return!1;a.find("section.error").removeClass("error");d.each(function(){var a=$(this),c=a.attr("type");"checkbox"==c?a.prop("checked",a.data("wl_initdata")).trigger("change"):"radio"==c?
a.prop("checked",a.data("wl_initdata")).trigger("change"):a.data("wl_Date")?a.datepicker("setDate",a.data("wl_initdata")):a.data("wl_Time")?a.val(a.data("wl_initdata")):a.data("wl_Multiselect")?(a.wl_Multiselect("clear"),a.wl_Multiselect("select",a.data("wl_initdata"))):a.data("wl_Slider")?a.data("wl_Slider").connect||(a.data("wl_Slider").range?a.slider("option","values",$.parseData(a.data("wl_initdata"))):a.slider("option","value",a.data("wl_initdata")),a.wl_Slider("change"),a.wl_Slider("slide")):
a.data("wl_File")?a.wl_File("reset"):a.data("wl_Editor")?a.val(a.data("wl_initdata")).wysiwyg("setContent",a.data("wl_initdata")):a.data("wl_Color")?a.wl_Color("set","value",a.data("wl_initdata")):(a.val(a.data("wl_initdata")).trigger("change"),a.is("[placeholder]")&&(""==a.data("wl_initdata")||a.data("wl_initdata")==a.attr("placeholder")?a.addClass("placeholder").val(a.attr("placeholder")).data("uservalue",!1):a.removeClass("placeholder").data("uservalue",!0)))})},submit:function(){var a=$(this),
d={},b=a.data("wl_Form"),c=a.find("input,textarea,select,div.date,div.slider"),e=a.find(".wl_formstatus"),g=[],k=[],j=[],n=[],t=!0,A=b.submitButton instanceof jQuery?b.submitButton:a.find(b.submitButton),B=function(a,b,c,d){$("#"+b).length||$("<input>",{type:"hidden",id:b,name:c,value:d}).insertAfter(a)};e.text("");c.each(function(){var a=$(this),b=a.closest("section");b.removeClass("error");a.prop("placeholder")&&(a.val()==a.prop("placeholder")&&!a.data("uservalue"))&&a.val("");a.data("required")&&
((!a.val()||a.is(":checkbox")&&!a.is(":checked"))&&!a.data("wl_File")?(g.push(a),t=!1):a.is(":radio")?$("input[name="+a.attr("name")+"]:checked").length||(g.push(a),t=!1):a.data("wl_File")&&!a.data("wl_File").files.length&&(g.push(b.find(".fileuploadpool").eq(0)),t=!1));a.data("wl_Valid")&&!a.data("wl_Valid").valid&&(k.push(a),t=!1);a.data("wl_File")&&!$.isEmptyObject(a.data("wl_File").queue)&&(n.push(b.find(".fileuploadpool").eq(0)),t=!1);if(a.data("wl_Password")&&(b=a.val(),a.data("wl_Password").confirm&&
a.data("wl_Password").connect&&b!=$("#"+a.data("wl_Password").connect).val()||b&&b.length<a.data("wl_Password").minLength))j.push(a),t=!1});if(!t)return $.each(g,function(a,c){c.closest("section").addClass("error");b.onRequireError.call(c[0],c);var d=c.attr("original-title");d&&c.removeData("tipsy").removeAttr("original-title");c.tipsy($.extend({},config.tooltip,b.tooltip,{trigger:"manual",fallback:c.data("errortext")||b.text.required}));c.tipsy("show");c.is(":radio")?$("input[name="+c.attr("name")+
"]").bind("focus.tooltip, click.tooltip, change.tooltip",function(){c.unbind("focus.tooltip, click.tooltip, change.tooltip").tipsy("hide");d&&c.attr("title",d).tipsy(config.tooltip)}):c.bind("focus.tooltip, click.tooltip, change.tooltip",function(){$(this).unbind("focus.tooltip, click.tooltip, change.tooltip").tipsy("hide");d&&c.attr("original-title",d).tipsy(config.tooltip)})}),$.each(k,function(a,c){c.closest("section").addClass("error");b.onValidError.call(c[0],c);var d=c.attr("original-title");
d&&c.removeData("tipsy").removeAttr("original-title");c.tipsy($.extend({},config.tooltip,b.tooltip,{trigger:"manual",fallback:c.data("errortext")||c.data("wl_Valid").errortext||b.text.valid}));c.tipsy("show");c.bind("focus.tooltip, click.tooltip",function(){$(this).unbind("focus.tooltip, click.tooltip").tipsy("hide");d&&c.attr("original-title",d).tipsy(config.tooltip)})}),$.each(j,function(a,c){var d=c.val();c.closest("section").addClass("error");var e=c.attr("original-title");e&&c.removeData("tipsy").removeAttr("original-title");
if(c.data("wl_Password").confirm){var g=$("#"+c.data("wl_Password").connect);d!=g.val()&&(g.tipsy($.extend({},config.tooltip,b.tooltip,{trigger:"manual",fallback:g.data("errortext")||b.text.passwordmatch})),g.tipsy("show"),g.bind("focus.tooltip, click.tooltip",function(){$(this).unbind("focus.tooltip, click.tooltip").tipsy("hide");e&&c.attr("original-title",e).tipsy(config.tooltip)}))}d.length<c.data("wl_Password").minLength&&(b.onPasswordError.call(c[0],c),c.tipsy($.extend({},config.tooltip,b.tooltip,
{trigger:"manual",fallback:c.data("errortext")||b.text.password})),c.tipsy("show"),c.bind("focus.tooltip, click.tooltip",function(){$(this).unbind("focus.tooltip, click.tooltip").tipsy("hide");e&&c.attr("original-title",e).tipsy(config.tooltip)}))}),$.each(n,function(a,c){c.closest("section").addClass("error");b.onFileError.call(c[0],c);c.tipsy($.extend({},config.tooltip,b.tooltip,{trigger:"manual",fallback:c.data("errortext")||b.text.fileinqueue}));c.tipsy("show");c.bind("focus.tooltip, click.tooltip, change.tooltip",
function(){$(this).unbind("focus.tooltip, click.tooltip, change.tooltip").tipsy("hide")})}),e.text(b.text.incomplete),!1;if(b.confirmSend&&!0===b.sent)return $.confirm(b.text.sendagain,function(){b.sent=!1;$.fn.wl_Form.methods.submit.call(a[0])}),!1;if(!1===b.onBeforePrepare.call(a[0]))return!1;c.each(function(c,e){var g=$(e),j=g.attr("name")||e.id,k=null;if(g.data("wl_Date")){var n=a.find("input[data-connect="+e.id+"]").eq(0),t=new Date(g.datepicker("getDate")),A=t.getFullYear()+"-"+$.leadingZero(t.getMonth()+
1)+"-"+$.leadingZero(t.getDate());t.getTime()&&(n.length?(k=A+" "+(n.data("wl_Time").time||"00:00"),b.ajax||B(g,j+"_wlHidden",j,k)):(k=A,b.ajax||g.val(k)));!b.ajax&&g.is("div")&&B(g,j+"_wlHidden",j,k);d[j]=k}else if(g.data("wl_Slider"))if(g.data("wl_Slider").connect)b.ajax||(!0!==g.data("wl_Slider").range?(n=$("#"+g.data("wl_Slider").connect),n.attr("name")||n.attr("name",g.data("wl_Slider").connect)):(n=$.parseData(g.data("wl_Slider").connect,!0),g=$("#"+n[0]),j=$("#"+n[1]),g.attr("name")||g.attr("name",
n[0]),j.attr("name")||j.attr("name",n[1])));else{if(!0!==g.data("wl_Slider").range)k=g.slider("option","value"),b.ajax||B(g,j+"_wlHidden",j,k);else if(k=g.slider("option","values"),!b.ajax)for(c=k.length-1;0<=c;c--)B(g,j+"_"+c+"_wlHidden",j+"[]",k[c]);d[j]=k}else if(g.data("wl_Editor"))g.wysiwyg("save"),d[j]=g.val();else if(g.data("wl_File"))if(d[j]=g.data("wl_File").files,$.isEmptyObject(d[j]))d[j]=null,b.ajax||B(g,j+"_wlHidden",j,"null");else{if(!b.ajax)for(c=d[j].length-1;0<=c;c--)B(g,j+"_"+c+
"_wlHidden",j+"[]",d[j][c])}else g.data("wl_Time")?g.data("wl_Time").connect||(d[j]=g.data("wl_Time").time,b.ajax||B(g,j+"_wlHidden",j,g.data("wl_Time").time)):g.data("wl_Password")?(g.data("wl_Password").confirmfield||(d[j]=g.val()),!b.ajax&&g.data("wl_Password").confirmfield&&g.prop("disabled",!0)):g.is(":radio")?g.is(":checked")&&(d[j]="on"!=g.val()?g.val():e.id):g.is(":checkbox")?(/\[\]$/.test(j)?(d[j]=d[j]||[],g.is(":checked")&&(n=g.val(),d[j].push("on"!=n?n:g.attr("id")||n))):g.is(":checked")?
(n=g.val(),d[j]="on"!=n?n:g.is(":checked")||g.attr("id")||n):d[j]=0,!0===d[j]?d[j]=1:!1===d[j]&&(d[j]=0),b.ajax||B(g,j+"_wlHidden",j,d[j])):g.data("wl_Number")?(k=g.val(),isNaN(k)&&(k=null),d[j]=k):(n=g.val(),/\[\]$/.test(j)&&!$.isArray(n)?(d[j]=d[j]||[],d[j].push(n)):d[j]=n)});if(c=A.attr("name"))d[c]=A.attr("value")||!0,b.ajax||B(A,c+"_wlHidden",c,d[c]);A=b.onBeforeSubmit.call(a[0],d);if(!1===A)return!1;"object"==typeof A&&(d=A);b.serialize&&(d=$.param(d));e.text(b.text.send);if(!b.ajax)return a.unbind("submit.wl_Form"),
a.submit(),!1;$.fn.wl_Form.methods.disable.call(this);$.ajax({url:b.action,type:b.method,data:d,dataType:b.dataType,success:function(c,d,g){e.textFadeOut(b.text.success);b.onSuccess.call(a[0],c,d,g)},complete:function(c,d){$.fn.wl_Form.methods.enable.call(a[0]);b.sent=!0;b.onComplete.call(a[0],d,c)},error:function(c,d,g){e.text(b.text.error);b.onError.call(a[0],d,g,c)}})},unserialize:function(a){var d=$(this);if(a=a||location.search.substr(1))try{values=decodeURIComponent(a).split("&");var b=[];$.each(values,
function(){var a=this.split("="),c=a.shift(),a=a.join("=");"undefined"!==typeof c&&"undefined"!==typeof a&&(c=c.replace(/\+/g," "),/\[\]$/.test(c)?(c=c.replace("[]",""),b[c]=b[c]||[],b[c].push(a.replace(/\+/g," "))):b[c]=a.replace(/\+/g," "))});values=b;d.find("input,textarea,select,div.date,div.slider").each(function(){var a=$(this),b=a.attr("type"),c=this.name||this.id;/\[\]$/.test(c)&&(c=c.replace("[]",""));if(null!=values[c])if("checkbox"==b)a.data("wl_initdata","true"==values[c]).prop("checked",
"true"==values[c]);else if("radio"==b)$('input[id="'+values[c]+'"]').data("wl_initdata",!0).attr("checked",!0);else if("password"!=b)if(a.data("wl_Date")&&a.is("input"))if(/(\d\d:\d\d)$/.test(values[c])){var b=values[c].substr(11),d=values[c].substr(0,10);a.data("wl_initdata",new Date(d)).datepicker("setDate",new Date(d));$('input[data-connect="'+c+'"]').data("wl_initdata",b).val(b).data("wl_Time").time=b}else a.data("wl_initdata",new Date(values[c])).datepicker("setDate",new Date(values[c]));else a.data("wl_Date")&&
a.is("div")?a.data("wl_initdata",new Date(values[c])).datepicker("setDate",new Date(values[c])):a.data("wl_Color")?a.data("wl_initdata",values[c]).wl_Color("set","value",values[c]):a.data("wl_Slider")?a.data("wl_Slider").connect||(a.data("wl_Slider").range?a.slider("option","values",$.parseData(values[c])):a.slider("option","value",values[c]),a.data("wl_initdata",values[c]),a.wl_Slider("change"),a.wl_Slider("slide")):a.data("wl_Multiselect")?a.data("wl_initdata",values[c]).wl_Multiselect("select",
values[c]):a.data("wl_Editor")?a.data("wl_initdata",values[c]).val(values[c]).wysiwyg("setContent",values[c]):a.data("wl_initdata",values[c]).val(values[c]).trigger("change")})}catch(c){$.msg(d.data("wl_Form").text.parseerror.replace("%e",c))}},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Form.defaults[a]&&null!==$.fn.wl_Form.defaults[a]?b.data("wl_Form")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Gallery=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Gallery.methods[a])return $.fn.wl_Gallery.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Gallery")?$.extend({},b.data("wl_Gallery"),a):$.extend({},$.fn.wl_Gallery.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');var e=b.find("a");b.data("wl_Gallery")||(b.data("wl_Gallery",{}),b.sortable({containment:b,opacity:0.8,distance:5,handle:"img",
forceHelperSize:!0,placeholder:"sortable_placeholder",forcePlaceholderSize:!0,start:function(a,c){b.dragging=!0;c.item.trigger("mouseleave")},stop:function(){b.dragging=!1},update:function(a,d){var e=d.item.find("a").eq(0);c.onMove.call(b[0],d.item,e.attr("href"),e.attr("title"),b.find("li"))}}),c.images=[],e.attr("rel",c.group).fancybox(c.fancybox),e.each(function(){var a=$(this),b=a.find("img"),d=$("<span>");c.editBtn&&d.append('<a class="edit">Edit</a>');c.deleteBtn&&d.append('<a class="delete">Delete</a>');
(c.deleteBtn||c.editBtn)&&a.append(d);c.images.push({image:b.attr("rel")||b.attr("src"),thumb:b.attr("src"),title:b.attr("title"),description:b.attr("alt")})}),(c.deleteBtn||c.editBtn)&&b.delegate("li","mouseenter",function(){if(!b.dragging){var a=$(this),c=a.find("img"),a=a.find("span");c.animate({top:-20},200);a.animate({top:80},200)}}).delegate("li","mouseleave",function(){var a=$(this),b=a.find("img"),a=a.find("span");b.animate({top:0},200);a.animate({top:140},200)}),c.editBtn&&b.find("a.edit").bind("click.wl_Gallery touchstart.wl_Gallery",
function(a){a.stopPropagation();a.preventDefault();var c=b.data("wl_Gallery")||c;a=$(this).parent().parent().parent();var d=a.find("a")[0].href,e=a.find("a")[0].title;c.onEdit.call(b[0],a,d,e);return!1}),c.deleteBtn&&b.find("a.delete").bind("click.wl_Gallery touchstart.wl_Gallery",function(a){a.stopPropagation();a.preventDefault();var c=b.data("wl_Gallery")||c;a=$(this).parent().parent().parent();var d=a.find("a")[0].href,e=a.find("a")[0].title;c.onDelete.call(b[0],a,d,e);return!1}));c&&$.extend(b.data("wl_Gallery"),
c)})};$.fn.wl_Gallery.defaults={group:"wl_gallery",editBtn:!0,deleteBtn:!0,fancybox:{},onEdit:function(){},onDelete:function(){},onMove:function(){}};$.fn.wl_Gallery.version="1.3";$.fn.wl_Gallery.methods={set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Gallery.defaults[a]||null==$.fn.wl_Gallery.defaults[a]?b.data("wl_Gallery")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Multiselect=function(a){var d=arguments;return this.each(function(){function b(){var a=g.pool.find("li").not(".used"),b=[];$.each(a,function(a){$(this).data("pos",a)});a=g.selection.find("li");$.each(a,function(a){var c=$(this);c.data("pos",a);g.items[c.data("value")].data("native").appendTo(e);b.push(c.data("value"))});e.data("wl_Multiselect").selected=b}function c(a){var b=$(this),c=a.data.list.find("li.selected");if(b.hasClass("used"))return!1;!a.shiftKey&&!a.ctrlKey&&c.removeClass("selected");
if(a.shiftKey){var d,c=a.data.list.find("li").not(".used");b.data("pos")>a.data.list.data("last")?(d=a.data.list.data("last"),b=b.data("pos")):(d=b.data("pos"),b=a.data.list.data("last"));for(;d<=b;d++)c.eq(d).addClass("selected");a.data.list.data("last",b)}else a.data.list.data("last",b.data("pos")),b.toggleClass("selected");return!1}var e=$(this);if($.fn.wl_Multiselect.methods[a])return $.fn.wl_Multiselect.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var g=e.data("wl_Multiselect")?
$.extend({},e.data("wl_Multiselect"),a):$.extend({},$.fn.wl_Multiselect.defaults,a,e.data());else $.error('Method "'+a+'" does not exist');e.data("wl_Multiselect")||(e.data("wl_Multiselect",{}),e.hide(),$('<div class="comboselectbox"><div class="combowrap"><ul class="comboselect"></ul></div><div class="comboselectbuttons"><a class="add btn"></a><a class="addall btn"></a><a class="removeall btn"></a><a class="remove btn"></a></div><div class="combowrap"><ul class="comboselect"></ul></div></div>').insertAfter(e));
var k=e.next(".comboselectbox"),j=k.find("a.add"),n=k.find("a.remove"),t=k.find("a.addall"),A=k.find("a.removeall"),B=k.find(".comboselect"),r=$([]),q=e.attr("name"),z=0;searchresult=[];g.pool=B.eq(0);g.selection=B.eq(1);g.searchfield&&($searchfield=$("<input>").bind("keyup.wl_Multiselect",function(){var a=RegExp($(this).val(),"i");console.log(g.pool.find("li"));$.each(g.pool.find("li").not(".used"),function(b,c){var d=$(c),e=d.data("value")+d.data("name");a.test(e)?d.removeClass("hidden"):d.addClass("hidden")})}).prependTo(k.addClass("searchable").find(".combowrap").eq(0)));
/\[\]$/.test(q)||e.attr("name",q+"[]");k.height(g.height);g.items.length&&(g.selected.length&&!$.isArray(g.selected)&&(g.selected=[g.selected]),$.each(g.items,function(a,b){var c,d,e="";"object"==typeof b?(c=b.name,d=b.value):c=d=b;g.selected.length&&-1!=$.inArray(d,g.selected)&&(e=" selected");r=r.add($('<option value="'+d+'"'+e+">"+c+"</option>"))}),r.appendTo(e));e.bind("change.wl_Multiselect",function(){b()});g.items=[];g.selected=[];$.each(e.find("option"),function(a){var b=$(this),c=b.text(),
d=b.val();a=$("<li><a>"+c+"</a></li>").append('<a class="add"></a>').data({pos:a,value:d,name:c,"native":b}).appendTo(g.pool);g.items[d]=a;b.is(":selected")&&(g.selected.push(d),a.clone(!0).data({pos:z++}).attr("data-value",d).append('<a class="remove"></a>').appendTo(g.selection).find(".add").remove(),a.data("native").prop("selected",!0),a.addClass("used"),g.showUsed||a.hide())});j.bind("click.wl_Multiselect",function(){var a=$.map(g.pool.find("li.selected"),function(a){return $(a).data("value")});
g.searchfield&&$searchfield.focus();e.wl_Multiselect("select",a)});n.bind("click.wl_Multiselect",function(){var a=$.map(g.selection.find("li.selected"),function(a){return $(a).data("value")});e.wl_Multiselect("unselect",a)});t.bind("click.wl_Multiselect",function(){var a=$.map(g.pool.find("li").not(".hidden"),function(a){return $(a).data("value")});g.searchfield&&$searchfield.val("").trigger("keyup").focus();e.wl_Multiselect("select",a)});A.bind("click.wl_Multiselect",function(){var a=$.map(g.selection.find("li"),
function(a){return $(a).data("value")});e.wl_Multiselect("unselect",a)});g.pool.delegate("li","click.wl_Multiselect",{list:g.pool},c).delegate("li","dblclick.wl_Multiselect",function(){e.wl_Multiselect("select",$(this).data("value"))}).delegate("a.add","click.wl_Multiselect",function(){e.wl_Multiselect("select",$(this).parent().data("value"))}).disableSelection();g.selection.delegate("li","click.wl_Multiselect",{list:g.selection},c).delegate("a.remove","click.wl_Multiselect",function(){e.wl_Multiselect("unselect",
$(this).parent().data("value"))});g.selection.sortable({containment:g.selection,distance:20,handle:"a:first",forcePlaceholderSize:!0,forceHelperSize:!0,update:function(){b();g.onSort.call(e[0],e.data("wl_Multiselect").selected)},items:"li"});g&&$.extend(e.data("wl_Multiselect"),g)})};$.fn.wl_Multiselect.defaults={height:200,items:[],selected:[],showUsed:!1,searchfield:!0,onAdd:function(){},onRemove:function(){},onSelect:function(){},onUnselect:function(){},onSort:function(){}};
$.fn.wl_Multiselect.version="1.3";
$.fn.wl_Multiselect.methods={add:function(a,d){var b=$(this),c=b.data("wl_Multiselect"),e=c.itemsum||0,g={};if("object"!=typeof a)g[a]=a;else if($.isArray(a))for(e=0;e<a.length;e++)g[a[e]]=a[e];else g=a;$.each(g,function(a,g){var n=$('<option value="'+a+'">'+g+"</option>").appendTo(b),n=$("<li><a>"+g+"</a></li>").append('<a class="add"></a>').data({pos:e++,"native":n,name:g,value:a}).appendTo(c.pool);b.data("wl_Multiselect").items[a]=n;d&&b.wl_Multiselect("select",a)});c.onAdd.call(b[0],$.map(g,function(a){return a}))},
remove:function(a){var d=$(this),b=d.data("wl_Multiselect");a&&!$.isArray(a)&&(a=[a]);d.wl_Multiselect("unselect",a);a&&$.each(a,function(a,e){var g=b.items[e];g.data("native").remove();g.remove();delete b.items[e];d.data("wl_Multiselect").items=b.items});d.trigger("change.wl_Multiselect");b.onRemove.call(d[0],a)},select:function(a){var d=$(this),b=d.data("wl_Multiselect");a&&!$.isArray(a)&&(a=[a]);a&&$.each(a,function(a,d){var g=b.items[d];g.hasClass("used")||(g.removeClass("selected").clone(!0).attr("data-value",
d).append('<a class="remove"></a>').appendTo(b.selection).find(".add").remove(),g.data("native").prop("selected",!0),g.addClass("used"),b.showUsed||g.addClass("hidden"))});d.trigger("change.wl_Multiselect");b.onSelect.call(d[0],a)},unselect:function(a){var d=$(this),b=d.data("wl_Multiselect");a&&!$.isArray(a)&&(a=[a]);var c=b.selection.find("li");a&&$.each(a,function(a,d){var k=b.items[d];k.hasClass("used")&&(k.data("native").prop("selected",!1),c.filter('[data-value="'+d+'"]').remove(),k.removeClass("used"),
b.showUsed||k.removeClass("hidden"))});d.trigger("change.wl_Multiselect");b.onUnselect.call(d[0],a)},clear:function(){var a=$(this),d=a.data("wl_Multiselect");a.wl_Multiselect("unselect",d.selected);a.trigger("change.wl_Multiselect")},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Multiselect.defaults[a]?b.data("wl_Multiselect")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Number=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Number.methods[a])return $.fn.wl_Number.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Number")?$.extend({},b.data("wl_Number"),a):$.extend({},$.fn.wl_Number.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');b.data("wl_Number")||(b.data("wl_Number",{}),c.min=b.attr("min")||c.min,c.max=b.attr("max")||c.max,c.step=b.attr("step")||c.step,
b.bind({"mousewheel.wl_Number":function(a,c){var d=b.data("wl_Number")||d;d.mousewheel&&(a.preventDefault(),c=0>c?-1:1,a.shiftKey&&(c*=10),$.fn.wl_Number.methods.change.call(b[0],c))},"change.wl_Number":function(){var a=$(this);$.fn.wl_Number.methods.correct.call(b[0]);a.data("wl_Number").onChange.call(b[0],a.val())}}));c&&$.extend(b.data("wl_Number"),c)})};$.fn.wl_Number.defaults={step:1,decimals:0,start:0,min:null,max:null,mousewheel:!0,onChange:function(){},onError:function(){}};
$.fn.wl_Number.version="1.0";
$.fn.wl_Number.methods={correct:function(){var a=$(this).val().replace(/,/g,".");a&&$.fn.wl_Number.methods.printValue.call(this,parseFloat(a))},change:function(a){var d=$(this),b=d.val()||d.data("wl_Number").start;a=parseFloat(b,10)+a*d.data("wl_Number").step;$.fn.wl_Number.methods.printValue.call(this,a);d.trigger("change.wl_Number")},printValue:function(a){var d=$(this),b=d.data("wl_Number")||b;isNaN(a)&&""!=a?(b.onError.call(this,d.val()),d.val(0).focus().select(),d.trigger("change.wl_Number")):
(null!=b.min&&(a=Math.max(b.min,a)),null!=b.max&&(a=Math.min(b.max,a)),b.decimals?a=parseFloat(a,b.decimals).toFixed(b.decimals):a=Math.round(a),d.val(a))},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Number.defaults[a]||null==$.fn.wl_Number.defaults[a]?b.data("wl_Number")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Password=function(a){var d=arguments;return this.each(function(){var b=$(this);if(!b.data("wl_Password")||!b.data("wl_Password").confirmfield){if($.fn.wl_Password.methods[a])return $.fn.wl_Password.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Password")?$.extend({},b.data("wl_Password"),a):$.extend({},$.fn.wl_Password.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');if(!b.data("wl_Password")){b.data("wl_Password",{});
var e=$("<div/>",{"class":"passwordstrength"}).appendTo(b.parent()).hide();if(c.confirm){c.connect=this.id+"_confirm";var g=$(b.addClass("password").clone()).attr({id:c.connect,name:c.connect}).appendTo(b.parent()).removeAttr("required").hide();g.data("wl_Password",{confirmfield:!0})}b.bind({"focus.wl_Password":function(){b.trigger("keyup.wl_Password")},"blur.wl_Password":function(){var a=b.data("wl_Password")||a;b.val()?a.confirm&&!g.val()&&e.text(a.text.confirm):(e.hide(),a.confirm&&g.hide())},
"keyup.wl_Password":function(){var a=b.data("wl_Password")||a;if(b.val()){a.confirm&&g.show();var c;c=b.val();var d=0;c.length<a.minLength?c=d:(d=Math.min(15,d+2*c.length),c.match(/[a-z]/)&&(d+=1),c.match(/[A-Z]/)&&(d+=5),c.match(/\d+/)&&(d+=5),c.match(/(.*[0-9].*[0-9].*[0-9])/)&&(d+=7),c.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(d+=5),c.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(d+=7),c.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(d+=2),c.match(/([a-zA-Z])/)&&c.match(/([0-9])/)&&(d+=3),
c.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(d+=3),c=Math.min(5,Math.ceil(d/10)));a.showStrength&&(e.show(),e.attr("class","passwordstrength").addClass("s_"+c).text(a.words[c]));b.data("wl_Password").strength=c}else a.showStrength&&e.hide(),a.confirm&&g.val("").hide()}});c.confirm&&c.showStrength&&g.bind("keyup.wl_Password",function(){var a=b.data("wl_Password")||a;g.val()?g.val()!=b.val()?e.text(a.text.nomatch):e.text(a.words[b.data("wl_Password").strength]):
e.text(a.text.confirm)})}c&&$.extend(b.data("wl_Password"),c)}})};$.fn.wl_Password.defaults={confirm:!0,showStrength:!0,words:"too short;bad;medium;good;very good;excellent".split(";"),minLength:3,text:{confirm:"please confirm",nomatch:"password doesn't match"}};$.fn.wl_Password.version="1.0.1";
$.fn.wl_Password.methods={set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Password.defaults[a]||null==$.fn.wl_Password.defaults[a]?b.data("wl_Password")[a]=c:$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Slider=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Slider.methods[a])return $.fn.wl_Slider.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Slider")?$.extend({},b.data("wl_Slider"),a):$.extend({},$.fn.wl_Slider.defaults,a,b.data());else try{return b.slider(a,d[1],d[2])}catch(e){$.error('Method "'+a+'" does not exist')}b.data("wl_Slider")?b.unbind("slide slidechange").slider("destroy"):(b.data("wl_Slider",
{}),b.bind("mousewheel.wl_Slider",function(a,d){if(c.mousewheel){d=0>d?-1:1;a.preventDefault();if(!0!==b.data("range")){var e=b.slider("value");$.fn.wl_Slider.methods.values.call(b[0],e+d*c.step);if(c.tooltip){var g=b.find("a");g.tipsy("setTitel",c.tooltipPattern.replace("%n",e+d*c.step));g.tipsy("update")}}else{var e=b.slider("values"),g=b.find("a"),j=g.eq(0).offset(),k=g.eq(1).offset();"horizontal"==c.orientation?j.left+(k.left-j.left)/2>a.clientX?$.fn.wl_Slider.methods.values.call(b[0],Math.min(e[0]+
d*c.step,e[1]),e[1]):$.fn.wl_Slider.methods.values.call(b[0],e[0],Math.max(e[1]+d*c.step,e[0])):"vertical"==c.orientation&&(k.top+(j.top-k.top)/2<a.pageY?$.fn.wl_Slider.methods.values.call(b[0],Math.min(e[0]+d*c.step,e[1]),e[1]):$.fn.wl_Slider.methods.values.call(b[0],e[0],Math.max(e[1]+d*c.step,e[0])));c.tooltip&&(g.eq(0).tipsy("setTitel",c.tooltipPattern.replace("%n",e[0]+d*c.step)),g.eq(0).tipsy("update"),g.eq(1).tipsy("setTitel",c.tooltipPattern.replace("%n",e[0]+d*c.step)),g.eq(1).tipsy("update"))}$.fn.wl_Slider.methods.slide.call(b[0])}}));
b.slider(c).bind("slide",function(a,c){$.fn.wl_Slider.methods.slide.call(b[0],c.value)}).bind("slidechange",function(a,c){$.fn.wl_Slider.methods.change.call(b[0],c.value)});if(c.connect)if(!0!==b.data("range")){var g=$("#"+c.connect),k=g.val()||b.data("value")||c.min;g.data("wl_Number")||g.wl_Number();b.unbind("slide slidechange").slider("value",k);b.bind("slide",function(a,c){g.val(c.value);$.fn.wl_Slider.methods.slide.call(b[0],c.value)}).bind("slidechange",function(a,c){g.val(c.value);$.fn.wl_Slider.methods.change.call(b[0],
c.value)});g.val(k).wl_Number("set",$.extend({},c,{onChange:function(a){b.slider("value",a);b.wl_Slider("slide");b.wl_Slider("change")}}))}else{var g=$.parseData(c.connect,!0),j=$("#"+g[0]),n=$("#"+g[1]),k=j.val()||b.data("values")[0]||c.min,t=n.val()||b.data("values")[1]||c.max;j.data("wl_Number")||j.wl_Number();n.data("wl_Number")||n.wl_Number();b.unbind("slide slidechange").slider("option","values",[k,t]).bind("slide",function(a,c){j.val(c.values[0]);n.val(c.values[1]);$.fn.wl_Slider.methods.slide.call(b[0],
c.values)}).bind("slidechange",function(a,c){j.val(c.values[0]);n.val(c.values[1]);$.fn.wl_Slider.methods.change.call(b[0],c.values)});j.wl_Number("set",$.extend({},c,{onChange:function(a){b.slider("option","values",[a,n.val()]);n.wl_Number("set","min",parseFloat(a));b.wl_Slider("slide");b.wl_Slider("change")},min:c.min,max:n.val()||t})).val(k);n.wl_Number("set",$.extend({},c,{onChange:function(a){b.slider("option","values",[j.val(),a]);j.wl_Number("set","max",parseFloat(a));b.wl_Slider("slide");
b.wl_Slider("change")},min:j.val()||k,max:c.max})).val(t)}if(c.tooltip){var k=b.find(".ui-slider-handle"),A,B=[];$.isArray(c.tooltipGravity)?"horizontal"==c.orientation?A=c.tooltipGravity[0]:"vertical"==c.orientation&&(A=c.tooltipGravity[1]):A=c.tooltipGravity;$.each(k,function(a,b){B.push($(b));B[a].tipsy($.extend({},config.tooltip,{trigger:"manual",gravity:A,html:!0,fallback:c.tooltipPattern.replace("%n",(c.values?c.values:c.value?[c.value]:[0,0])[a]),appendTo:B[a]}));B[a].tipsy("tip").find(".tipsy-inner").css("white-space",
"nowrap");B[a].bind({"mouseenter.wl_Slider touchstart.wl_Slider":function(){B[a].tipsy("show")},"mouseleave.wl_Slider touchend.wl_Slider":function(){B[a].tipsy("hide")},"mouseenter touchstart":function(){B[a].data("mouseIsOver",!0)},"mouseleave touchend":function(){B[a].data("mouseIsOver",!1)}})});b.bind("slidestart",function(a,b){$(b.handle).unbind("mouseleave.wl_Slider touchstart.wl_Slider mouseenter.wl_Slider touchend.wl_Slider")}).bind("slidestop",function(a,b){var c=$(b.handle);c.bind({"mouseenter.wl_Slider touchstart.wl_Slider":function(){c.tipsy("show")},
"mouseleave.wl_Slider touchend.wl_Slider":function(){c.tipsy("hide")}});c.data("mouseIsOver")||c.tipsy("hide")}).bind("slide",function(a,b){var d=$(b.handle);d.tipsy("setTitel",c.tooltipPattern.replace("%n",b.value));d.tipsy("update")})}c.disabled&&b.fn.wl_Slider.methods.disable.call(b[0]);c&&$.extend(b.data("wl_Slider"),c)})};
$.fn.wl_Slider.defaults={min:0,max:100,step:1,animate:!1,disabled:!1,orientation:"horizontal",range:!1,mousewheel:!0,connect:null,tooltip:!1,tooltipGravity:["s","w"],tooltipPattern:"%n",onSlide:function(){},onChange:function(){}};$.fn.wl_Slider.version="1.1.1";
$.fn.wl_Slider.methods={disable:function(){var a=$(this),d=a.data("wl_Slider");a.slider("disable");if(d.connect)if(!0!==a.data("range"))$("#"+d.connect).prop("disabled",!0);else{var b=$.parseData(d.connect,!0),d=$("#"+b[0]),b=$("#"+b[1]);d.attr("disabled",!0);b.attr("disabled",!0)}a.data("wl_Slider").disabled=!0},enable:function(){var a=$(this),d=a.data("wl_Slider");a.slider("enable");if(a.data("wl_Slider").connect)if(!0!==a.data("range"))$("#"+d.connect).prop("disabled",!1);else{var b=$.parseData(d.connect,
!0),d=$("#"+b[0]),b=$("#"+b[1]);d.removeAttr("disabled");b.removeAttr("disabled")}a.data("wl_Slider").disabled=!1},change:function(a){var d=$(this),b=d.data("wl_Slider");!0!==d.data("range")?b.onChange.call(this,a||d.slider("value")):b.onChange.call(this,a||d.slider("values"))},slide:function(a){var d=$(this),b=d.data("wl_Slider");!0!==d.data("range")?b.onSlide.call(this,a||d.slider("value")):b.onSlide.call(this,a||d.slider("values"))},value:function(a){var d=$(this);!0!==d.data("wl_Slider").range&&
d.slider("value",a)},values:function(a,d){var b=$(this);!0===b.data("wl_Slider").range?"object"===typeof a?(b.slider("values",0,a[0]),b.slider("values",1,a[1])):(b.slider("values",0,a),b.slider("values",1,d)):$.fn.wl_Slider.methods.value.call(this,a)},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);if(b.data("wl_Slider").connect)if(!0!==b.data("range"))var e=$("#"+b.data("wl_Slider").connect);else var g=$.parseData(b.data("wl_Slider").connect,!0),e=$("#"+g[0]),
k=$("#"+g[1]);$.each(c,function(a,c){void 0!==$.fn.wl_Slider.defaults[a]||null==$.fn.wl_Slider.defaults[a]?(b.slider("option",a,c).data("wl_Slider")[a]=c,e&&e.data(a,c).trigger("change"),k&&k.data(a,c).trigger("change")):$.error('Key "'+a+'" is not defined')})}};$.wl_Store=function(a){"object"!=typeof $.jStorage&&$.error("wl_Store requires the jStorage library");a=a||"wl_store";remove=function(d){return $.jStorage.deleteKey(a+"_"+d)};flush=function(){return $.jStorage.flush()};index=function(){return $.jStorage.index()};return{save:function(d,b){return $.jStorage.set(a+"_"+d,b)},get:function(d){return $.jStorage.get(a+"_"+d)},remove:function(a){return remove(a)},flush:function(){return flush()},index:function(){return index()}}};$.fn.wl_Time=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Time.methods[a])return $.fn.wl_Time.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Time")?$.extend({},b.data("wl_Time"),a):$.extend({},$.fn.wl_Time.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');if(!b.data("wl_Time")){b.data("wl_Time",{});b.bind({"mousewheel.wl_Time":function(a,c){var d=b.data("wl_Time")||d;d.mousewheel&&(a.preventDefault(),
c=0>c?-1:1,a.shiftKey&&(c*=60/d.step),$.fn.wl_Time.methods.change.call(b[0],c))},"change.wl_Time":function(){var a=b.data("wl_Time")||a;$.fn.wl_Time.methods.correct.call(b[0]);$.fn.wl_Time.methods.printTime.call(b[0]);a.onChange.call(b[0],a.time)}}).after('<span class="timeformat"/>').attr("maxlength",5);if(null!==c.connect){var e=$("#"+c.connect),g=c.onDateChange;_callback=function(a){var c=(new Date(e.datepicker("getDate"))).getTime();c&&e.datepicker("setDate",new Date(c+864E5*a));g.call(b[0],a)};
c.onDateChange=_callback}if(c.value){var k=(new Date).getTime(),j;switch(c.value){case "now":j=new Date(k);break;default:isNaN(c.value)||(j=new Date(k+6E4*(c.value%60)))}c.time=$.leadingZero(j.getHours())+":"+$.leadingZero(j.getMinutes());b.val(c.time)}}c&&$.extend(b.data("wl_Time"),c);b.val().match(/\d\d:\d\d/)&&(b.data("wl_Time").time=b.val(),$.fn.wl_Time.methods.printTime.call(b[0]))})};
$.fn.wl_Time.defaults={step:5,timeformat:24,roundtime:!0,time:null,value:null,mousewheel:!0,onDateChange:function(){},onHourChange:function(){},onChange:function(){}};$.fn.wl_Time.version="1.1";
$.fn.wl_Time.methods={change:function(a){var d=$(this),b=d.data("wl_Time"),c=new Date("2010/01/01 "+(d.data("wl_Time").time||"00:00")),e=new Date(c.getTime()+6E4*a*d.data("wl_Time").step);a=e.getHours();e=e.getMinutes();b.roundtime&&(e-=e%d.data("wl_Time").step);d.data("wl_Time").time=$.leadingZero(a)+":"+$.leadingZero(e);$.fn.wl_Time.methods.printTime.call(this);b.onChange.call(this,d.data("wl_Time").time);Math.abs(c.getMinutes()-e)==60-b.step&&b.onHourChange.call(this,a-c.getHours());23==Math.abs(c.getHours()-
a)&&b.onDateChange.call(this,a?-1:1)},printTime:function(){var a=$(this),d=a.data("wl_Time"),b=d.time;b&&(b=b.split(":"),12==d.timeformat?a.val($.leadingZero(0==b[0]%12?12:b[0]%12)+":"+$.leadingZero(b[1])).next().html(1<=b[0]/12?"pm":"am"):a.val($.leadingZero(b[0])+":"+$.leadingZero(b[1])))},correct:function(){var a=$(this),d=a.val(),b;""!=d&&(/^\d+:\d+$/.test(d)||(1==d.length?d="0"+d+":00":2==d.length?d+=":00":3==d.length?d=d.substr(0,2)+":"+d.substr(2,3)+"0":4==d.length&&(d=d.substr(0,2)+":"+d.substr(2,
4))),b=d.split(":"),!/\d\d:\d\d$/.test(d)&&""!=d||23<b[0]||59<b[1]?(a.val("00:00").focus().select(),a.data("wl_Time").time="00:00"):a.data("wl_Time").time=d,$.fn.wl_Time.methods.printTime.call(this))},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Time.defaults[a]||null==$.fn.wl_Time.defaults[a]?(b.data("wl_Time")[a]=c,b.trigger("change.wl_Time")):$.error('Key "'+a+'" is not defined')})}};$.fn.wl_Valid=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Valid.methods[a])return $.fn.wl_Valid.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Valid")?$.extend({},b.data("wl_Valid"),a):$.extend({},$.fn.wl_Valid.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');"string"===typeof c.regex&&(c.regex=RegExp(c.regex));b.data("wl_Valid")||(b.data("wl_Valid",{}),b.bind({"change.wl_Valid":function(){var a=
b.data("wl_Valid")||a;$.fn.wl_Valid.methods.validate.call(b[0]);a.onChange.call(b[0],b,b.val());a.valid||a.onError.call(b[0],b,b.val())},"keyup.wl_Valid":function(){var a=b.data("wl_Valid")||a;a.instant&&b.val().length>=b.data("wl_Valid").minLength&&b.wl_Valid("validate")}}));c&&$.extend(b.data("wl_Valid"),c);$.fn.wl_Valid.methods.validate.call(b)})};$.fn.wl_Valid.defaults={errorClass:"error",instant:!0,regex:/.*/,minLength:0,onChange:function(){},onError:function(){}};$.fn.wl_Valid.version="1.0";
$.fn.wl_Valid.methods={validate:function(){var a=$(this),d=a.data("wl_Valid")||d,b=a.val();d.valid=!b||d.regex.test(b);d.valid||b==a.attr("placeholder")?a.removeClass(d.errorClass):a.addClass(d.errorClass)},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){if(void 0!==$.fn.wl_Valid.defaults[a]||null==$.fn.wl_Valid.defaults[a]){switch(a){case "regex":c=RegExp(c)}b.data("wl_Valid")[a]=c}else $.error('Key "'+a+'" is not defined')})}};
$.fn.wl_Mail=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Valid.methods[a])return $.fn.wl_Valid.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Valid")?$.extend({},b.data("wl_Valid"),a):$.extend({},$.fn.wl_Mail.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');b.wl_Valid(c);c&&$.extend(b.data("wl_Valid"),c)})};
$.fn.wl_Mail.defaults={regex:/^([\w-]+(?:\.[\w-]+)*)\@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$|(\[?(\d{1,3}\.){3}\d{1,3}\]?)$/i,onChange:function(a,d){a.val(d.toLowerCase())}};
$.fn.wl_URL=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Valid.methods[a])return $.fn.wl_Valid.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Valid")?$.extend({},b.data("wl_Valid"),a):$.extend({},$.fn.wl_URL.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');b.wl_Valid(c);c&&$.extend(b.data("wl_Valid"),c)})};
$.fn.wl_URL.defaults={regex:/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w]))*\.+(([\w#!:.?+=&%@!\-\/]))?/,instant:!1,onChange:function(a,d){""!=d&&!/^(ftp|http|https):\/\//.test(d)&&a.val("http://"+d).trigger("change.wl_Valid")}};$.fn.wl_Widget=function(a){var d=arguments;return this.each(function(){var b=$(this);if($.fn.wl_Widget.methods[a])return $.fn.wl_Widget.methods[a].apply(this,Array.prototype.slice.call(d,1));if("object"===typeof a||!a)var c=b.data("wl_Widget")?$.extend({},b.data("wl_Widget"),a):$.extend({},$.fn.wl_Widget.defaults,a,b.data());else $.error('Method "'+a+'" does not exist');if(!b.data("wl_Widget")){b.data("wl_Widget",{});b.find("div.widget").each(function(){var a=$(this),b=$.extend({},c,a.data()),d=a.find("h3.handle"),
e=a.find("div").eq(0);a.parent();a.data("wl_Widget",{});b.icon&&(d.addClass("icon"),$("<a>",{"class":"icon i_"+b.icon}).appendTo(d));b.sortable&&a.addClass("sortable");b.collapsible&&($("<a>",{"class":"collapse",title:b.text.collapse}).appendTo(d),b.collapsed&&(e.hide(),a.addClass("collapsed"),d.find("a.collapse").attr("title",b.text.expand)),d.delegate("a.collapse","click.wl_Widget touchstart.wl_Widget",function(){var b=a.data("wl_Widget")||b,c=a.find("div").eq(0);c.is(":hidden")?c.slideDown(100,
function(){a.removeClass("collapsed").data("wl_Widget").collapsed=!1;d.find("a.collapse").attr("title",b.text.collapse);b.onExpand.call(a[0]);$.fn.wl_Widget.methods.save();$(window).resize()}):e.slideUp(100,function(){a.addClass("collapsed").data("wl_Widget").collapsed=!0;d.find("a.collapse").attr("title",b.text.expand);b.onCollapse.call(a[0]);$.fn.wl_Widget.methods.save()});return!1}).bind("dblclick",function(){d.find("a.collapse").trigger("click");return!1}));d.delegate("a.reload","click.wl_Widget touchstart.wl_Widget",
function(){var b=a.data("wl_Widget")||b,c=a.find("div").eq(0);a.addClass("loading");c.height(e.height());b.removeContent&&c.html(b.text.loading);c.load(b.load,function(e,g,j){a.removeClass("loading");c.height("auto");"error"==g&&c.html(j.status+" "+j.statusText);b.reload&&(clearTimeout(a.data("wl_Widget").timeout),a.data("wl_Widget").timeout=setTimeout(function(){d.find("a.reload").trigger("click.wl_Widget")},1E3*b.reload))});return!1});d.delegate("a","click.wl_Widget",function(a){a.stopPropagation();
return!1});b&&$.extend(a.data("wl_Widget"),b);b.load&&$("<a>",{"class":"reload",title:b.text.reload}).appendTo(d).trigger("click.wl_Widget")});var e=$("#content");e.data("wl_Widget")||e.data("wl_Widget",{containercount:$("div.widgets").length,currentid:1});if(e.data("wl_Widget").currentid++>=e.data("wl_Widget").containercount){var e=$("div.widgets"),g=new $.wl_Store("wl_"+location.pathname.toString());e.each(function(a){a=g.get("widgets_"+a);var b=$(this);if(!a)return!1;$.each(a,function(a,c){var d=
$("#"+a);c.collapsed&&d.data("wl_Widget").collapsible?d.addClass("collapsed").find("div").eq(0).hide().data("wl_Widget",{collapsed:!0}):d.removeClass("collapsed").find("div").eq(0).show().data("wl_Widget",{collapsed:!1});if(d.length&&(d.prevAll("div").length!=c.position||d.parent()[0]!==b[0]))children=b.children("div.widget"),children.eq(c.position).length?d.insertBefore(children.eq(c.position)):children.length?d.insertAfter(children.eq(c.position-1)):d.appendTo(b)})});e.sortable({items:e.find("div.widget.sortable"),
containment:"#content",opacity:0.8,distance:5,handle:"h3.handle",connectWith:e,forceHelperSize:!0,placeholder:"sortable_placeholder",forcePlaceholderSize:!0,zIndex:1E4,start:function(a,b){b.item.data("wl_Widget").onDrag.call(b.item[0])},stop:function(a,b){b.item.data("wl_Widget").onDrop.call(b.item[0]);$.fn.wl_Widget.methods.save()}})}}c&&$.extend(b.data("wl_Widget"),c)})};
$.fn.wl_Widget.defaults={collapsed:!1,load:null,reload:!1,removeContent:!0,collapsible:!0,sortable:!0,text:{loading:"loading...",reload:"reload",collapse:"collapse widget",expand:"expand widget"},onDrag:function(){},onDrop:function(){},onExpand:function(){},onCollapse:function(){}};$.fn.wl_Widget.version="1.2";
$.fn.wl_Widget.methods={save:function(){var a=$("div.widgets"),d=new $.wl_Store("wl_"+location.pathname.toString());a.each(function(a){var c={};$(this).find("div.widget").each(function(a){var b=$(this);c[this.id]={position:a,collapsed:b.find("div").eq(0).is(":hidden")}});d.save("widgets_"+a,c)})},set:function(a,d){var b=$(this),c={};"object"===typeof a?c=a:a&&void 0!==d&&(c[a]=d);$.each(c,function(a,c){void 0!==$.fn.wl_Widget.defaults[a]||null==$.fn.wl_Widget.defaults[a]?b.data("wl_Widget")[a]=c:
$.error('Key "'+a+'" is not defined')})}};