var COMPILED=!0,goog=goog||{};goog.global=this;goog.DEBUG=!0;goog.LOCALE="en";goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var d=a;(d=d.substring(0,d.lastIndexOf(".")))&&!goog.getObjectByName(d);)goog.implicitNamespaces_[d]=!0}goog.exportPath_(a)};goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+a?": "+a:".");};
COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={});goog.exportPath_=function(a,d,c){a=a.split(".");c=c||goog.global;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)!a.length&&goog.isDef(d)?c[e]=d:c=c[e]?c[e]:c[e]={}};goog.getObjectByName=function(a,d){for(var c=a.split("."),e=d||goog.global,b;b=c.shift();)if(goog.isDefAndNotNull(e[b]))e=e[b];else return null;return e};
goog.globalize=function(a,d){var c=d||goog.global,e;for(e in a)c[e]=a[e]};goog.addDependency=function(a,d,c){if(!COMPILED){var e;a=a.replace(/\\/g,"/");for(var b=goog.dependencies_,h=0;e=d[h];h++)b.nameToPath[e]=a,a in b.pathToNames||(b.pathToNames[a]={}),b.pathToNames[a][e]=!0;for(e=0;d=c[e];e++)a in b.requires||(b.requires[a]={}),b.requires[a][d]=!0}};goog.ENABLE_DEBUG_LOADER=!0;
goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var d=goog.getPathFromDeps_(a);if(d){goog.included_[d]=!0;goog.writeScripts_();return}}a="goog.require could not find: "+a;goog.global.console&&goog.global.console.error(a);throw Error(a);}};goog.basePath="";goog.nullFunction=function(){};goog.identityFunction=function(a){return a};goog.abstractMethod=function(){throw Error("unimplemented abstract method");};
goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_)return a.instance_;goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);return a.instance_=new a}};goog.instantiatedSingletons_=[];
!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),d=a.length-1;0<=d;--d){var c=a[d].src,e=c.lastIndexOf("?"),e=
-1==e?c.length:e;if("base.js"==c.substr(e-7,7)){goog.basePath=c.substr(0,e-7);break}}},goog.importScript_=function(a){var d=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&d(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){if(goog.inHtmlDocument_()){var d=goog.global.document;if("complete"==d.readyState){if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load');}d.write('<script type="text/javascript" src="'+
a+'">\x3c/script>');return!0}return!1},goog.writeScripts_=function(){function a(b){if(!(b in e.written)){if(!(b in e.visited)&&(e.visited[b]=!0,b in e.requires))for(var f in e.requires[b])if(!goog.isProvided_(f))if(f in e.nameToPath)a(e.nameToPath[f]);else throw Error("Undefined nameToPath for "+f);b in c||(c[b]=!0,d.push(b))}}var d=[],c={},e=goog.dependencies_,b;for(b in goog.included_)e.written[b]||a(b);for(b=0;b<d.length;b++)if(d[b])goog.importScript_(goog.basePath+d[b]);else throw Error("Undefined script input");
},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js"));
goog.typeOf=function(a){var d=typeof a;if("object"==d)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return d;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==d&&"undefined"==typeof a.call)return"object";return d};goog.isDef=function(a){return void 0!==a};goog.isNull=function(a){return null===a};goog.isDefAndNotNull=function(a){return null!=a};goog.isArray=function(a){return"array"==goog.typeOf(a)};goog.isArrayLike=function(a){var d=goog.typeOf(a);return"array"==d||"object"==d&&"number"==typeof a.length};goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear};goog.isString=function(a){return"string"==typeof a};
goog.isBoolean=function(a){return"boolean"==typeof a};goog.isNumber=function(a){return"number"==typeof a};goog.isFunction=function(a){return"function"==goog.typeOf(a)};goog.isObject=function(a){var d=typeof a;return"object"==d&&null!=a||"function"==d};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(d){}};
goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(a){var d=goog.typeOf(a);if("object"==d||"array"==d){if(a.clone)return a.clone();var d="array"==d?[]:{},c;for(c in a)d[c]=goog.cloneObject(a[c]);return d}return a};goog.bindNative_=function(a,d,c){return a.call.apply(a.bind,arguments)};
goog.bindJs_=function(a,d,c){if(!a)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(b,e);return a.apply(d,b)}}return function(){return a.apply(d,arguments)}};goog.bind=function(a,d,c){goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_;return goog.bind.apply(null,arguments)};
goog.partial=function(a,d){var c=Array.prototype.slice.call(arguments,1);return function(){var d=Array.prototype.slice.call(arguments);d.unshift.apply(d,c);return a.apply(this,d)}};goog.mixin=function(a,d){for(var c in d)a[c]=d[c]};goog.now=Date.now||function(){return+new Date};
goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else if(goog.global.eval)if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var d=goog.global.document,c=d.createElement("script");c.type="text/javascript";c.defer=!1;c.appendChild(d.createTextNode(a));d.body.appendChild(c);
d.body.removeChild(c)}else throw Error("goog.globalEval not available");};goog.evalWorksForGlobals_=null;goog.getCssName=function(a,d){var c=function(a){return goog.cssNameMapping_[a]||a},e=function(a){a=a.split("-");for(var d=[],e=0;e<a.length;e++)d.push(c(a[e]));return d.join("-")},e=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:e:function(a){return a};return d?a+"-"+e(d):e(a)};goog.setCssNameMapping=function(a,d){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=d};
!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=function(a,d){var c=d||{},e;for(e in c){var b=(""+c[e]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+e+"\\}","gi"),b)}return a};goog.getMsgWithFallback=function(a){return a};goog.exportSymbol=function(a,d,c){goog.exportPath_(a,d,c)};goog.exportProperty=function(a,d,c){a[d]=c};
goog.inherits=function(a,d){function c(){}c.prototype=d.prototype;a.superClass_=d.prototype;a.prototype=new c;a.prototype.constructor=a};
goog.base=function(a,d,c){var e=arguments.callee.caller;if(e.superClass_)return e.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var b=Array.prototype.slice.call(arguments,2),h=!1,f=a.constructor;f;f=f.superClass_&&f.superClass_.constructor)if(f.prototype[d]===e)h=!0;else if(h)return f.prototype[d].apply(a,b);if(a[d]===e)return a.constructor.prototype[d].apply(a,b);throw Error("goog.base called from a method of one name to a method of a different name");};
goog.scope=function(a){a.call(goog.global)};window.Modernizr=function(a,d,c){function e(a,d){var c=a.charAt(0).toUpperCase()+a.substr(1),c=(a+" "+r.join(c+" ")+c).split(" ");return b(c,d)}function b(a,b){for(var d in a)if(g[a[d]]!==c)return"pfx"==b?a[d]:!0;return!1}function h(a,b){return typeof a===b}var f={},k=d.documentElement;d.head||d.getElementsByTagName("head");var j=d.createElement("modernizr"),g=j.style,j=d.createElement("input"),l=Object.prototype.toString,m=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),r=["Webkit","Moz","O","ms",
"Khtml"],p={},t={},n={},u=[],w=function(a,b,c,e){var f,h=d.createElement("div");if(parseInt(c,10))for(;c--;)f=d.createElement("div"),f.id=e?e[c]:"modernizr"+(c+1),h.appendChild(f);c=["&shy;<style>",a,"</style>"].join("");h.id="modernizr";h.innerHTML+=c;k.appendChild(h);a=b(h,a);h.parentNode.removeChild(h);return!!a},v,E={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};v=function(a,b){b=b||d.createElement(E[a]||"div");a="on"+a;var e=a in b;e||(b.setAttribute||
(b=d.createElement("div")),b.setAttribute&&b.removeAttribute&&(b.setAttribute(a,""),e=h(b[a],"function"),h(b[a],c)||(b[a]=c),b.removeAttribute(a)));return e};var z,s={}.hasOwnProperty,L;!h(s,c)&&!h(s.call,c)?L=function(a,b){return s.call(a,b)}:L=function(a,b){return b in a&&h(a.constructor.prototype[b],c)};var A=["fontface","touch","csstransforms3d","generatedcontent"],D=['@font-face {font-family:"font";src:url("https://")}',["@media (",m.join("touch-enabled),("),"modernizr){#touch{top:9px;position:absolute}}"].join(""),
["@media (",m.join("transform-3d),("),"modernizr){#csstransforms3d{left:9px;position:absolute}}"].join(""),'#generatedcontent:after{content:":)";visibility:hidden}'].join(""),B=A.length;w(D,function(b,c){for(var e=d.styleSheets[d.styleSheets.length-1],e=e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"",h=b.childNodes,m={};B--;)m[h[B].id]=h[B];f.touch="ontouchstart"in a||9===m.touch.offsetTop;f.csstransforms3d=9===m.csstransforms3d.offsetLeft;f.generatedcontent=1<=m.generatedcontent.offsetHeight;
f.fontface=/src/i.test(e)&&0===e.indexOf(c.split(" ")[0])},B,A);p.flexbox=function(){var a=d.createElement("div"),b=d.createElement("div"),c;c="display:";a.style.cssText=(c+m.join("box;"+c)).slice(0,-c.length)+"width:42px;padding:0;";b.style.cssText=m.join("box-flex:1;")+"width:10px;";a.appendChild(b);k.appendChild(a);c=42===b.offsetWidth;a.removeChild(b);k.removeChild(a);return c};p.canvas=function(){var a=d.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")};p.canvastext=function(){return!!f.canvas&&
!!h(d.createElement("canvas").getContext("2d").fillText,"function")};p.webgl=function(){return!!a.WebGLRenderingContext};p.touch=function(){return f.touch};p.geolocation=function(){return!!navigator.geolocation};p.postmessage=function(){return!!a.postMessage};p.websqldatabase=function(){return!!a.openDatabase};p.indexedDB=function(){for(var b=-1,c=r.length;++b<c;)if(a[r[b].toLowerCase()+"IndexedDB"])return!0;return!!a.indexedDB};p.hashchange=function(){return v("hashchange",a)&&(d.documentMode===
c||7<d.documentMode)};p.history=function(){return!!a.history&&!!history.pushState};p.draganddrop=function(){return v("dragstart")&&v("drop")};p.websockets=function(){for(var b=-1,c=r.length;++b<c;)if(a[r[b]+"WebSocket"])return!0;return"WebSocket"in a};p.rgba=function(){g.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+g.backgroundColor).indexOf("rgba")};p.hsla=function(){g.cssText="background-color:hsla(120,40%,100%,.5)";return!!~(""+g.backgroundColor).indexOf("rgba")||!!~(""+g.backgroundColor).indexOf("hsla")};
p.multiplebgs=function(){g.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(g.background)};p.backgroundsize=function(){return e("backgroundSize")};p.borderimage=function(){return e("borderImage")};p.borderradius=function(){return e("borderRadius")};p.boxshadow=function(){return e("boxShadow")};p.textshadow=function(){return""===d.createElement("div").style.textShadow};p.opacity=function(){var a=m.join("opacity:.55;")+"";g.cssText=a;return/^0.55$/.test(g.opacity)};
p.cssanimations=function(){return e("animationName")};p.csscolumns=function(){return e("columnCount")};p.cssgradients=function(){var a=("background-image:"+m.join("gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:")+m.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);g.cssText=a;return!!~(""+g.backgroundImage).indexOf("gradient")};p.cssreflections=function(){return e("boxReflect")};p.csstransforms=function(){return!!b(["transformProperty","WebkitTransform",
"MozTransform","OTransform","msTransform"])};p.csstransforms3d=function(){var a=!!b(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);a&&"webkitPerspective"in k.style&&(a=f.csstransforms3d);return a};p.csstransitions=function(){return e("transitionProperty")};p.fontface=function(){return f.fontface};p.generatedcontent=function(){return f.generatedcontent};p.video=function(){var a=d.createElement("video"),b=!1;try{if(b=!!a.canPlayType)b=new Boolean(b),b.ogg=
a.canPlayType('video/ogg; codecs="theora"'),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}catch(c){}return b};p.audio=function(){var a=d.createElement("audio"),b=!1;try{if(b=!!a.canPlayType)b=new Boolean(b),b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),b.mp3=a.canPlayType("audio/mpeg;"),b.wav=a.canPlayType('audio/wav; codecs="1"'),b.m4a=a.canPlayType("audio/x-m4a;")||
a.canPlayType("audio/aac;")}catch(c){}return b};p.localstorage=function(){try{return!!localStorage.getItem}catch(a){return!1}};p.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(a){return!1}};p.webworkers=function(){return!!a.Worker};p.applicationcache=function(){return!!a.applicationCache};p.svg=function(){return!!d.createElementNS&&!!d.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};p.inlinesvg=function(){var a=d.createElement("div");a.innerHTML="<svg/>";return"http://www.w3.org/2000/svg"==
(a.firstChild&&a.firstChild.namespaceURI)};p.smil=function(){return!!d.createElementNS&&/SVG/.test(l.call(d.createElementNS("http://www.w3.org/2000/svg","animate")))};p.svgclippaths=function(){return!!d.createElementNS&&/SVG/.test(l.call(d.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var H in p)L(p,H)&&(z=H.toLowerCase(),f[z]=p[H](),u.push((f[z]?"":"no-")+z));if(!f.input){z="autocomplete autofocus list placeholder max min multiple pattern required step".split(" ");H=0;for(p=z.length;H<
p;H++)n[z[H]]=z[H]in j;f.input=n;n="search tel url email datetime date month week time datetime-local number range color".split(" ");z=0;for(var C,A=n.length;z<A;z++)j.setAttribute("type",p=n[z]),(H="text"!==j.type)&&(j.value=":)",j.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(p)&&j.style.WebkitAppearance!==c?(k.appendChild(j),C=d.defaultView,H=C.getComputedStyle&&"textfield"!==C.getComputedStyle(j,null).WebkitAppearance&&0!==j.offsetHeight,k.removeChild(j)):/^(search|tel)$/.test(p)||
(/^(url|email)$/.test(p)?H=j.checkValidity&&!1===j.checkValidity():/^color$/.test(p)?(k.appendChild(j),k.offsetWidth,H=":)"!=j.value,k.removeChild(j)):H=":)"!=j.value)),t[n[z]]=!!H;f.inputtypes=t}f.addTest=function(a,b){if("object"==typeof a)for(var d in a)L(a,d)&&f.addTest(d,a[d]);else{a=a.toLowerCase();if(f[a]!==c)return;b="boolean"==typeof b?b:!!b();k.className+=" "+(b?"":"no-")+a;f[a]=b}return f};g.cssText="";j=j=null;if(a.attachEvent&&(C=d.createElement("div"),C.innerHTML="<elem></elem>",1!==
C.childNodes.length)){C=function(a){for(var b=-1;++b<R;)a.createElement(V[b])};a.iepp=a.iepp||{};var I=a.iepp,j=I.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",V=j.split("|"),R=V.length,ea=RegExp("(^|\\s)("+j+")","gi"),P=RegExp("<(/*)("+j+")","gi"),y=/^\s*[\{\}]\s*$/,M=RegExp("(^|[^\\n]*?\\s)("+j+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),N=d.createDocumentFragment(),J=d.documentElement,j=
J.firstChild,O=d.createElement("body"),K=d.createElement("style"),Q=/print|all/,T;I.getCSS=function(a,b){if(a+""===c)return"";for(var d=-1,e=a.length,f,h=[];++d<e;)f=a[d],f.disabled||(b=f.media||b,Q.test(b)&&h.push(I.getCSS(f.imports,b),f.cssText),b="all");return h.join("")};I.parseCSS=function(a){for(var b=[],c;null!=(c=M.exec(a));)b.push(((y.exec(c[1])?"\n":c[1])+c[2]+c[3]).replace(ea,"$1.iepp_$2")+c[4]);return b.join("\n")};I.writeHTML=function(){var a=-1;for(T=T||d.body;++a<R;)for(var b=d.getElementsByTagName(V[a]),
c=b.length,e=-1;++e<c;)0>b[e].className.indexOf("iepp_")&&(b[e].className+=" iepp_"+V[a]);N.appendChild(T);J.appendChild(O);O.className=T.className;O.id=T.id;O.innerHTML=T.innerHTML.replace(P,"<$1font")};I._beforePrint=function(){K.styleSheet.cssText=I.parseCSS(I.getCSS(d.styleSheets,"all"));I.writeHTML()};I.restoreHTML=function(){O.innerHTML="";J.removeChild(O);J.appendChild(T)};I._afterPrint=function(){I.restoreHTML();K.styleSheet.cssText=""};C(d);C(N);I.disablePP||(j.insertBefore(K,j.firstChild),
K.media="print",K.className="iepp-printshim",a.attachEvent("onbeforeprint",I._beforePrint),a.attachEvent("onafterprint",I._afterPrint))}f._version="2.0.6";f._prefixes=m;f._domPrefixes=r;f.mq=function(b){if(a.matchMedia)return matchMedia(b).matches;var c;w("@media "+b+" { #modernizr { position: absolute; } }",function(b){c="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position});return c};f.hasEvent=v;f.testProp=function(a){return b([a])};f.testAllProps=e;f.testStyles=w;
f.prefixed=function(a){return e(a,"pfx")};k.className=k.className.replace(/\bno-js\b/,"")+(" js "+u.join(" "));return f}(this,this.document);
(function(a,d){function c(){u(!0)}a.respond={};respond.update=function(){};respond.mediaQueriesSupported=d;if(!d){for(var e=a.document,b=e.documentElement,h=[],f=[],k=[],j={},g=e.getElementsByTagName("head")[0]||b,l=g.getElementsByTagName("link"),m=[],r=function(){for(var b=l.length,c=0,d,e,f;c<b;c++)d=l[c],e=d.href,f=d.media,d=d.rel&&"stylesheet"===d.rel.toLowerCase(),e&&d&&!j[e]&&(!/^([a-zA-Z]+?:(\/\/)?(www\.)?)/.test(e)||e.replace(RegExp.$1,"").split("/")[0]===a.location.host?m.push({href:e,media:f}):
j[e]=!0);p()},p=function(){if(m.length){var a=m.shift();var b=a.href,c=w();c&&(c.open("GET",b,!0),c.onreadystatechange=function(){if(4==c.readyState&&(200==c.status||304==c.status)){var b=c.responseText,d=a.href,e=a.media,m=b.match(/@media[^\{]+\{([^\{\}]+\{[^\}\{]+\})+/gi),g=m&&m.length||0,d=d.substring(0,d.lastIndexOf("/")),t=function(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+d+"$2$3")},r=!g&&e,k=0,l,n,s,v,w;d.length&&(d+="/");for(r&&(g=1);k<g;k++){l=0;r?(n=e,f.push(t(b))):
(n=m[k].match(/@media ([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,f.push(RegExp.$2&&t(RegExp.$2)));v=n.split(",");for(w=v.length;l<w;l++)s=v[l],h.push({media:s.match(/(only\s+)?([a-zA-Z]+)(\sand)?/)&&RegExp.$2,rules:f.length-1,minw:s.match(/\(min\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1),maxw:s.match(/\(max\-width:[\s]*([\s]*[0-9]+)px[\s]*\)/)&&parseFloat(RegExp.$1)})}u();j[a.href]=!0;p()}},4!=c.readyState&&c.send())}},t,n,u=function(a){var c=b.clientWidth,d="CSS1Compat"===e.compatMode&&
c||e.body.clientWidth||c,c={},m=e.createDocumentFragment(),j=l[l.length-1],r=(new Date).getTime();if(a&&t&&30>r-t)clearTimeout(n),n=setTimeout(u,30);else{t=r;for(var p in h)if(a=h[p],!a.minw&&!a.maxw||(!a.minw||a.minw&&d>=a.minw)&&(!a.maxw||a.maxw&&d<=a.maxw))c[a.media]||(c[a.media]=[]),c[a.media].push(f[a.rules]);for(p in k)k[p]&&k[p].parentNode===g&&g.removeChild(k[p]);for(p in c)a=e.createElement("style"),d=c[p].join("\n"),a.type="text/css",a.media=p,a.styleSheet?a.styleSheet.cssText=d:a.appendChild(e.createTextNode(d)),
m.appendChild(a),k.push(a);g.insertBefore(m,j.nextSibling)}},w,v=!1,E=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new XMLHttpRequest}],z=E.length;z--;){try{v=E[z]()}catch(s){continue}break}w=function(){return v};r();respond.update=r;a.addEventListener?a.addEventListener("resize",c,!1):a.attachEvent&&a.attachEvent("onresize",c)}})(this,Modernizr.mq("only all"));
(function(a,d,c){function e(){for(var a=1,c=-1;m.length-++c&&(!m[c].s||(a=m[c].r)););a&&b()}function b(){var a=m.shift();r=1;a?a.t?j(function(){if("c"==a.t){var b=d.createElement("link"),c;b.href=a.s;b.rel="stylesheet";b.type="text/css";if(!a.e&&(w||p)){var f=function(a){j(function(){if(!c)try{a.sheet.cssRules.length?(c=1,e()):f(a)}catch(b){1E3==b.code||"security"==b.message||"denied"==b.message?(c=1,j(function(){e()},0)):f(a)}},0)};f(b)}else b.onload=function(){c||(c=1,j(function(){e()},0))},a.e&&
b.onload();j(function(){c||(c=1,e())},H.errorTimeout);!a.e&&g.parentNode.insertBefore(b,g)}else{var h=d.createElement("script"),m;h.src=a.s;h.onreadystatechange=h.onload=function(){!m&&(!h.readyState||"loaded"==h.readyState||"complete"==h.readyState)&&(m=1,e(),h.onload=h.onreadystatechange=null)};j(function(){m||(m=1,e())},H.errorTimeout);a.e?h.onload():g.parentNode.insertBefore(h,g)}},0):(a(),e()):r=0}function h(a,c,f){var h="c"==c?E:v;r=0;c=c||"j";if(s(a)){var k=this.i++,p=function(){!u&&(!l.readyState||
"loaded"==l.readyState||"complete"==l.readyState)&&(w.r=u=1,!r&&e(),l.onload=l.onreadystatechange=null,j(function(){n.removeChild(l)},0))},l=d.createElement(h),u=0,w={t:c,s:a,e:f};l.src=l.data=a;!t&&(l.style.display="none");l.width=l.height="0";"object"!=h&&(l.type=c);l.onload=l.onreadystatechange=p;"img"==h?l.onerror=p:"script"==h&&(l.onerror=function(){w.e=w.r=1;b()});m.splice(k,0,w);n.insertBefore(l,t?null:g);j(function(){u||(n.removeChild(l),w.r=w.e=u=1,e())},H.errorTimeout)}else m.splice(this.i++,
0,a),1==m.length&&b();return this}function f(){var a=H;a.loader={load:h,i:0};return a}var k=d.documentElement,j=a.setTimeout,g=d.getElementsByTagName("script")[0],l={}.toString,m=[],r=0,p="MozAppearance"in k.style,t=p&&!!d.createRange().compareNode,n=t?k:g.parentNode,u=a.opera&&"[object Opera]"==l.call(a.opera),w="webkitAppearance"in k.style,k=w&&"async"in d.createElement("script"),v=p?"object":u||k?"img":"script",E=w?"img":v,z=Array.isArray||function(a){return"[object Array]"==l.call(a)},s=function(a){return"string"==
typeof a},L=function(a){return"[object Function]"==l.call(a)},A=[],D={},B,H;H=function(a){function b(a,d,e,h,m){var g,j=a.split("!"),t=A.length,r=j.pop(),k=j.length,r={url:r,origUrl:r,prefixes:j},p,l;for(l=0;l<k;l++)(p=D[j[l]])&&(r=p(r));for(l=0;l<t;l++)r=A[l](r);g=r;var n=g.autoCallback;if(!g.bypass){d&&(d=L(d)?d:d[a]||d[h]||d[a.split("/").pop().split("?")[0]]);if(g.instead)return g.instead(a,d,e,h,m);e.load(g.url,g.forceCSS||!g.forceJS&&/css$/.test(g.url)?"c":c,g.noexec);(L(d)||L(n))&&e.load(function(){f();
d&&d(g.origUrl,m,h);n&&n(g.origUrl,m,h)})}}function d(a,c){function e(a){if(s(a))b(a,m,c,0,f);else if(Object(a)===a)for(g in a)a.hasOwnProperty(g)&&b(a[g],m,c,g,f)}var f=!!a.test,h=a.load||a.both,m=a.callback,g;e(f?a.yep:a.nope);e(h);a.complete&&c.load(a.complete)}var e,h,m=this.yepnope.loader;if(s(a))b(a,0,m,0);else if(z(a))for(e=0;e<a.length;e++)h=a[e],s(h)?b(h,0,m,0):z(h)?H(h):Object(h)===h&&d(h,m);else Object(a)===a&&d(a,m)};H.addPrefix=function(a,b){D[a]=b};H.addFilter=function(a){A.push(a)};
H.errorTimeout=1E4;null==d.readyState&&d.addEventListener&&(d.readyState="loading",d.addEventListener("DOMContentLoaded",B=function(){d.removeEventListener("DOMContentLoaded",B,0);d.readyState="complete"},0));a.yepnope=f()})(this,this.document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};(function(a,d,c){var e={jsdir:"js",prefix:"sprite",padding:10,dataURI:!1},b=a.Stitches={init:function(a,c){b.settings=d.extend({},e,c);b.iconQueue=[];b.topics={};b.Page.$elem=a;b.sub("page.error",b.Page.errorHandler);b.sub("page.init.done",b.Page.fetchTemplates);b.sub("page.templates.done",b.Page.render);b.sub("page.render.done",b.checkAPIs);b.sub("page.apis.done",b.Page.bindDragAndDrop);b.sub("page.apis.done",b.Page.bindButtons);b.sub("page.apis.done",b.Page.bindCabinet);b.sub("page.apis.done",b.Page.bindOptions);
b.sub("page.apis.done",b.Page.subscribe);b.sub("page.drop.done",b.File.queueFiles);b.sub("file.queue.done",b.File.queueIcons);b.sub("file.icon.done",b.Page.addIcon);b.sub("file.remove.done",b.Page.removeIcon);b.sub("file.unqueue",b.File.unqueueIcon);b.sub("file.unqueue.all",b.File.unqueueAllIcons);b.sub("sprite.generate",b.generateStitches);b.pub("page.init.done")},sub:function(a,c){var e=b.topics[a]||d.Callbacks("stopOnFalse");c&&e.add(c);b.topics[a]=e},unsub:function(a,c){var d=b.topics[a];d&&d.remove(c)},
pub:function(a){var c=b.topics[a],d=Array.prototype.slice.call(arguments,1);c&&c.fire.apply(c,d)},checkAPIs:function(){c.load([{test:"undefined"!==typeof FileReader&&c.draganddrop,nope:b.settings.jsdir+"/dropfile/dropfile.js"},{test:c.canvas,nope:b.settings.jsdir+"/flashcanvas/flashcanvas.js",complete:function(){"undefined"!==typeof FileReader&&c.draganddrop&&c.canvas?b.pub("page.apis.done"):b.pub("page.error",Error("Required APIs are not present."))}}])},generateStitches:function(a){var c=b.positionImages(a);
a=b.makeStitches(c);c=b.makeStylesheet(c,a);b.pub("sprite.generate.done",a,c)},positionImages:function(a){var c=[];d(a).each(function(a,b){b.x=b.y=0;b.isPlaced=!1});a=a.sort(function(a,b){return b.area===a.area?b.name>a.name?1:-1:b.area-a.area});b.canvas=b.Icons.idealCanvas(a);b.Icons.placeIcons(a,c,b.canvas);b.Icons.cropCanvas(c,b.canvas);b.pub("sprite.position.done",c);return c},makeStitches:function(a){var c,e;try{c=b.canvas.getContext("2d"),d(a).each(function(a,b){c.drawImage(b.image,b.x,b.y)}),
e=b.canvas.toDataURL("image/png")}catch(j){b.pub("page.error",j)}b.pub("sprite.image.done",e);return e},makeStylesheet:function(a,c){a=a.sort(function(a,b){return a.name<b.name?-1:1});var e=b.settings.prefix,j=["."+e+" {","    background: url("+(b.settings.dataURI?c:"download.png")+") no-repeat;","}\n"];d(a).each(function(a,b){j=j.concat(["."+e+"-"+b.name+" {","    width: "+b.image.width+"px;","    height: "+b.image.height+"px;","    background-position: -"+b.x+"px -"+b.y+"px;","}\n"])});var g="data:text/plain,"+
encodeURIComponent(j.join("\n"));b.pub("sprite.stylesheet.done",g);return g},dataToObjectURL:function(a){var c=a.split(",");a=0<=c[0].indexOf("base64")?atob(c[1]):unescape(c[1]);var c=c[0].split(":")[1].split(";")[0],d=a.length,e=new ArrayBuffer(d),g=new Uint8Array(e),l;for(l=0;l<d;l++)g[l]=a.charCodeAt(l);a=b.createBlob(e,c);return b.createObjectURL(a)},createBlob:function(a,b){var c=c||WebKitBlobBuilder;if(!c)throw Error("BlobBuilder is unsupported.");c=new c;c.append(a);return c.getBlob(b)},createObjectURL:function(b){if(a.URL&&
a.URL.createObjectURL)return a.URL.createObjectURL(b);if(a.webkitURL&&a.webkitURL.createObjectURL)return a.webkitURL.createObjectURL(b);throw Error("createObjectURL is unsupported.");}}})(window,jQuery,Modernizr);
(function(a,d,c){var e=a.Stitches,b=a.document;d.Icons={idealCanvas:function(a){var d=0,e=0,j=0;c(a).each(function(a,b){d=b.width>d?b.width:d;e=b.height>e?b.height:e;j+=b.area});var g=Math.ceil(Math.sqrt(j));a=d>g?d:g;var g=e>g?e:g,l=b.createElement("canvas");l.width=a;l.height=g;return l},placeIcons:function(a,b,d){for(var j=0;a.length&&10>j;)c(a).each(function(a,c){c.isPlaced||(c.isPlaced=e.Icons.placeIcon(c,b,d))}),j++;for(j=0;j<a.length;j++)a[j].isPlaced&&a.splice(j);return!0},placeIcon:function(a,
b,c){for(var d=0;2>d;){for(var g=0;g<=c.height-a.height;g++){for(var l=0;l<=c.width-a.width;l++){a.x=l;a.y=g;var m=e.Icons.isOverlapped(a,b);if(!m)return!0;l=m.x+m.width}g=m.y+m.height}c.width+=a.width;c.height+=a.height;d++}return!1},isOverlapped:function(a,b){var d,e,g,l,m=[],r=null;c(b).each(function(b,c){d=c.x<a.x+a.width;e=c.x+c.width>a.x;g=c.y<a.y+a.height;l=c.y+c.height>a.y;d&&(e&&g&&l)&&m.push(c)});m.length?r=m.pop():b.push(a);return r},cropCanvas:function(a,b){var d=0,e=0;c(a).each(function(a,
b){d=d>b.x+b.width?d:b.x+b.width;e=e>b.y+b.height?e:b.y+b.height});b.width=d;b.height=e}}})(window,Stitches,jQuery);
(function(a,d){var c=a.Stitches,e=0,b={},h=function(a,b,d){var h=this;this.guid=e++;this.name=c.Icon.getName(a);this.image=new Image;this.image.onload=function(){h.x=0;h.y=0;h.width=h.image.width+c.settings.padding;h.height=h.image.height+c.settings.padding;h.area=h.width*h.height;d&&d(h)};this.image.src=b};h.getName=function(a){var c=1,d;a=a.replace(/[\s.]+/gi,"-").replace(/[^a-z0-9\-]/gi,"_");if(b[a]){do d=a+"-"+c++;while(b[d]);a=d}b[a]=!0;return a};h.clearNameCache=function(a){a?delete b[a]:b=
{}};d.Icon=h})(window,Stitches);(function(){var a={};Stitches.tmpl=function c(e,b){var h=!/\W/.test(e)?a[e]=a[e]||c(document.getElementById(e).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return b?h(b):h}})();
(function(a,d,c){var e=a.Stitches,b=!1;d.Page={fetchTemplates:function(){return c.get(e.settings.jsdir+"/stitches.html",function(a){c("body").append(a);e.Page.templates={stitches:e.tmpl("stitches_tmpl"),icon:e.tmpl("stitches_icon_tmpl")};e.pub("page.templates.done")})},render:function(){c(e.Page.templates.stitches({})).appendTo(e.Page.$elem);e.Page.$stitches=c(".stitches",e.Page.$elem);e.Page.$drawer=c(".drawer",e.Page.$elem);e.Page.$dropbox=c(".dropbox",e.Page.$elem);e.Page.$droplabel=c(".droplabel",
e.Page.$elem);e.Page.$filelist=c(".filelist",e.Page.$elem);e.Page.$buttons=c(".buttons",e.Page.$elem);e.Page.buttons={$generate:c("a.generate",e.Page.$buttons),$clear:c("a.clear",e.Page.$buttons),$sprite:c("a.dlsprite",e.Page.$buttons),$stylesheet:c("a.dlstylesheet",e.Page.$buttons)};e.Page.$options=c(".options",e.Page.$elem);e.Page.inputs={$prefix:c("input[name=prefix]",e.Page.$options),$padding:c("input[name=padding]",e.Page.$options),$dataURI:c("input[name=dataURI]",e.Page.$options)};e.Page.inputs.$prefix.val(e.settings.prefix);
e.Page.inputs.$padding.val(e.settings.padding);e.Page.inputs.$dataURI.filter("[value="+e.settings.dataURI+"]").attr("checked",!0);b=!0;e.pub("page.render.done")},errorHandler:function(a){b&&e.Page.$droplabel.html("&times; "+a.message).addClass("error");throw a;},subscribe:function(){var a=e.Page.buttons,b=e.Page.$droplabel;e.sub("file.icon.done",function(){1===e.iconQueue.length&&(b.fadeOut("fast"),a.$generate.removeClass("disabled"),a.$clear.removeClass("disabled"));a.$sprite.addClass("disabled");
a.$stylesheet.addClass("disabled")});e.sub("file.remove.done",function(){1>e.iconQueue.length&&(b.fadeIn("fast"),a.$generate.addClass("disabled"),a.$clear.addClass("disabled"));a.$sprite.addClass("disabled");a.$stylesheet.addClass("disabled")});e.sub("sprite.generate.done",function(b,c){var d,f;try{d=e.dataToObjectURL(b),f=e.dataToObjectURL(c),b=d,c=f}catch(m){}a.$sprite.attr("href",b).removeClass("disabled");a.$stylesheet.attr("href",c).removeClass("disabled")})},_noop:function(a){a.preventDefault();
a.stopPropagation()},bindDragAndDrop:function(){var a=e.Page.$dropbox.get(0);a.addEventListener("dragenter",e.Page._dragStart,!1);a.addEventListener("dragleave",e.Page._dragStop,!1);a.addEventListener("dragexit",e.Page._dragStop,!1);a.addEventListener("dragover",e.Page._noop,!1);a.addEventListener("drop",e.Page._drop,!1)},_dragStart:function(){e.Page.$dropbox.addClass("dropping")},_dragStop:function(a){0===c(a.target).parents(".dropbox").length&&e.Page.$dropbox.removeClass("dropping")},_drop:function(b){b.stopPropagation();
b.preventDefault();e.Page.$dropbox.removeClass("dropping");b=b||a.event;b=b.files||b.dataTransfer.files;0<b.length&&e.pub("page.drop.done",b)},bindButtons:function(){var a=e.Page.$elem;a.delegate("a.disabled","click",e.Page._noop);a.delegate("a.generate","click",e.Page._generate);a.delegate("a.remove","click",e.Page._removeFile);a.delegate("a.clear","click",e.Page._removeAllFiles)},bindCabinet:function(){var a=e.Page.$stitches,b=e.Page.$options,d=e.Page.$drawer,j=c("form.cabinet",d),g=c("input.files",
d);a.hover(function(){d.stop().animate({left:"-5px"},250)},function(){d.stop().animate({left:"-125px"},250)});g.bind("change",function(){this.files.length&&e.pub("page.drop.done",this.files);j.trigger("reset")});d.delegate("a.open-options","click",function(){b.fadeIn()})},bindOptions:function(){var a=e.Page.$options,b=e.Page.buttons;a.delegate("a.close-options","click",function(){a.fadeOut()});a.delegate("input","change",function(){b.$sprite.addClass("disabled");b.$stylesheet.addClass("disabled")});
a.delegate("input[name=prefix]","change",function(){e.settings.prefix=e.Page.inputs.$prefix.val()});a.delegate("input[name=padding]","change",function(){var a=e.Page.inputs.$padding.val();e.settings.padding=+a;e.Page.updateIconDimensions()});a.delegate("input[name=dataURI]","change",function(){var a=e.Page.inputs.$dataURI.filter(":checked").val();e.settings.dataURI="true"===a?!0:!1})},_generate:function(){e.pub("sprite.generate",[].concat(e.iconQueue))},_removeFile:function(){var a=c(this).parent("li").data("icon");
e.pub("file.unqueue",a)},_removeAllFiles:function(){e.pub("file.unqueue.all")},addIcon:function(a){c(e.Page.templates.icon(a)).data("icon",a).appendTo(e.Page.$filelist).fadeIn("fast")},removeIcon:function(a){e.Page.$filelist.find("li").filter(function(){return c(this).data("icon")===a}).fadeOut("fast").remove()},updateIconDimensions:function(){var a=e.settings.padding;c.each(e.iconQueue,function(b,c){c.width=c.image.width+a;c.height=c.image.height+a})}}})(window,Stitches,jQuery);
(function(a,d,c){var e=a.Stitches,b=[];d.File={queueFiles:function(a){c.each(a,function(a,c){/jpeg|png|gif/.test(c.type)&&(b.push(c),e.pub("file.queue.done",c))})},queueIcons:function(){var a,c;if(a=b.shift())try{c=new FileReader,c.onloadend=function(b){b=new e.Icon(a.name,b.target.result);e.iconQueue.push(b);e.pub("file.icon.done",b)},c.readAsDataURL(a)}catch(d){e.pub("page.error",d)}},unqueueIcon:function(a){e.iconQueue=c.grep(e.iconQueue,function(b){return b!==a});e.Icon.clearNameCache(a.name);
e.pub("file.remove.done",a)},unqueueAllIcons:function(){c.each(e.iconQueue,function(a,b){e.File.unqueueIcon(b)});e.Icon.clearNameCache()}}})(window,Stitches,jQuery);var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;
(function(){function a(a,b,c,d){b&&(a={a:b,d:a},c(a),d.push.apply(d,a.e))}function d(b,c){function d(b){for(var m=b.d,g=[m,"pln"],j=0,t=b.a.match(f)||[],r={},p=0,k=t.length;p<k;++p){var l=t[p],n=r[l],u=void 0,v;if("string"===typeof n)v=!1;else{var w=e[l.charAt(0)];if(w)u=l.match(w[1]),n=w[0];else{for(v=0;v<O;++v)if(w=c[v],u=l.match(w[1])){n=w[0];break}u||(n="pln")}if((v=5<=n.length&&"lang-"===n.substring(0,5))&&!(u&&"string"===typeof u[1]))v=!1,n="src";v||(r[l]=n)}w=j;j+=l.length;if(v){v=u[1];var A=
l.indexOf(v),D=A+v.length;u[2]&&(D=l.length-u[2].length,A=D-v.length);n=n.substring(5);a(m+w,l.substring(0,A),d,g);a(m+w+A,v,h(n,v),g);a(m+w+D,l.substring(D),d,g)}else g.push(m+w,n)}b.e=g}for(var e={},f,m=b.concat(c),g=[],t={},j=0,r=m.length;j<r;++j){var p=m[j],k=p[3];if(k)for(var l=k.length;0<=--l;)e[k.charAt(l)]=p;p=p[1];k=""+p;t.hasOwnProperty(k)||(g.push(p),t[k]=q)}g.push(/[\S\s]/);for(var n=function(a){var b=a.charCodeAt(0);if(92!==b)return b;var c=a.charAt(1);return(b=J[c])?b:"0"<=c&&"7">=c?
parseInt(a.substring(1),8):"u"===c||"x"===c?parseInt(a.substring(2),16):a.charCodeAt(1)},u=function(a){if(32>a)return(16>a?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);if("\\"===a||"-"===a||"["===a||"]"===a)a="\\"+a;return a},w=function(a){var b=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g);a=[];for(var c=[],d="^"===b[0],e=d?1:0,f=b.length;e<f;++e){var m=b[e];if(/\\[bdsw]/i.test(m))a.push(m);else{var m=n(m),h;e+2<f&&"-"===
b[e+1]?(h=n(b[e+2]),e+=2):h=m;c.push([m,h]);65>h||122<m||(65>h||90<m||c.push([Math.max(65,m)|32,Math.min(h,90)|32]),97>h||122<m||c.push([Math.max(97,m)&-33,Math.min(h,122)&-33]))}}c.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});b=[];m=[NaN,NaN];for(e=0;e<c.length;++e)f=c[e],f[0]<=m[1]+1?m[1]=Math.max(m[1],f[1]):b.push(m=f);c=["["];d&&c.push("^");c.push.apply(c,a);for(e=0;e<b.length;++e)f=b[e],c.push(u(f[0])),f[1]>f[0]&&(f[1]+1>f[0]&&c.push("-"),c.push(u(f[1])));c.push("]");return c.join("")},m=
function(a){for(var b=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),c=b.length,d=[],e=0,f=0;e<c;++e){var m=b[e];"("===m?++f:"\\"===m.charAt(0)&&(m=+m.substring(1))&&m<=f&&(d[m]=-1)}for(e=1;e<d.length;++e)-1===d[e]&&(d[e]=++M);for(f=e=0;e<c;++e)m=b[e],"("===m?(++f,void 0===d[f]&&(b[e]="(?:")):"\\"===m.charAt(0)&&(m=+m.substring(1))&&m<=f&&(b[e]="\\"+d[f]);for(f=e=0;e<c;++e)"^"===b[e]&&"^"!==b[e+1]&&(b[e]="");if(a.ignoreCase&&
N)for(e=0;e<c;++e)m=b[e],a=m.charAt(0),2<=m.length&&"["===a?b[e]=w(m):"\\"!==a&&(b[e]=m.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return b.join("")},M=0,N=!1,t=!1,j=0,r=g.length;j<r;++j)if(p=g[j],p.ignoreCase)t=!0;else if(/[a-z]/i.test(p.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){N=!0;t=!1;break}for(var J={b:8,t:9,n:10,v:11,f:12,r:13},k=[],j=0,r=g.length;j<r;++j){p=g[j];if(p.global||p.multiline)throw Error(""+p);k.push("(?:"+
m(p)+")")}f=RegExp(k.join("|"),t?"gi":"g");var O=c.length;return d}function c(a){var b=[],c=[];a.tripleQuotedStrings?b.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):a.multiLineStrings?b.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):b.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,
q,"\"'"]);a.verbatimStrings&&c.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var e=a.hashComments;e&&(a.cStyleComments?(1<e?b.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):b.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),c.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):b.push(["com",/^#[^\n\r]*/,q,"#"]));a.cStyleComments&&(c.push(["com",/^\/\/[^\n\r]*/,q]),c.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,
q]));a.regexLiterals&&c.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(e=a.types)&&c.push(["typ",e]);a=(""+a.keywords).replace(/^ | $/g,"");a.length&&c.push(["kwd",RegExp("^(?:"+a.replace(/[\s,]+/g,"|")+")\\b"),
q]);b.push(["pln",/^\s+/,q," \r\n\t\u00a0"]);c.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]);return d(b,c)}function e(a,b){function c(a){switch(a.nodeType){case 1:if(e.test(a.className))break;if("BR"===a.nodeName)d(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=
a.nextSibling)c(a);break;case 3:case 4:if(g){var b=a.nodeValue,h=b.match(f);if(h){var j=b.substring(0,h.index);a.nodeValue=j;(b=b.substring(h.index+h[0].length))&&a.parentNode.insertBefore(m.createTextNode(b),a.nextSibling);d(a);j||a.parentNode.removeChild(a)}}}}function d(a){function b(a,c){var d=c?a.cloneNode(!1):a,e=a.parentNode;if(e){var e=b(e,1),f=a.nextSibling;e.appendChild(d);for(var m=f;m;m=f)f=m.nextSibling,e.appendChild(m)}return d}for(;!a.nextSibling;)if(a=a.parentNode,!a)return;a=b(a.nextSibling,
0);for(var c;(c=a.parentNode)&&1===c.nodeType;)a=c;j.push(a)}var e=/(?:^|\s)nocode(?:\s|$)/,f=/\r\n?|\n/,m=a.ownerDocument,h;a.currentStyle?h=a.currentStyle.whiteSpace:window.getComputedStyle&&(h=m.defaultView.getComputedStyle(a,q).getPropertyValue("white-space"));var g=h&&"pre"===h.substring(0,3);for(h=m.createElement("LI");a.firstChild;)h.appendChild(a.firstChild);for(var j=[h],t=0;t<j.length;++t)c(j[t]);b===(b|0)&&j[0].setAttribute("value",b);var r=m.createElement("OL");r.className="linenums";
for(var p=Math.max(0,b-1|0)||0,t=0,l=j.length;t<l;++t)h=j[t],h.className="L"+(t+p)%10,h.firstChild||h.appendChild(m.createTextNode("\u00a0")),r.appendChild(h);a.appendChild(r)}function b(a,b){for(var c=b.length;0<=--c;){var d=b[c];w.hasOwnProperty(d)?window.console&&console.warn("cannot override language handler %s",d):w[d]=a}}function h(a,b){if(!a||!w.hasOwnProperty(a))a=/^\s*</.test(b)?"default-markup":"default-code";return w[a]}function f(a){var b=a.g;try{var c,d=a.h,e=function(a){switch(a.nodeType){case 1:if(f.test(a.className))break;
for(var b=a.firstChild;b;b=b.nextSibling)e(b);b=a.nodeName;if("BR"===b||"LI"===b)m[t]="\n",j[t<<1]=g++,j[t++<<1|1]=a;break;case 3:case 4:b=a.nodeValue,b.length&&(b=p?b.replace(/\r\n?/g,"\n"):b.replace(/[\t\n\r ]+/g," "),m[t]=b,j[t<<1]=g,g+=b.length,j[t++<<1|1]=a)}},f=/(?:^|\s)nocode(?:\s|$)/,m=[],g=0,j=[],t=0,r;d.currentStyle?r=d.currentStyle.whiteSpace:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(d,q).getPropertyValue("white-space"));var p=r&&"pre"===r.substring(0,3);e(d);c=
{a:m.join("").replace(/\n$/,""),c:j};var l=c.a;a.a=l;a.c=c.c;a.d=0;h(b,l)(a);var k=/\bMSIE\b/.test(navigator.userAgent),b=/\n/g,n=a.a,u=n.length;c=0;var w=a.c,N=w.length,l=0,J=a.e,O=J.length;a=0;J[O]=u;var K,Q;for(Q=K=0;Q<O;)J[Q]!==J[Q+2]?(J[K++]=J[Q++],J[K++]=J[Q++]):Q+=2;O=K;for(Q=K=0;Q<O;){for(var T=J[Q],X=J[Q+1],W=Q+2;W+2<=O&&J[W+1]===X;)W+=2;J[K++]=T;J[K++]=X;Q=W}for(J.length=K;l<N;){var Y=w[l+2]||u,da=J[a+2]||u,W=Math.min(Y,da),Z=w[l+1],ma;if(1!==Z.nodeType&&(ma=n.substring(c,W))){k&&(ma=ma.replace(b,
"\r"));Z.nodeValue=ma;var ka=Z.ownerDocument,fa=ka.createElement("SPAN");fa.className=J[a+1];var la=Z.parentNode;la.replaceChild(fa,Z);fa.appendChild(Z);c<Y&&(w[l+1]=Z=ka.createTextNode(n.substring(W,Y)),la.insertBefore(Z,fa.nextSibling))}c=W;c>=Y&&(l+=2);c>=da&&(a+=2)}}catch(ha){"console"in window&&console.log(ha&&ha.stack?ha.stack:ha)}}var k=["break,continue,do,else,for,if,return,while"],j=[[k,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],
"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],g=[j,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],l=[j,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],
m=[l,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],j=[j,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],r=[k,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],
p=[k,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],k=[k,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],t=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,n=/\S/,u=c({keywords:[g,m,j,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+
r,p,k],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),w={};b(u,["default-code"]);b(d([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),
"default-markup htm html mxml xhtml xml xsl".split(" "));b(d([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",
/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);b(d([],[["atv",/^[\S\s]+/]]),["uq.val"]);b(c({keywords:g,hashComments:!0,cStyleComments:!0,types:t}),"c cc cpp cxx cyc m".split(" "));b(c({keywords:"null,true,false"}),["json"]);b(c({keywords:m,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:t}),["cs"]);b(c({keywords:l,cStyleComments:!0}),["java"]);b(c({keywords:k,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);b(c({keywords:r,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),
["cv","py"]);b(c({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);b(c({keywords:p,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);b(c({keywords:j,cStyleComments:!0,regexLiterals:!0}),["js"]);b(c({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",
hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);b(d([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(a,b,c){var d=document.createElement("PRE");d.innerHTML=a;c&&e(d,c);f({g:b,i:c,h:d});return d.innerHTML};window.prettyPrint=function(a){function b(){for(var c=window.PR_SHOULD_USE_CONTINUATION?j.now()+250:Infinity;t<d.length&&j.now()<c;t++){var m=d[t],h=m.className;if(0<=h.indexOf("prettyprint")){var h=h.match(p),g,l;if(l=
!h){l=m;for(var k=void 0,u=l.firstChild;u;u=u.nextSibling)var w=u.nodeType,k=1===w?k?l:u:3===w?n.test(u.nodeValue)?l:k:k;l=(g=k===l?void 0:k)&&"CODE"===g.tagName}l&&(h=g.className.match(p));h&&(h=h[1]);l=!1;for(k=m.parentNode;k;k=k.parentNode)if(("pre"===k.tagName||"code"===k.tagName||"xmp"===k.tagName)&&k.className&&0<=k.className.indexOf("prettyprint")){l=!0;break}l||((l=(l=m.className.match(/\blinenums\b(?::(\d+))?/))?l[1]&&l[1].length?+l[1]:!0:!1)&&e(m,l),r={g:h,h:m,i:l},f(r))}}t<d.length?setTimeout(b,
250):a&&a()}for(var c=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],d=[],m=0;m<c.length;++m)for(var h=0,g=c[m].length;h<g;++h)d.push(c[m][h]);var c=q,j=Date;j.now||(j={now:function(){return+new Date}});var t=0,r,p=/\blang(?:uage)?-([\w.]+)(?!\S)/;b()};window.PR={createSimpleLexer:d,registerLangHandler:b,sourceDecorator:c,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",
PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();window&&!window.InflectionJS&&(window.InflectionJS=null);
InflectionJS={uncountable_words:"equipment information rice money species series fish sheep moose deer news".split(" "),plural_rules:[[RegExp("(m)an$","gi"),"$1en"],[RegExp("(pe)rson$","gi"),"$1ople"],[RegExp("(child)$","gi"),"$1ren"],[RegExp("^(ox)$","gi"),"$1en"],[RegExp("(ax|test)is$","gi"),"$1es"],[RegExp("(octop|vir)us$","gi"),"$1i"],[RegExp("(alias|status)$","gi"),"$1es"],[RegExp("(bu)s$","gi"),"$1ses"],[RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[RegExp("([ti])um$","gi"),"$1a"],[RegExp("sis$",
"gi"),"ses"],[RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[RegExp("(hive)$","gi"),"$1s"],[RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[RegExp("([m|l])ouse$","gi"),"$1ice"],[RegExp("(quiz)$","gi"),"$1zes"],[RegExp("s$","gi"),"s"],[RegExp("$","gi"),"s"]],singular_rules:[[RegExp("(m)en$","gi"),"$1an"],[RegExp("(pe)ople$","gi"),"$1rson"],[RegExp("(child)ren$","gi"),"$1"],[RegExp("([ti])a$","gi"),"$1um"],[RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$",
"gi"),"$1$2sis"],[RegExp("(hive)s$","gi"),"$1"],[RegExp("(tive)s$","gi"),"$1"],[RegExp("(curve)s$","gi"),"$1"],[RegExp("([lr])ves$","gi"),"$1f"],[RegExp("([^fo])ves$","gi"),"$1fe"],[RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[RegExp("(s)eries$","gi"),"$1eries"],[RegExp("(m)ovies$","gi"),"$1ovie"],[RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[RegExp("([m|l])ice$","gi"),"$1ouse"],[RegExp("(bus)es$","gi"),"$1"],[RegExp("(o)es$","gi"),"$1"],[RegExp("(shoe)s$","gi"),"$1"],[RegExp("(cris|ax|test)es$","gi"),"$1is"],
[RegExp("(octop|vir)i$","gi"),"$1us"],[RegExp("(alias|status)es$","gi"),"$1"],[RegExp("^(ox)en","gi"),"$1"],[RegExp("(vert|ind)ices$","gi"),"$1ex"],[RegExp("(matr)ices$","gi"),"$1ix"],[RegExp("(quiz)zes$","gi"),"$1"],[RegExp("s$","gi"),""]],non_titlecased_words:"and or nor a an the so but to of at by from into on onto off out in over with for".split(" "),id_suffix:RegExp("(_ids|_id)$","g"),underbar:RegExp("_","g"),space_or_underbar:RegExp("[ _]","g"),uppercase:RegExp("([A-Z])","g"),underbar_prefix:/^_/,
apply_rules:function(a,d,c,e){if(e)a=e;else if(!(-1<c.indexOf(a.toLowerCase())))for(c=0;c<d.length;c++)if(a.match(d[c][0])){a=a.replace(d[c][0],d[c][1]);break}return a}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,d,c){d||(d=-1);for(var e=-1;d<this.length;d++)if(this[d]===a||c&&c(this[d],a)){e=d;break}return e});String.prototype._uncountable_words||(String.prototype._uncountable_words=InflectionJS.uncountable_words);
String.prototype._plural_rules||(String.prototype._plural_rules=InflectionJS.plural_rules);String.prototype._singular_rules||(String.prototype._singular_rules=InflectionJS.singular_rules);String.prototype._non_titlecased_words||(String.prototype._non_titlecased_words=InflectionJS.non_titlecased_words);String.prototype.pluralize||(String.prototype.pluralize=function(a){return InflectionJS.apply_rules(this,this._plural_rules,this._uncountable_words,a)});
String.prototype.singularize||(String.prototype.singularize=function(a){return InflectionJS.apply_rules(this,this._singular_rules,this._uncountable_words,a)});String.prototype.camelize||(String.prototype.camelize=function(a){for(var d=this.toLowerCase(),d=d.split("/"),c=0;c<d.length;c++){for(var e=d[c].split("_"),b=a&&c+1===d.length?1:0;b<e.length;b++)e[b]=e[b].charAt(0).toUpperCase()+e[b].substring(1);d[c]=e.join("")}return d=d.join("::")});
String.prototype.underscore||(String.prototype.underscore=function(){var a;a=this.split("::");for(var d=0;d<a.length;d++)a[d]=a[d].replace(InflectionJS.uppercase,"_$1"),a[d]=a[d].replace(InflectionJS.underbar_prefix,"");return a=a.join("/").toLowerCase()});String.prototype.humanize||(String.prototype.humanize=function(a){var d=this.toLowerCase(),d=d.replace(InflectionJS.id_suffix,""),d=d.replace(InflectionJS.underbar," ");a||(d=d.capitalize());return d});
String.prototype.capitalize||(String.prototype.capitalize=function(){var a=this.toLowerCase();return a=a.substring(0,1).toUpperCase()+a.substring(1)});String.prototype.dasherize||(String.prototype.dasherize=function(){var a;return a=this.replace(InflectionJS.space_or_underbar,"-")});
String.prototype.titleize||(String.prototype.titleize=function(){for(var a=this.toLowerCase(),a=a.replace(InflectionJS.underbar," "),a=a.split(" "),d=0;d<a.length;d++){for(var c=a[d].split("-"),e=0;e<c.length;e++)0>this._non_titlecased_words.indexOf(c[e].toLowerCase())&&(c[e]=c[e].capitalize());a[d]=c.join("-")}a=a.join(" ");return a=a.substring(0,1).toUpperCase()+a.substring(1)});String.prototype.demodulize||(String.prototype.demodulize=function(){var a;a=this.split("::");return a=a[a.length-1]});
String.prototype.tableize||(String.prototype.tableize=function(){var a;return a=this.underscore().pluralize()});String.prototype.classify||(String.prototype.classify=function(){var a;return a=this.camelize().singularize()});String.prototype.foreign_key||(String.prototype.foreign_key=function(a){return a=this.demodulize().underscore()+(a?"":"_")+"id"});
String.prototype.ordinalize||(String.prototype.ordinalize=function(){var a;a=this.split(" ");for(var d=0;d<a.length;d++)if(NaN===parseInt(a[d])){var c=a[d].substring(a[d].length-2),e=a[d].substring(a[d].length-1),b="th";"11"!=c&&("12"!=c&&"13"!=c)&&("1"===e?b="st":"2"===e?b="nd":"3"===e&&(b="rd"));a[d]+=b}return a=a.join(" ")});var addToHome=function(a){function d(){a.removeEventListener("load",d,!1);z?B.expire&&v&&a.localStorage.setItem("addToHome",Date.now()+6E4*B.expire):a.localStorage.setItem("addToHome",Date.now());if(L||r&&v&&!E&&!p&&z){var e=B.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],f,h="",g=j.platform.split(" ")[0];f=j.language.replace("-","_");var n,u;s=document.createElement("div");s.id="addToHomeScreen";s.style.cssText+="left:-9999px;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);position:"+
(5>t?"absolute":"fixed");B.message in H&&(f=B.message,B.message="");""===B.message&&(B.message=f in H?H[f]:H.en_us);if(e.length){n=0;for(u=e.length;n<u;n++)if(f=e[n].getAttribute("sizes")){if(m&&"114x114"==f){h=e[n].href;break}}else h=e[n].href;h='<span style="background-image:url('+h+')" class="addToHomeTouchIcon"></span>'}s.className=(l?"addToHomeIpad":"addToHomeIphone")+(h?" addToHomeWide":"");s.innerHTML=h+B.message.replace("%device",g).replace("%icon",4.2<=t?'<span class="addToHomeShare"></span>':
'<span class="addToHomePlus">+</span>')+(B.arrow?'<span class="addToHomeArrow"></span>':"")+'<span class="addToHomeClose">\u00d7</span>';document.body.appendChild(s);(e=s.querySelector(".addToHomeClose"))&&e.addEventListener("click",b,!1);!l&&6<=t&&window.addEventListener("orientationchange",k,!1);setTimeout(c,B.startDelay)}}function c(){var b;b=208;if(l)switch(5>t?(u=a.scrollY,n=a.scrollX):6>t&&(b=160),s.style.top=u+B.bottomOffset+"px",s.style.left=n+b-Math.round(s.offsetWidth/2)+"px",B.animationIn){case "drop":b=
"0.6s";s.style.webkitTransform="translate3d(0,"+-(a.scrollY+B.bottomOffset+s.offsetHeight)+"px,0)";break;case "bubble":b="0.6s";s.style.opacity="0";s.style.webkitTransform="translate3d(0,"+(u+50)+"px,0)";break;default:b="1s",s.style.opacity="0"}else switch(u=a.innerHeight+a.scrollY,5>t?(n=Math.round((a.innerWidth-s.offsetWidth)/2)+a.scrollX,s.style.left=n+"px",s.style.top=u-s.offsetHeight-B.bottomOffset+"px"):(s.style.left="50%",s.style.marginLeft=-Math.round(s.offsetWidth/2)-(a.orientation%180&&
6<=t?40:0)+"px",s.style.bottom=B.bottomOffset+"px"),B.animationIn){case "drop":b="1s";s.style.webkitTransform="translate3d(0,"+-(u+B.bottomOffset)+"px,0)";break;case "bubble":b="0.6s";s.style.webkitTransform="translate3d(0,"+(s.offsetHeight+B.bottomOffset+50)+"px,0)";break;default:b="1s",s.style.opacity="0"}s.offsetHeight;s.style.webkitTransitionDuration=b;s.style.opacity="1";s.style.webkitTransform="translate3d(0,0,0)";s.addEventListener("webkitTransitionEnd",h,!1);D=setTimeout(e,B.lifespan)}function e(){clearInterval(A);
clearTimeout(D);D=null;var b=0,c=0,d="1",f="0";(f=s.querySelector(".addToHomeClose"))&&f.removeEventListener("click",e,!1);!l&&6<=t&&window.removeEventListener("orientationchange",k,!1);5>t&&(b=l?a.scrollY-u:a.scrollY+a.innerHeight-u,c=l?a.scrollX-n:a.scrollX+Math.round((a.innerWidth-s.offsetWidth)/2)-n);s.style.webkitTransitionProperty="-webkit-transform,opacity";switch(B.animationOut){case "drop":l?(f="0.4s",d="0",b+=50):(f="0.6s",b=b+s.offsetHeight+B.bottomOffset+50);break;case "bubble":l?(f="0.8s",
b=b-s.offsetHeight-B.bottomOffset-50):(f="0.4s",d="0",b-=50);break;default:f="0.8s",d="0"}s.addEventListener("webkitTransitionEnd",h,!1);s.style.opacity=d;s.style.webkitTransitionDuration=f;s.style.webkitTransform="translate3d("+c+"px,"+b+"px,0)"}function b(){a.sessionStorage.setItem("addToHomeSession","1");E=!0;e()}function h(){s.removeEventListener("webkitTransitionEnd",h,!1);s.style.webkitTransitionProperty="-webkit-transform";s.style.webkitTransitionDuration="0.2s";D?5>t&&D&&(A=setInterval(f,
B.iterations)):(s.parentNode.removeChild(s),s=null)}function f(){var b=new WebKitCSSMatrix(a.getComputedStyle(s,null).webkitTransform),c=l?a.scrollY-u:a.scrollY+a.innerHeight-u,d=l?a.scrollX-n:a.scrollX+Math.round((a.innerWidth-s.offsetWidth)/2)-n;c==b.m42&&d==b.m41||(s.style.webkitTransform="translate3d("+d+"px,"+c+"px,0)")}function k(){s.style.marginLeft=-Math.round(s.offsetWidth/2)-(a.orientation%180&&6<=t?40:0)+"px"}var j=a.navigator,g="platform"in j&&/iphone|ipod|ipad/gi.test(j.platform),l,m,
r,p,t,n=0,u=0,w=0,v,E,z,s,L,A,D,B={autostart:!0,returningVisitor:!1,animationIn:"drop",animationOut:"fade",startDelay:2E3,lifespan:15E3,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,hookOnLoad:!0,iterations:100},H={ar:'<span dir="rtl">\u0642\u0645 \u0628\u062a\u062b\u0628\u064a\u062a \u0647\u0630\u0627 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0639\u0644\u0649 <span dir="ltr">%device:</span>\u0627\u0646\u0642\u0631<span dir="ltr">%icon</span> \u060c<strong>\u062b\u0645 \u0627\u0636\u0641\u0647 \u0627\u0644\u0649 \u0627\u0644\u0634\u0627\u0634\u0629 \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629.</strong></span>',
ca_es:"Per instal\u00b7lar aquesta aplicaci\u00f3 al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",cs_cz:"Pro instalaci aplikace na V\u00e1\u0161 %device, stiskn\u011bte %icon a v nab\u00eddce <strong>P\u0159idat na plochu</strong>.",da_dk:"Tilf\u00f8j denne side til din %device: tryk p\u00e5 %icon og derefter <strong>F\u00f8j til hjemmesk\u00e6rm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",
el_gr:"\u0395\u03b3\u03ba\u03b1\u03c4\u03b1\u03c3\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ae\u03bd \u03c4\u03b7\u03bd \u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae \u03c3\u03c4\u03ae\u03bd \u03c3\u03c5\u03c3\u03ba\u03b5\u03c5\u03ae \u03c3\u03b1\u03c2 %device: %icon \u03bc\u03b5\u03c4\u03ac \u03c0\u03b1\u03c4\u03ac\u03c4\u03b5 <strong>\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03b5 \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",
es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>A\u00f1adir a pantalla de inicio</strong>.",fi_fi:"Asenna t\u00e4m\u00e4 web-sovellus laitteeseesi %device: paina %icon ja sen j\u00e4lkeen valitse <strong>Lis\u00e4\u00e4 Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter \u00e0 l'\u00e9cran d'accueil</strong>.",he_il:'<span dir="rtl">\u05d4\u05ea\u05e7\u05df \u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05d6\u05d5 \u05e2\u05dc \u05d4-%device \u05e9\u05dc\u05da: \u05d4\u05e7\u05e9 %icon \u05d5\u05d0\u05d6 <strong>\u05d4\u05d5\u05e1\u05e3 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea</strong>.</span>',
hr_hr:"Instaliraj ovu aplikaciju na svoj %device: klikni na %icon i odaberi <strong>Dodaj u po\u010detni zaslon</strong>.",hu_hu:"Telep\u00edtse ezt a web-alkalmaz\u00e1st az \u00d6n %device-j\u00e1ra: nyomjon a %icon-ra majd a <strong>F\u0151k\u00e9perny\u0151h\u00f6z ad\u00e1s</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"\u3053\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u3092\u3042\u306a\u305f\u306e%device\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f%icon\u3092\u30bf\u30c3\u30d7\u3057\u3066<strong>\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0</strong>\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",
ko_kr:'%device\uc5d0 \uc6f9\uc571\uc744 \uc124\uce58\ud558\ub824\uba74 %icon\uc744 \ud130\uce58 \ud6c4 "\ud648\ud654\uba74\uc5d0 \ucd94\uac00"\ub97c \uc120\ud0dd\ud558\uc138\uc694',nb_no:"Installer denne appen p\u00e5 din %device: trykk p\u00e5 %icon og deretter <strong>Legg til p\u00e5 Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Voeg toe aan beginscherm</strong>.",pl_pl:"Aby zainstalowa\u0107 t\u0119 aplikacje na %device: naci\u015bnij %icon a nast\u0119pnie <strong>Dodaj jako ikon\u0119</strong>.",
pt_br:"Instale este aplicativo em seu %device: aperte %icon e selecione <strong>Adicionar \u00e0 Tela Inicio</strong>.",pt_pt:"Para instalar esta aplica\u00e7\u00e3o no seu %device, prima o %icon e depois o <strong>Adicionar ao ecr\u00e3 principal</strong>.",ru_ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448 %device: \u043d\u0430\u0436\u043c\u0438\u0442\u0435 %icon, \u0437\u0430\u0442\u0435\u043c <strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u00ab\u0414\u043e\u043c\u043e\u0439\u00bb</strong>.",
sv_se:"L\u00e4gg till denna webbapplikation p\u00e5 din %device: tryck p\u00e5 %icon och d\u00e4refter <strong>L\u00e4gg till p\u00e5 hemsk\u00e4rmen</strong>.",th_th:"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e41\u0e2d\u0e1e\u0e2f \u0e19\u0e35\u0e49\u0e1a\u0e19 %device \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13: \u0e41\u0e15\u0e30 %icon \u0e41\u0e25\u0e30 <strong>\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d\u0e42\u0e2e\u0e21</strong>",
tr_tr:"%device i\u00e7in bu uygulamay\u0131 kurduktan sonra %icon simgesine dokunarak <strong>Ana Ekrana Ekle</strong>yin.",zh_cn:"\u60a8\u53ef\u4ee5\u5c06\u6b64\u5e94\u7528\u7a0b\u5f0f\u5b89\u88c5\u5230\u60a8\u7684 %device \u4e0a\u3002\u8bf7\u6309 %icon \u7136\u540e\u70b9\u9009<strong>\u6dfb\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>\u3002",zh_tw:"\u60a8\u53ef\u4ee5\u5c07\u6b64\u61c9\u7528\u7a0b\u5f0f\u5b89\u88dd\u5230\u60a8\u7684 %device \u4e0a\u3002\u8acb\u6309 %icon \u7136\u5f8c\u9ede\u9078<strong>\u52a0\u5165\u4e3b\u756b\u9762\u87a2\u5e55</strong>\u3002"};
if(g){var C=Date.now(),I;if(a.addToHomeConfig)for(I in a.addToHomeConfig)B[I]=a.addToHomeConfig[I];B.autostart||(B.hookOnLoad=!1);l=/ipad/gi.test(j.platform);m=a.devicePixelRatio&&1<a.devicePixelRatio;r=/Safari/i.test(j.appVersion)&&!/CriOS/i.test(j.appVersion);p=j.standalone;t=j.appVersion.match(/OS (\d+_\d+)/i);t=t[1]?+t[1].replace("_","."):0;w=+a.localStorage.getItem("addToHome");E=a.sessionStorage.getItem("addToHomeSession");z=B.returningVisitor?w&&w+24192E5>C:!0;w||(w=C);v=z&&w<=C;B.hookOnLoad?
a.addEventListener("load",d,!1):!B.hookOnLoad&&B.autostart&&d()}return{show:function(a){g&&!s&&(L=a,d())},close:e,reset:function(){a.localStorage.removeItem("addToHome");a.sessionStorage.removeItem("addToHomeSession")}}}(window);var guidely=function(){return{_guides:[],_defaults:{showOnStart:!0,welcome:!0,welcomeTitle:"Welcome to the guided tour!",welcomeText:"Click to start a brief tour of our site. Here we'll point out important features and tips to make your experience easier. ",overlay:!0,startTrigger:!0,escClose:!0,keyNav:!0,debug:!1},_options:{},init:function(a){this._options=$.extend(this._defaults,a);if(1>this._guides.length)return this._log("No guides available."),!1;this._append();this._createTopAnchor();this.close();
this._options.startTrigger&&this._createStartTrigger();this._options.showOnStart&&(this._options.welcome?this.welcome():this.start())},start:function(){var a=this;a.close();a._scrollToTop();a.showNumbers();a.show(1);a.showOverlay();a._log(a._guides);a._reposition();$(document).bind("keyup.guidely",function(d){a._options.escClose&&27==d.keyCode&&a.close();a._options.keyNav&&(37==d.keyCode&&a.prev(),39==d.keyCode&&a.next())});$(window).bind("resize.guidely",function(){a._reposition()})},welcome:function(){var a,
d,c,e,b;a=this;a.close();d=$("<div>",{id:"guide-welcome","class":"guidely-guide"}).appendTo("body");c=$("<div>",{"class":"guidely-popup"}).appendTo(d);e=$("<div>",{"class":"guidely-guide-pad"}).appendTo(c);e.append("<h4>"+a._options.welcomeTitle+"</h4>");e.append(a._options.welcomeText);c=$("<div>",{"class":"guidely-controls"}).appendTo(c);d.css({position:"absolute",top:"75px",left:"50%","margin-left":"-"+d.outerWidth()/2+"px"});$("<a>",{href:"javascript:;","class":"guidely-close-trigger",html:"x",
click:function(){a.close()}}).appendTo(d);this.showOverlay();b=$("<button>",{text:"Start Tour",click:function(){a.close();a.start()}}).appendTo(c);$("<button>",{text:"No Thanks",click:function(){a.close()}}).appendTo(c);d.show();a._scrollToTop(function(){b.focus()});$(document).bind("keyup.guidely",function(b){27==b.keyCode&&a.close()})},show:function(a){var d=$("#guidely-guide-"+a);a=$("#guidely-number-"+a);this._resetZIndex();a.css({"z-index":"20001"});d.show().css({"z-index":"20000"});d.find(".guidely-controls button").focus()},
next:function(){var a,d;a=$(".guidely-guide:visible");d=a.nextAll(".guidely-guide:not(#guide-welcome)").eq(0);0<d.length&&(a.hide(),a=d.attr("id").split("-")[2],this.show(a))},prev:function(){var a,d;a=$(".guidely-guide:visible");d=a.prevAll(".guidely-guide:first");0<d.length&&(a.hide(),a=d.attr("id").split("-")[2],this.show(a))},add:function(a){var d={anchor:"top-left"},d=$.extend(d,a);if(""===d.text||void 0===d.text)return this._log("Guide id "+d.attachTo+" cannot be blank."),!1;this._guides.push(d)},
close:function(){this.hideNumbers();this.hideGuides();this.hideOverlay();$(document).unbind("keyup.guidely");$(window).unbind("resize.guidely")},hideGuides:function(){$(".guidely-guide").hide()},showNumbers:function(){$(".guidely-number").fadeIn("slow")},hideNumbers:function(){$(".guidely-number").hide()},showOverlay:function(){if(!this._options.overlay)return!1;var a=$(".guidely-overlay");a.length?a.show():$("<div>",{"class":"guidely-overlay"}).appendTo("body")},hideOverlay:function(){$(".guidely-overlay").hide()},
_createNumber:function(a,d){var c,e,b;c=this;b=this._getAnchorCoords(d);e=$("<div>",{id:"guidely-number-"+a,"class":"guidely-number",html:"<span>"+a+"</span>"});e.css({top:b[0],left:b[1]});e.bind("click",function(){if($("#guidely-guide-"+a).is(":visible"))return!1;c.showOverlay();c.hideGuides();c.show(a)});e.appendTo("body").show()},_createGuide:function(a,d){var c,e,b,h,f;c=this;this._getCoords(d);f=$("#guidely-number-"+a);e=$("<div>",{id:"guidely-guide-"+a,"class":"guidely-guide"}).appendTo("body");
$("<a>",{href:"javascript:;","class":"guidely-close-trigger",html:"x",click:function(){c.close()}}).appendTo(e);b=$("<div>",{"class":"guidely-popup"}).appendTo(e);h=$("<div>",{"class":"guidely-guide-pad"}).appendTo(b);""!==d.title&&void 0!==d.title&&h.append("<h4>"+d.title+"</h4>");h.append(d.text);b=$("<div>",{"class":"guidely-controls"}).appendTo(b);this._guides.length==a?this._createDoneButton().prependTo(b):this._createNextButton().appendTo(b);this._setGuidePosition(f,e)},_setGuidePosition:function(a,
d){var c,e;c=a.offset();e=$(document).width();$(document).height();d.outerWidth()+c.left>e?(e=c.left-d.outerWidth()+30,d.addClass("guidely-anchor-right")):(e=c.left+a.outerWidth()-30,d.removeClass("guidely-anchor-right"));d.css({position:"absolute",top:c.top+15,left:e})},_createStartTrigger:function(){var a=this;$("<a>",{href:"javascript:;","class":"guidely-start-trigger",html:"Start Tour",click:function(d){d.preventDefault();a._options.welcome?a.welcome(a._options.title,a._options.text):a.start()}}).appendTo("body")},
_getCoords:function(a){a=$(a.attachTo);return{width:a.outerWidth(),height:a.outerHeight(),top:a.offset().top,left:a.offset().left}},_getAnchorCoords:function(a){var d;d=this._getCoords(a);a=a.anchor.replace("-","_");return{top_left:[d.top-22.5,d.left-22.5],top_right:[d.top-22.5,d.left+d.width-22.5],top_middle:[d.top-22.5,d.left+d.width/2-22.5],middle_left:[d.top+d.height/2-22.5,d.left-22.5],middle_middle:[d.top+d.height/2-22.5,d.left+d.width/2-22.5],middle_right:[d.top+d.height/2-22.5,d.left+d.width-
22.5],bottom_right:[d.top+d.height-22.5,d.left+d.width-22.5],bottom_middle:[d.top+d.height-22.5,d.left+d.width/2-22.5],bottom_left:[d.top+d.height-22.5,d.left-22.5]}[a]},_createNextButton:function(){var a=this;return $("<button>",{text:"Next",click:function(){a.next()}})},_createDoneButton:function(){var a=this;return $("<button>",{text:"Done",click:function(d){d.preventDefault();a.close()}})},_resetZIndex:function(){$(".guidely-number").css({"z-index":"10002"});$(".guidely-guide").css({"z-index":"10001"})},
_append:function(){for(var a=0,d=this._guides.length;a<d;a++){var c=a+1;this._createNumber(c,this._guides[a]);this._createGuide(c,this._guides[a])}},_reposition:function(){for(var a=0,d=this._guides.length;a<d;a++){var c,e,b;c=a+1;e=this._getAnchorCoords(this._guides[a]);b=$("#guidely-number-"+c);b.css({top:e[0],left:e[1]});c=$("#guidely-guide-"+c);this._setGuidePosition(b,c)}},_scrollToTop:function(a){var d=$("#guidely-top").offset().top;$("html, body").animate({scrollTop:d},500,function(){"function"===
typeof a&&a()})},_log:function(a){"undefined"!=typeof window.console&&("undefined"!=typeof window.console.log&&this._options.debug)&&console.log(a)},_createTopAnchor:function(){$("<div>",{id:"guidely-top"}).prependTo("body")}}}(this);(function(a,d){var c=a.document,e=a.Modernizr,b=function(a){return a.charAt(0).toUpperCase()+a.slice(1)},h=["Moz","Webkit","O","Ms"],f=function(a){var d=c.documentElement.style,e;if("string"==typeof d[a])return a;a=b(a);for(var f=0,m=h.length;f<m;f++)if(e=h[f]+a,"string"==typeof d[e])return e},k=f("transform"),j=f("transitionProperty"),g={csstransforms:function(){return!!k},csstransforms3d:function(){var a=!!f("perspective");if(a){var a="@media ("+" -o- -moz- -ms- -webkit- -khtml- ".split(" ").join("transform-3d),(")+
"modernizr)",b=d("<style>"+a+"{#modernizr{height:3px}}</style>").appendTo("head"),c=d('<div id="modernizr" />').appendTo("html"),a=3===c.height();c.remove();b.remove()}return a},csstransitions:function(){return!!j}},l;if(e)for(l in g)e.hasOwnProperty(l)||e.addTest(l,g[l]);else{var e=a.Modernizr={_version:"1.6ish: miniModernizr for Isotope"},m=" ",r;for(l in g)r=g[l](),e[l]=r,m+=" "+(r?"":"no-")+l;d("html").addClass(m)}if(e.csstransforms){var p=e.csstransforms3d?{translate:function(a){return"translate3d("+
a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},t=function(a,b,c){var e=d.data(a,"isoTransform")||{},f={},m,h={};f[b]=c;d.extend(e,f);for(m in e)b=e[m],h[m]=p[m](b);m=(h.translate||"")+(h.scale||"");d.data(a,"isoTransform",e);a.style[k]=m};d.cssNumber.scale=!0;d.cssHooks.scale={set:function(a,b){t(a,"scale",b)},get:function(a){return(a=d.data(a,"isoTransform"))&&
a.scale?a.scale:1}};d.fx.step.scale=function(a){d.cssHooks.scale.set(a.elem,a.now+a.unit)};d.cssNumber.translate=!0;d.cssHooks.translate={set:function(a,b){t(a,"translate",b)},get:function(a){return(a=d.data(a,"isoTransform"))&&a.translate?a.translate:[0,0]}}}var n,u;e.csstransitions&&(n={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[j],u=f("transitionDuration"));var w=d.event,
v;w.special.smartresize={setup:function(){d(this).bind("resize",w.special.smartresize.handler)},teardown:function(){d(this).unbind("resize",w.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize";v&&clearTimeout(v);v=setTimeout(function(){jQuery.event.handle.apply(c,d)},"execAsap"===b?0:100)}};d.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])};d.Isotope=function(a,b,c){this.element=d(b);this._create(a);
this._init(c)};var E=["width","height"],z=d(a);d.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1};d.Isotope.prototype=
{_create:function(a){this.options=d.extend({},d.Isotope.settings,a);this.styleQueue=[];this.elemCount=0;a=this.element[0].style;this.originalStyle={};var b=E.slice(0),c;for(c in this.options.containerStyle)b.push(c);for(var e=0,f=b.length;e<f;e++)c=b[e],this.originalStyle[c]=a[c]||"";this.element.css(this.options.containerStyle);this._updateAnimationEngine();this._updateUsingTransforms();this.options.getSortData=d.extend(this.options.getSortData,{"original-order":function(a,b){return b.elemCount++,
b.elemCount},random:function(){return Math.random()}});this.reloadItems();this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var m=this;setTimeout(function(){m.element.addClass(m.options.containerClass)},0);this.options.resizable&&z.bind("smartresize.isotope",function(){m.resize()});this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(a){var b=this.options.itemSelector;a=b?a.filter(b).add(a.find(b)):
a;b={position:"absolute"};return this.usingTransforms&&(b.left=0,b.top=0),a.css(b).addClass(this.options.itemClass),this.updateSortData(a,!0),a},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(a)},option:function(a){if(d.isPlainObject(a)){this.options=d.extend(!0,this.options,a);for(var c in a)a="_update"+b(c),this[a]&&this[a]()}},_updateAnimationEngine:function(){var a;switch(this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"")){case "css":case "none":a=
!1;break;case "jquery":a=!0;break;default:a=!e.csstransitions}this.isUsingJQueryAnimation=a;this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var a=this.usingTransforms=this.options.transformsEnabled&&e.csstransforms&&e.csstransitions&&!this.isUsingJQueryAnimation;a||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale);this.getPositionStyles=a?this._translate:this._positionAbs},_filter:function(a){var b=
""===this.options.filter?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;"*"!==b&&(f=e.filter(b),d=a.not(d).not(b).addClass(c),this.styleQueue.push({$el:d,style:this.options.hiddenStyle}));return this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c),a.filter(b)},updateSortData:function(a,b){var c=this,e=this.options.getSortData,f,m;a.each(function(){f=d(this);m={};for(var a in e)!b&&"original-order"===a?m[a]=d.data(this,"isotope-sort-data")[a]:
m[a]=e[a](f,c);d.data(this,"isotope-sort-data",m)})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1;this.$filteredAtoms.sort(function(d,e){var f=b(d,a),m=b(e,a);return f===m&&"original-order"!==a&&(f=b(d,"original-order"),m=b(e,"original-order")),(f>m?1:f<m?-1:0)*c})},_getSorter:function(a,b){return d.data(a,"isotope-sort-data")[b]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,
b,c){b=Math.round(b+this.offset.left);c=Math.round(c+this.offset.top);var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d});this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);this.options.resizesContainer&&(c=this["_"+c+"GetContainerSize"](),this.styleQueue.push({$el:this.element,style:c}));this._processStyleQueue(a,b);this.isLaidOut=!0},_processStyleQueue:function(a,b){var c=
this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",f=this.options.animationOptions,m=this.options.onLayout,h,g,j,t;g=function(a,b){b.$el[c](b.style,f)};if(this._isInserting&&this.isUsingJQueryAnimation)g=function(a,b){h=b.$el.hasClass("no-transition")?"css":c;b.$el[h](b.style,f)};else if(b||m||f.complete){var r=!1,p=[b,m,f.complete],l=this;j=!0;t=function(){if(!r){for(var b,c=0,d=p.length;c<d;c++)b=p[c],"function"==typeof b&&b.call(l.element,a,l);r=!0}};if(this.isUsingJQueryAnimation&&
"animate"===c)f.complete=t,j=!1;else if(e.csstransitions){for(var m=0,k=this.styleQueue[0],k=k&&k.$el;!k||!k.length;){k=this.styleQueue[m++];if(!k)return;k=k.$el}0<parseFloat(getComputedStyle(k[0])[u])&&(g=function(a,b){b.$el[c](b.style,f).one(n,t)},j=!1)}}d.each(this.styleQueue,g);j&&t();this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,a)},addItems:function(a,
b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c);b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){a=c._filter(a);c._addHideAppended(a);c._sort();c.reLayout();c._revealAppended(a,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a);c.layout(a);c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a);a.addClass("no-transition");this._isInserting=!0;this.styleQueue.push({$el:a,
style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition");c.styleQueue.push({$el:a,style:c.options.visibleStyle});c._isInserting=!1;c._processStyleQueue(a,b)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a,b){this.$allAtoms=this.$allAtoms.not(a);this.$filteredAtoms=this.$filteredAtoms.not(a);var c=this,d=function(){a.remove();b&&b.call(c.element)};a.filter(":not(."+this.options.hiddenClass+
")").length?(this.styleQueue.push({$el:a,style:this.options.hiddenStyle}),this._sort(),this.reLayout(d)):d()},shuffle:function(a){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout(a)},destroy:function(){var a=this.usingTransforms,b=this.options;this.$allAtoms.removeClass(b.hiddenClass+" "+b.itemClass).each(function(){var b=this.style;b.position="";b.top="";b.left="";b.opacity="";a&&(b[k]="")});var c=this.element[0].style,d;for(d in this.originalStyle)c[d]=
this.originalStyle[d];this.element.unbind(".isotope").undelegate("."+b.hiddenClass,"click").removeClass(b.containerClass).removeData("isotope");z.unbind(".isotope")},_getSegments:function(a){var c=this.options.layoutMode,d=a?"rowHeight":"columnWidth",e=a?"height":"width";a=a?"rows":"cols";var f=this.element[e](),e=this.options[c]&&this.options[c][d]||this.$filteredAtoms["outer"+b(e)](!0)||f,f=Math.floor(f/e),f=Math.max(f,1);this[c][a]=f;this[c][d]=e},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,
c=a?"rows":"cols",d=this[b][c];return this._getSegments(a),this[b][c]!==d},_masonryReset:function(){this.masonry={};this._getSegments();var a=this.masonry.cols;for(this.masonry.colYs=[];a--;)this.masonry.colYs.push(0)},_masonryLayout:function(a){var b=this,c=b.masonry;a.each(function(){var a=d(this),e=Math.ceil(a.outerWidth(!0)/c.columnWidth),e=Math.min(e,c.cols);if(1===e)b._masonryPlaceBrick(a,c.colYs);else{var f=c.cols+1-e,m=[],h,g;for(g=0;g<f;g++)h=c.colYs.slice(g,g+e),m[g]=Math.max.apply(Math,
h);b._masonryPlaceBrick(a,m)}})},_masonryPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),d=0,e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}this._pushPosition(a,this.masonry.columnWidth*d,c);c+=a.outerHeight(!0);f=this.masonry.cols+1-f;for(e=0;e<f;e++)this.masonry.colYs[d+e]=c},_masonryGetContainerSize:function(){return{height:Math.max.apply(Math,this.masonry.colYs)}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},
_fitRowsLayout:function(a){var b=this,c=this.element.width(),e=this.fitRows;a.each(function(){var a=d(this),f=a.outerWidth(!0),m=a.outerHeight(!0);0!==e.x&&f+e.x>c&&(e.x=0,e.y=e.height);b._pushPosition(a,e.x,e.y);e.height=Math.max(e.y+m,e.height);e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(!0)},_cellsByRowLayout:function(a){var b=
this,c=this.cellsByRow;a.each(function(){var a=d(this),e=Math.floor(c.index/c.cols),f=(c.index%c.cols+0.5)*c.columnWidth-a.outerWidth(!0)/2,e=(e+0.5)*c.rowHeight-a.outerHeight(!0)/2;b._pushPosition(a,f,e);c.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},
_straightDownLayout:function(a){var b=this;a.each(function(){var a=d(this);b._pushPosition(a,0,b.straightDown.y);b.straightDown.y+=a.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(!0);var a=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];a--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var b=
this,c=b.masonryHorizontal;a.each(function(){var a=d(this),e=Math.ceil(a.outerHeight(!0)/c.rowHeight),e=Math.min(e,c.rows);if(1===e)b._masonryHorizontalPlaceBrick(a,c.rowXs);else{var f=c.rows+1-e,m=[],h,g;for(g=0;g<f;g++)h=c.rowXs.slice(g,g+e),m[g]=Math.max.apply(Math,h);b._masonryHorizontalPlaceBrick(a,m)}})},_masonryHorizontalPlaceBrick:function(a,b){for(var c=Math.min.apply(Math,b),d=0,e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}this._pushPosition(a,c,this.masonryHorizontal.rowHeight*d);c+=a.outerWidth(!0);
f=this.masonryHorizontal.rows+1-f;for(e=0;e<f;e++)this.masonryHorizontal.rowXs[d+e]=c},_masonryHorizontalGetContainerSize:function(){return{width:Math.max.apply(Math,this.masonryHorizontal.rowXs)}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var b=this,c=this.element.height(),e=this.fitColumns;a.each(function(){var a=d(this),f=a.outerWidth(!0),m=a.outerHeight(!0);0!==
e.y&&m+e.y>c&&(e.x=e.width,e.y=0);b._pushPosition(a,e.x,e.y);e.width=Math.max(e.x+f,e.width);e.y+=m})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(!0)},_cellsByColumnLayout:function(a){var b=this,c=this.cellsByColumn;a.each(function(){var a=d(this),e=c.index%c.rows,f=(Math.floor(c.index/c.rows)+0.5)*c.columnWidth-a.outerWidth(!0)/
2,e=(e+0.5)*c.rowHeight-a.outerHeight(!0)/2;b._pushPosition(a,f,e);c.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var b=this;a.each(function(){var a=d(this);b._pushPosition(a,b.straightAcross.x,0);b.straightAcross.x+=
a.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}};d.fn.imagesLoaded=function(a){function b(){a.call(e,f)}function c(a){a=a.target;a.src!==h&&-1===d.inArray(a,g)&&(g.push(a),0>=--m&&(setTimeout(b),f.unbind(".imagesLoaded",c)))}var e=this,f=e.find("img").add(e.filter("img")),m=f.length,h="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];return m||b(),f.bind("load.imagesLoaded error.imagesLoaded",
c).each(function(){var a=this.src;this.src=h;this.src=a}),e};d.fn.isotope=function(b,c){if("string"==typeof b){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var c=d.data(this,"isotope");c?!d.isFunction(c[b])||"_"===b.charAt(0)?a.console&&a.console.error("no such method '"+b+"' for isotope instance"):c[b].apply(c,e):a.console&&a.console.error("cannot call methods on isotope prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){var a=d.data(this,
"isotope");a?(a.option(b),a._init(c)):d.data(this,"isotope",new d.Isotope(b,this,c))});return this}})(window,jQuery);(function(a){a.fn.qrcode=function(d){function c(a){this.mode=k;this.data=a}function e(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function b(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var e=0;e<a.length-c;e++)this.num[e]=a[e+c]}function h(a,b){this.totalCount=a;this.dataCount=b}function f(){this.buffer=[];this.length=0}var k;c.prototype={getLength:function(){return this.data.length},
write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};e.prototype={addData:function(a){this.dataList.push(new c(a));this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var b=h.getRSBlocks(a,this.errorCorrectLevel),c=new f,e=0,d=0;d<b.length;d++)e+=b[d].dataCount;
for(d=0;d<this.dataList.length;d++)b=this.dataList[d],c.put(b.mode,4),c.put(b.getLength(),j.getLengthInBits(b.mode,a)),b.write(c);if(c.getLengthInBits()<=8*e)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-
7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var e=-1;7>=e;e++)-1>=b+e||this.moduleCount<=b+e||(this.modules[a+c][b+e]=
0<=c&&6>=c&&(0==e||6==e)||0<=e&&6>=e&&(0==c||6==c)||2<=c&&4>=c&&2<=e&&4>=e?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var e=j.getLostPoint(this);if(0==c||a>e)a=e,b=c}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var e=0;e<this.modules[b].length;e++){var d=1*e;this.modules[b][e]&&(a.beginFill(0,100),a.moveTo(d,c),a.lineTo(d+1,c),a.lineTo(d+1,c+1),a.lineTo(d,c+1),a.endFill())}}return a},
setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=j.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var e=a[b],d=a[c];if(null==this.modules[e][d])for(var f=-2;2>=f;f++)for(var h=-2;2>=h;h++)this.modules[e+f][d+h]=-2==f||2==f||-2==h||2==h||0==f&&0==h?!0:!1}},setupTypeNumber:function(a){for(var b=
j.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var e=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=e}for(c=0;18>c;c++)e=!a&&1==(b>>c&1),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=e},setupTypeInfo:function(a,b){for(var c=j.getBCHTypeInfo(this.errorCorrectLevel<<3|b),e=0;15>e;e++){var d=!a&&1==(c>>e&1);6>e?this.modules[e][8]=d:8>e?this.modules[e+1][8]=d:this.modules[this.moduleCount-15+e][8]=d}for(e=0;15>e;e++)d=!a&&1==(c>>e&1),8>e?this.modules[8][this.moduleCount-
e-1]=d:9>e?this.modules[8][15-e-1+1]=d:this.modules[8][15-e-1]=d;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,e=this.moduleCount-1,d=7,f=0,h=this.moduleCount-1;0<h;h-=2)for(6==h&&h--;;){for(var g=0;2>g;g++)if(null==this.modules[e][h-g]){var l=!1;f<a.length&&(l=1==(a[f]>>>d&1));j.getMask(b,e,h-g)&&(l=!l);this.modules[e][h-g]=l;d--; -1==d&&(f++,d=7)}e+=c;if(0>e||this.moduleCount<=e){e-=c;c=-c;break}}}};e.PAD0=236;e.PAD1=17;e.createData=function(a,b,c){b=h.getRSBlocks(a,
b);for(var d=new f,g=0;g<c.length;g++){var l=c[g];d.put(l.mode,4);d.put(l.getLength(),j.getLengthInBits(l.mode,a));l.write(d)}for(g=a=0;g<b.length;g++)a+=b[g].dataCount;if(d.getLengthInBits()>8*a)throw Error("code length overflow. ("+d.getLengthInBits()+">"+8*a+")");for(d.getLengthInBits()+4<=8*a&&d.put(0,4);0!=d.getLengthInBits()%8;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*a);){d.put(e.PAD0,8);if(d.getLengthInBits()>=8*a)break;d.put(e.PAD1,8)}return e.createBytes(d,b)};e.createBytes=function(a,
c){for(var e=0,d=0,f=0,h=Array(c.length),g=Array(c.length),l=0;l<c.length;l++){var k=c[l].dataCount,z=c[l].totalCount-k,d=Math.max(d,k),f=Math.max(f,z);h[l]=Array(k);for(var s=0;s<h[l].length;s++)h[l][s]=255&a.buffer[s+e];e+=k;s=j.getErrorCorrectPolynomial(z);k=(new b(h[l],s.getLength()-1)).mod(s);g[l]=Array(s.getLength()-1);for(s=0;s<g[l].length;s++)z=s+k.getLength()-g[l].length,g[l][s]=0<=z?k.get(z):0}for(s=l=0;s<c.length;s++)l+=c[s].totalCount;e=Array(l);for(s=k=0;s<d;s++)for(l=0;l<c.length;l++)s<
h[l].length&&(e[k++]=h[l][s]);for(s=0;s<f;s++)for(l=0;l<c.length;l++)s<g[l].length&&(e[k++]=g[l][s]);return e};k=4;for(var j={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,
126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=j.getBCHDigit(b)-j.getBCHDigit(j.G15);)b^=j.G15<<j.getBCHDigit(b)-j.getBCHDigit(j.G15);return(a<<10|b)^j.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=
j.getBCHDigit(b)-j.getBCHDigit(j.G18);)b^=j.G18<<j.getBCHDigit(b)-j.getBCHDigit(j.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return j.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+
c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var c=new b([1],0),e=0;e<a;e++)c=c.multiply(new b([1,g.gexp(e)],0));return c},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case 1:return 10;case 2:return 9;case k:return 8;case 8:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case 1:return 12;case 2:return 11;case k:return 16;case 8:return 10;default:throw Error("mode:"+a);}else if(41>b)switch(a){case 1:return 14;case 2:return 13;
case k:return 16;case 8:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+b);},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,e=0;e<b;e++)for(var d=0;d<b;d++){for(var f=0,h=a.isDark(e,d),g=-1;1>=g;g++)if(!(0>e+g||b<=e+g))for(var j=-1;1>=j;j++)0>d+j||b<=d+j||0==g&&0==j||h==a.isDark(e+g,d+j)&&f++;5<f&&(c+=3+f-5)}for(e=0;e<b-1;e++)for(d=0;d<b-1;d++)if(f=0,a.isDark(e,d)&&f++,a.isDark(e+1,d)&&f++,a.isDark(e,d+1)&&f++,a.isDark(e+1,d+1)&&f++,0==f||4==f)c+=3;for(e=0;e<b;e++)for(d=
0;d<b-6;d++)a.isDark(e,d)&&!a.isDark(e,d+1)&&a.isDark(e,d+2)&&a.isDark(e,d+3)&&a.isDark(e,d+4)&&!a.isDark(e,d+5)&&a.isDark(e,d+6)&&(c+=40);for(d=0;d<b;d++)for(e=0;e<b-6;e++)a.isDark(e,d)&&!a.isDark(e+1,d)&&a.isDark(e+2,d)&&a.isDark(e+3,d)&&a.isDark(e+4,d)&&!a.isDark(e+5,d)&&a.isDark(e+6,d)&&(c+=40);for(d=f=0;d<b;d++)for(e=0;e<b;e++)a.isDark(e,d)&&f++;a=Math.abs(100*f/b/b-50)/5;return c+10*a}},g={glog:function(a){if(1>a)throw Error("glog("+a+")");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=
255;for(;256<=a;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},l=0;8>l;l++)g.EXP_TABLE[l]=1<<l;for(l=8;256>l;l++)g.EXP_TABLE[l]=g.EXP_TABLE[l-4]^g.EXP_TABLE[l-5]^g.EXP_TABLE[l-6]^g.EXP_TABLE[l-8];for(l=0;255>l;l++)g.LOG_TABLE[g.EXP_TABLE[l]]=l;b.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=Array(this.getLength()+a.getLength()-1),e=0;e<this.getLength();e++)for(var d=0;d<a.getLength();d++)c[e+d]^=
g.gexp(g.glog(this.get(e))+g.glog(a.get(d)));return new b(c,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var c=g.glog(this.get(0))-g.glog(a.get(0)),e=Array(this.getLength()),d=0;d<this.getLength();d++)e[d]=this.get(d);for(d=0;d<a.getLength();d++)e[d]^=g.gexp(g.glog(a.get(d))+c);return(new b(e,0)).mod(a)}};h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],
[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,
15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,
48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],
[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,
24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,
25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];h.getRSBlocks=function(a,b){var c=h.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var e=c.length/3,d=[],f=0;f<e;f++)for(var g=c[3*f+0],j=c[3*f+1],l=c[3*f+2],k=0;k<g;k++)d.push(new h(j,l));return d};h.getRsBlockTable=function(a,b){switch(b){case 1:return h.RS_BLOCK_TABLE[4*
(a-1)+0];case 0:return h.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return h.RS_BLOCK_TABLE[4*(a-1)+2];case 2:return h.RS_BLOCK_TABLE[4*(a-1)+3]}};f.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};"string"===typeof d&&
(d={text:d});d=a.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},d);return this.each(function(){var b;if("canvas"==d.render){b=new e(d.typeNumber,d.correctLevel);b.addData(d.text);b.make();var c=document.createElement("canvas");c.width=d.width;c.height=d.height;for(var f=c.getContext("2d"),h=d.width/b.getModuleCount(),g=d.height/b.getModuleCount(),j=0;j<b.getModuleCount();j++)for(var l=0;l<b.getModuleCount();l++){f.fillStyle=
b.isDark(j,l)?d.foreground:d.background;var k=Math.ceil((l+1)*h)-Math.floor(l*h),E=Math.ceil((j+1)*h)-Math.floor(j*h);f.fillRect(Math.round(l*h),Math.round(j*g),k,E)}}else{b=new e(d.typeNumber,d.correctLevel);b.addData(d.text);b.make();c=a("<table></table>").css("width",d.width+"px").css("height",d.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",d.background);f=d.width/b.getModuleCount();h=d.height/b.getModuleCount();for(g=0;g<b.getModuleCount();g++){j=a("<tr></tr>").css("height",
h+"px").appendTo(c);for(l=0;l<b.getModuleCount();l++)a("<td></td>").css("width",f+"px").css("background-color",b.isDark(g,l)?d.foreground:d.background).appendTo(j)}}jQuery(c).appendTo(this)})}})(jQuery);!function(a){var d=function(e,b){this.element=a(e);this.format=c.parseFormat(b.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=a(c.template).appendTo("body").on({click:a.proxy(this.click,this),mousedown:a.proxy(this.mousedown,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):!1;if(this.isInput)this.element.on({focus:a.proxy(this.show,this),blur:a.proxy(this.hide,this),keyup:a.proxy(this.update,this)});else if(this.component)this.component.on("click",
a.proxy(this.show,this));else this.element.on("click",a.proxy(this.show,this));this.minViewMode=b.minViewMode||this.element.data("date-minviewmode")||0;if("string"===typeof this.minViewMode)switch(this.minViewMode){case "months":this.minViewMode=1;break;case "years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=b.viewMode||this.element.data("date-viewmode")||0;if("string"===typeof this.viewMode)switch(this.viewMode){case "months":this.viewMode=1;break;case "years":this.viewMode=
2;break;default:this.viewMode=0}this.startViewMode=this.viewMode;this.weekStart=b.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update();this.showMode()};d.prototype={constructor:d,show:function(c){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();a(window).on("resize",a.proxy(this.place,this));c&&(c.stopPropagation(),c.preventDefault());if(!this.isInput)a(document).on("mousedown",
a.proxy(this.hide,this));this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();a(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();this.isInput||a(document).off("mousedown",this.hide);this.set();this.element.trigger({type:"hide",date:this.date})},set:function(){var a=c.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",a),this.element.data("date",a))},
setValue:function(a){this.date="string"===typeof a?c.parseDate(a,this.format):new Date(a);this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=c.parseDate("string"===typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date.getFullYear(),
this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="dow">'+c.dates.daysMin[a++%7]+"</th>";this.picker.find(".datepicker-days thead").append(b+"</tr>")},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month">'+c.dates.monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),b=a.getFullYear(),a=a.getMonth(),d=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(c.dates.months[a]+
" "+b);var f=new Date(b,a-1,28,0,0,0,0),k=c.getDaysInMonth(f.getFullYear(),f.getMonth());f.setDate(k);f.setDate(k-(f.getDay()-this.weekStart+7)%7);k=new Date(f);k.setDate(k.getDate()+42);k=k.valueOf();html=[];for(var j;f.valueOf()<k;)f.getDay()===this.weekStart&&html.push("<tr>"),j="",f.getMonth()<a?j+=" old":f.getMonth()>a&&(j+=" new"),f.valueOf()===d&&(j+=" active"),html.push('<td class="day'+j+'">'+f.getDate()+"</td>"),f.getDay()===this.weekEnd&&html.push("</tr>"),f.setDate(f.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(html.join(""));
a=this.date.getFullYear();d=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");a===b&&d.eq(this.date.getMonth()).addClass("active");html="";b=10*parseInt(b/10,10);d=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(f=-1;11>f;f++)html+='<span class="year'+(-1===f||10===f?" old":"")+(a===b?" active":"")+'">'+b+"</span>",b+=1;d.html(html)},click:function(e){e.stopPropagation();e.preventDefault();var b=
a(e.target).closest("span, td, th");if(1===b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "switch":this.showMode(1);break;case "prev":case "next":this.viewDate["set"+c.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+c.modes[this.viewMode].navFnc].call(this.viewDate)+c.modes[this.viewMode].navStep*("prev"===b[0].className?-1:1)),this.fill(),this.set()}break;case "span":b.is(".month")?(e=b.parent().find("span").index(b),this.viewDate.setMonth(e)):
(b=parseInt(b.text(),10)||0,this.viewDate.setFullYear(b));0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName}));this.showMode(-1);this.fill();this.set();break;case "td":if(b.is(".day")){var d=parseInt(b.text(),10)||1;e=this.viewDate.getMonth();b.is(".old")?e-=1:b.is(".new")&&(e+=1);b=this.viewDate.getFullYear();this.date=new Date(b,e,d,0,0,0,0);this.viewDate=new Date(b,e,Math.min(28,d),0,0,0,0);this.fill();
this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName})}}},mousedown:function(a){a.stopPropagation();a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).show()}};a.fn.datepicker=function(c,b){return this.each(function(){var h=a(this),f=h.data("datepicker"),k="object"===typeof c&&c;f||h.data("datepicker",
f=new d(this,a.extend({},a.fn.datepicker.defaults,k)));if("string"===typeof c)f[c](b)})};a.fn.datepicker.defaults={};a.fn.datepicker.Constructor=d;var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,c.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(a){var b=a.match(/[.\/\-\s].*?/);a=a.split(/\W+/);if(!b||!a||0===a.length)throw Error("Invalid date format.");return{separator:b,parts:a}},parseDate:function(a,b){var c=a.split(b.separator);a=new Date;var d;a.setHours(0);a.setMinutes(0);a.setSeconds(0);
a.setMilliseconds(0);if(c.length===b.parts.length)for(var k=0,j=b.parts.length;k<j;k++)switch(d=parseInt(c[k],10)||1,b.parts[k]){case "dd":case "d":a.setDate(d);break;case "mm":case "m":a.setMonth(d-1);break;case "yy":a.setFullYear(2E3+d);break;case "yyyy":a.setFullYear(d)}return a},formatDate:function(a,b){var c={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()};c.dd=(10>c.d?"0":"")+c.d;c.mm=(10>c.m?"0":"")+c.m;a=[];for(var d=0,k=b.parts.length;d<k;d++)a.push(c[b.parts[d]]);
return a.join(b.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};c.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+c.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+c.headTemplate+c.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+
c.headTemplate+c.contTemplate+"</table></div></div>"}(window.jQuery);!function(a){var d=function(a){this.value={h:1,s:1,b:1,a:1};this.setColor(a)};d.prototype={constructor:d,setColor:function(b){b=b.toLowerCase();var c=this;a.each(e.stringParsers,function(a,d){var j=d.re.exec(b),j=j&&d.parse(j),g=d.space||"rgba";if(j)return c.value="hsla"===g?e.RGBtoHSB.apply(null,e.HSLtoRGB.apply(null,j)):e.RGBtoHSB.apply(null,j),!1})},setHue:function(a){this.value.h=1-a},setSaturation:function(a){this.value.s=a},setLightness:function(a){this.value.b=1-a},setAlpha:function(a){this.value.a=
parseInt(100*(1-a),10)/100},toRGB:function(a,c,d,e){a||(a=this.value.h,c=this.value.s,d=this.value.b);var j,g,l;a=360*a%360/60;l=d*c;c=l*(1-Math.abs(a%2-1));d=j=g=d-l;a=~~a;d+=[l,c,0,0,c,l][a];j+=[c,l,l,c,0,0][a];g+=[0,0,c,l,l,c][a];return{r:Math.round(255*d),g:Math.round(255*j),b:Math.round(255*g),a:e||this.value.a}},toHex:function(a,c,d,e){a=this.toRGB(a,c,d,e);return"#"+(16777216|parseInt(a.r)<<16|parseInt(a.g)<<8|parseInt(a.b)).toString(16).substr(1)},toHSL:function(a,c,d,e){a||(a=this.value.h,
c=this.value.s,d=this.value.b);var j=(2-c)*d;c*=d;c=0<j&&1>=j?c/j:c/(2-j);1<c&&(c=1);return{h:a,s:c,l:j/2,a:e||this.value.a}}};var c=function(b,c){this.element=a(b);var d=c.format||this.element.data("color-format")||"hex";this.format=e.translateFormats[d];this.isInput=this.element.is("input");this.component=this.element.is(".color")?this.element.find(".add-on"):!1;this.picker=a(e.template).appendTo("body").on("mousedown",a.proxy(this.mousedown,this));if(this.isInput)this.element.on({focus:a.proxy(this.show,
this),keyup:a.proxy(this.update,this)});else if(this.component)this.component.on({click:a.proxy(this.show,this)});else this.element.on({click:a.proxy(this.show,this)});if("rgba"===d||"hsla"===d)this.picker.addClass("alpha"),this.alpha=this.picker.find(".colorpicker-alpha")[0].style;this.component?(this.picker.find(".colorpicker-color").hide(),this.preview=this.element.find("i")[0].style):this.preview=this.picker.find("div:last")[0].style;this.base=this.picker.find("div:first")[0].style;this.update()};
c.prototype={constructor:c,show:function(b){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();a(window).on("resize",a.proxy(this.place,this));!this.isInput&&b&&(b.stopPropagation(),b.preventDefault());a(document).on({mousedown:a.proxy(this.hide,this)});this.element.trigger({type:"show",color:this.color})},update:function(){this.color=new d(this.isInput?this.element.prop("value"):this.element.data("color"));this.picker.find("i").eq(0).css({left:100*
this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a));this.previewColor()},setValue:function(a){this.color=new d(a);this.picker.find("i").eq(0).css({left:100*this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a));this.previewColor();this.element.trigger({type:"changeColor",color:this.color})},hide:function(){this.picker.hide();
a(window).off("resize",this.place);this.isInput?this.element.prop("value",this.format.call(this)):(a(document).off({mousedown:this.hide}),this.component&&this.element.find("input").prop("value",this.format.call(this)),this.element.data("color",this.format.call(this)));this.element.trigger({type:"hide",color:this.color})},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},previewColor:function(){try{this.preview.backgroundColor=
this.format.call(this)}catch(a){this.preview.backgroundColor=this.color.toHex()}this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1);this.alpha&&(this.alpha.backgroundColor=this.color.toHex())},pointer:null,slider:null,mousedown:function(b){b.stopPropagation();b.preventDefault();var c=a(b.target).closest("div");if(!c.is(".colorpicker")){if(c.is(".colorpicker-saturation"))this.slider=a.extend({},e.sliders.saturation);else if(c.is(".colorpicker-hue"))this.slider=a.extend({},e.sliders.hue);
else if(c.is(".colorpicker-alpha"))this.slider=a.extend({},e.sliders.alpha);else return!1;var d=c.offset();this.slider.knob=c.find("i")[0].style;this.slider.left=b.pageX-d.left;this.slider.top=b.pageY-d.top;this.pointer={left:b.pageX,top:b.pageY};a(document).on({mousemove:a.proxy(this.mousemove,this),mouseup:a.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(a){a.stopPropagation();a.preventDefault();var c=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((a.pageX||
this.pointer.left)-this.pointer.left)));a=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((a.pageY||this.pointer.top)-this.pointer.top)));this.slider.knob.left=c+"px";this.slider.knob.top=a+"px";this.slider.callLeft&&this.color[this.slider.callLeft].call(this.color,c/100);this.slider.callTop&&this.color[this.slider.callTop].call(this.color,a/100);this.previewColor();this.element.trigger({type:"changeColor",color:this.color});return!1},mouseup:function(b){b.stopPropagation();b.preventDefault();
a(document).off({mousemove:this.mousemove,mouseup:this.mouseup});return!1}};a.fn.colorpicker=function(b){return this.each(function(){var d=a(this),e=d.data("colorpicker"),k="object"===typeof b&&b;e||d.data("colorpicker",e=new c(this,a.extend({},a.fn.colorpicker.defaults,k)));if("string"===typeof b)e[b]()})};a.fn.colorpicker.defaults={};a.fn.colorpicker.Constructor=c;var e={translateFormats:{rgb:function(){var a=this.color.toRGB();return"rgb("+a.r+","+a.g+","+a.b+")"},rgba:function(){var a=this.color.toRGB();
return"rgba("+a.r+","+a.g+","+a.b+","+a.a+")"},hsl:function(){var a=this.color.toHSL();return"hsl("+Math.round(360*a.h)+","+Math.round(100*a.s)+"%,"+Math.round(100*a.l)+"%)"},hsla:function(){var a=this.color.toHSL();return"hsla("+Math.round(360*a.h)+","+Math.round(100*a.s)+"%,"+Math.round(100*a.l)+"%,"+a.a+")"},hex:function(){return this.color.toHex()}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},
alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},RGBtoHSB:function(a,c,d,e){a/=255;c/=255;d/=255;var j,g;j=Math.max(a,c,d);g=j-Math.min(a,c,d);a=60*(((0===g?0:j==a?(c-d)/g:j==c?(d-a)/g+2:(a-c)/g+4)+360)%6)/360;return{h:a||1,s:0===g?0:g/j,b:j,a:e||1}},HueToRGB:function(a,c,d){0>d?d+=1:1<d&&(d-=1);return 1>6*d?a+6*(c-a)*d:1>2*d?c:2>3*d?a+6*(c-a)*(2/3-d):a},HSLtoRGB:function(a,c,d,k){0>c&&(c=0);c=0.5>=d?d*(1+c):d+c-d*c;var j=2*d-c,g=a-1/3;d=Math.round(255*e.HueToRGB(j,c,a+1/3));a=Math.round(255*
e.HueToRGB(j,c,a));c=Math.round(255*e.HueToRGB(j,c,g));return[d,a,c,k||1]},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[parseInt(a[1],16),
parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}}],template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'}}(window.jQuery);!function(a){var d=function(c,d){this.$element=a(c);this.options=a.extend({},a.fn.timepicker.defaults,d,this.$element.data());this.minuteStep=this.options.minuteStep||this.minuteStep;this.secondStep=this.options.secondStep||this.secondStep;this.showMeridian=this.options.showMeridian||this.showMeridian;this.showSeconds=this.options.showSeconds||this.showSeconds;this.showInputs=this.options.showInputs||this.showInputs;this.disableFocus=this.options.disableFocus||this.disableFocus;this.template=this.options.template||
this.template;this.modalBackdrop=this.options.modalBackdrop||this.modalBackdrop;this.defaultTime=this.options.defaultTime||this.defaultTime;this.open=!1;this.init()};d.prototype={constructor:d,init:function(){if(this.$element.parent().hasClass("input-append"))this.$element.parent(".input-append").find(".add-on").on("click",a.proxy(this.showWidget,this)),this.$element.on({focus:a.proxy(this.highlightUnit,this),click:a.proxy(this.highlightUnit,this),keydown:a.proxy(this.elementKeypress,this),blur:a.proxy(this.blurElement,
this)});else if(this.template)this.$element.on({focus:a.proxy(this.showWidget,this),click:a.proxy(this.showWidget,this),blur:a.proxy(this.blurElement,this)});else this.$element.on({focus:a.proxy(this.highlightUnit,this),click:a.proxy(this.highlightUnit,this),keydown:a.proxy(this.elementKeypress,this),blur:a.proxy(this.blurElement,this)});this.$widget=a(this.getTemplate()).appendTo("body");this.$widget.on("click",a.proxy(this.widgetClick,this));if(this.showInputs)this.$widget.find("input").on({click:function(){this.select()},
keydown:a.proxy(this.widgetKeypress,this),change:a.proxy(this.updateFromWidgetInputs,this)});this.setDefaultTime(this.defaultTime)},showWidget:function(c){c.stopPropagation();c.preventDefault();if(!this.open){this.$element.trigger("show");this.disableFocus&&this.$element.blur();c=a.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.updateFromElementVal();a("html").trigger("click.timepicker.data-api").one("click.timepicker.data-api",a.proxy(this.hideWidget,this));if("modal"===
this.template)this.$widget.modal("show").on("hidden",a.proxy(this.hideWidget,this));else this.$widget.css({top:c.top+c.height,left:c.left}),this.open||this.$widget.addClass("open");this.open=!0;this.$element.trigger("shown")}},hideWidget:function(){this.$element.trigger("hide");"modal"===this.template?this.$widget.modal("hide"):this.$widget.removeClass("open");this.open=!1;this.$element.trigger("hidden")},widgetClick:function(c){c.stopPropagation();c.preventDefault();if(c=a(c.target).closest("a").data("action"))this[c](),
this.update()},widgetKeypress:function(c){var d=a(c.target).closest("input").attr("name");switch(c.keyCode){case 9:this.showMeridian?"meridian"==d&&this.hideWidget():this.showSeconds?"second"==d&&this.hideWidget():"minute"==d&&this.hideWidget();break;case 27:this.hideWidget();break;case 38:switch(d){case "hour":this.incrementHour();break;case "minute":this.incrementMinute();break;case "second":this.incrementSecond();break;case "meridian":this.toggleMeridian()}this.update();break;case 40:switch(d){case "hour":this.decrementHour();
break;case "minute":this.decrementMinute();break;case "second":this.decrementSecond();break;case "meridian":this.toggleMeridian()}this.update()}},elementKeypress:function(a){this.$element.get(0);switch(a.keyCode){case 9:this.updateFromElementVal();this.showMeridian?"meridian"!=this.highlightedUnit&&(a.preventDefault(),this.highlightNextUnit()):this.showSeconds?"second"!=this.highlightedUnit&&(a.preventDefault(),this.highlightNextUnit()):"minute"!=this.highlightedUnit&&(a.preventDefault(),this.highlightNextUnit());
break;case 27:this.updateFromElementVal();break;case 37:this.updateFromElementVal();this.highlightPrevUnit();break;case 38:switch(this.highlightedUnit){case "hour":this.incrementHour();break;case "minute":this.incrementMinute();break;case "second":this.incrementSecond();break;case "meridian":this.toggleMeridian()}this.updateElement();break;case 39:this.updateFromElementVal();this.highlightNextUnit();break;case 40:switch(this.highlightedUnit){case "hour":this.decrementHour();break;case "minute":this.decrementMinute();
break;case "second":this.decrementSecond();break;case "meridian":this.toggleMeridian()}this.updateElement()}this.isValidInputCharacter(a)||a.preventDefault()},isValidInputCharacter:function(a){var d=String.fromCharCode(a.keyCode),b=[0,8,9,46,65,80,77];return a.ctrlKey||0<=b.indexOf(a.keyCode)||"0"<=d&&"9">=d},setValues:function(a){if(this.showMeridian){a=a.split(" ");var d=a[0].split(":");this.meridian=a[1]}else d=a.split(":");this.hour=parseInt(d[0],10);this.minute=parseInt(d[1],10);this.second=
parseInt(d[2],10);isNaN(this.hour)&&(this.hour=0);isNaN(this.minute)&&(this.minute=0);if(this.showMeridian){12<this.hour?this.hour=12:1>this.hour&&(this.hour=1);if("am"==this.meridian||"a"==this.meridian)this.meridian="AM";else if("pm"==this.meridian||"p"==this.meridian)this.meridian="PM";"AM"!=this.meridian&&"PM"!=this.meridian&&(this.meridian="AM")}else 24<=this.hour?this.hour=23:0>this.hour&&(this.hour=0);0>this.minute?this.minute=0:60<=this.minute&&(this.minute=59);this.showSeconds&&(isNaN(this.second)?
this.second=0:0>this.second?this.second=0:60<=this.second&&(this.second=59));""!=this.$element.val()&&this.updateElement();this.updateWidget()},setMeridian:function(a){"a"==a||"am"==a||"AM"==a?this.meridian="AM":"p"==a||"pm"==a||"PM"==a?this.meridian="PM":this.updateWidget();this.updateElement()},setDefaultTime:function(a){if(a){if("current"===a){var d=new Date;a=d.getHours();var b=Math.floor(d.getMinutes()/this.minuteStep)*this.minuteStep,d=Math.floor(d.getSeconds()/this.secondStep)*this.secondStep,
h="AM";this.showMeridian&&(0===a?a=12:12<=a?(12<a&&(a-=12),h="PM"):h="AM");this.hour=a;this.minute=b;this.second=d;this.meridian=h}else"value"===a?this.setValues(this.$element.val()):this.setValues(a);""!=this.$element.val()&&this.updateElement();this.updateWidget()}else this.second=this.minute=this.hour=0},formatTime:function(a,d,b,h){return(10>a?"0"+a:a)+":"+(10>d?"0"+d:d)+(this.showSeconds?":"+(10>b?"0"+b:b):"")+(this.showMeridian?" "+h:"")},getTime:function(){return this.formatTime(this.hour,
this.minute,this.second,this.meridian)},setTime:function(a){this.setValues(a);this.update()},update:function(){this.updateElement();this.updateWidget()},blurElement:function(){this.highlightedUnit=void 0;this.updateFromElementVal()},updateElement:function(){var a=this.getTime();this.$element.val(a).change();switch(this.highlightedUnit){case "hour":this.highlightHour();break;case "minute":this.highlightMinute();break;case "second":this.highlightSecond();break;case "meridian":this.highlightMeridian()}},
updateWidget:function(){this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(10>this.hour?"0"+this.hour:this.hour),this.$widget.find("input.bootstrap-timepicker-minute").val(10>this.minute?"0"+this.minute:this.minute),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(10>this.second?"0"+this.second:this.second),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(this.hour),
this.$widget.find("span.bootstrap-timepicker-minute").text(10>this.minute?"0"+this.minute:this.minute),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(10>this.second?"0"+this.second:this.second),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))},updateFromElementVal:function(){var a=this.$element.val();a&&(this.setValues(a),this.updateWidget())},updateFromWidgetInputs:function(){var c=a("input.bootstrap-timepicker-hour",this.$widget).val()+
":"+a("input.bootstrap-timepicker-minute",this.$widget).val()+(this.showSeconds?":"+a("input.bootstrap-timepicker-second",this.$widget).val():"")+(this.showMeridian?" "+a("input.bootstrap-timepicker-meridian",this.$widget).val():"");this.setValues(c)},getCursorPosition:function(){var a=this.$element.get(0);if("selectionStart"in a)return a.selectionStart;if(document.selection){a.focus();var d=document.selection.createRange(),b=document.selection.createRange().text.length;d.moveStart("character",-a.value.length);
return d.text.length-b}},highlightUnit:function(){this.$element.get(0);this.position=this.getCursorPosition();0<=this.position&&2>=this.position?this.highlightHour():3<=this.position&&5>=this.position?this.highlightMinute():6<=this.position&&8>=this.position?this.showSeconds?this.highlightSecond():this.highlightMeridian():9<=this.position&&11>=this.position&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case "hour":this.highlightMinute();break;case "minute":this.showSeconds?
this.highlightSecond():this.highlightMeridian();break;case "second":this.highlightMeridian();break;case "meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case "hour":this.highlightMeridian();break;case "minute":this.highlightHour();break;case "second":this.highlightMinute();break;case "meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){this.highlightedUnit="hour";this.$element.get(0).setSelectionRange(0,2)},
highlightMinute:function(){this.highlightedUnit="minute";this.$element.get(0).setSelectionRange(3,5)},highlightSecond:function(){this.highlightedUnit="second";this.$element.get(0).setSelectionRange(6,8)},highlightMeridian:function(){this.highlightedUnit="meridian";this.showSeconds?this.$element.get(0).setSelectionRange(9,11):this.$element.get(0).setSelectionRange(6,8)},incrementHour:function(){if(this.showMeridian)if(11===this.hour)this.toggleMeridian();else if(12===this.hour)return this.hour=1;if(23===
this.hour)return this.hour=0;this.hour+=1},decrementHour:function(){if(this.showMeridian){if(1===this.hour)return this.hour=12;12===this.hour&&this.toggleMeridian()}if(0===this.hour)return this.hour=23;this.hour-=1},incrementMinute:function(){var a=this.minute+this.minuteStep-this.minute%this.minuteStep;59<a?(this.incrementHour(),this.minute=a-60):this.minute=a},decrementMinute:function(){var a=this.minute-this.minuteStep;0>a?(this.decrementHour(),this.minute=a+60):this.minute=a},incrementSecond:function(){var a=
this.second+this.secondStep-this.second%this.secondStep;59<a?(this.incrementMinute(),this.second=a-60):this.second=a},decrementSecond:function(){var a=this.second-this.secondStep;0>a?(this.decrementMinute(),this.second=a+60):this.second=a},toggleMeridian:function(){this.meridian="AM"===this.meridian?"PM":"AM";this.update()},getTemplate:function(){if(this.options.templates[this.options.template])return this.options.templates[this.options.template];if(this.showInputs)var a='<input type="text" name="hour" class="bootstrap-timepicker-hour" maxlength="2"/>',
d='<input type="text" name="minute" class="bootstrap-timepicker-minute" maxlength="2"/>',b='<input type="text" name="second" class="bootstrap-timepicker-second" maxlength="2"/>',h='<input type="text" name="meridian" class="bootstrap-timepicker-meridian" maxlength="2"/>';else a='<span class="bootstrap-timepicker-hour"></span>',d='<span class="bootstrap-timepicker-minute"></span>',b='<span class="bootstrap-timepicker-second"></span>',h='<span class="bootstrap-timepicker-meridian"></span>';var a='<table class="'+
(this.showSeconds?"show-seconds":"")+" "+(this.showMeridian?"show-meridian":"")+'"><tr><td><a href="#" data-action="incrementHour"><i class="icon-chevron-up"></i></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><i class="icon-chevron-up"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="icon-chevron-up"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="icon-chevron-up"></i></a></td>':
"")+"</tr><tr><td>"+a+'</td> <td class="separator">:</td><td>'+d+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+b+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+h+"</td>":"")+'</tr><tr><td><a href="#" data-action="decrementHour"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><i class="icon-chevron-down"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="icon-chevron-down"></i></a></td>':
"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="icon-chevron-down"></i></a></td>':"")+"</tr></table>",f;switch(this.options.template){case "modal":f='<div class="bootstrap-timepicker modal hide fade in" style="top: 30%; margin-top: 0; width: 200px; margin-left: -100px;" data-backdrop="'+(this.modalBackdrop?"true":"false")+'"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">\u00d7</a><h3>Pick a Time</h3></div><div class="modal-content">'+
a+'</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">Ok</a></div></div>';break;case "dropdown":f='<div class="bootstrap-timepicker dropdown-menu">'+a+"</div>"}return f}};a.fn.timepicker=function(c){return this.each(function(){var e=a(this),b=e.data("timepicker"),h="object"==typeof c&&c;b||e.data("timepicker",b=new d(this,h));if("string"==typeof c)b[c]()})};a.fn.timepicker.defaults={minuteStep:15,secondStep:15,disableFocus:!1,defaultTime:"current",showSeconds:!1,
showInputs:!0,showMeridian:!0,template:"dropdown",modalBackdrop:!1,templates:{}};a.fn.timepicker.Constructor=d}(window.jQuery);!function(a){a.fn.toggleButtons=function(d){var c,e,b=0.05,h={init:function(d){this.each(function(){var h,j,g,l,m={};c=a(this);c.addClass("toggle-button");a.each(c.data(),function(b,c){var d,e={};if(0===b.indexOf("togglebutton")){d=b.match(/[A-Z][a-z]+/g);d=a.map(d,function(a){return a.toLowerCase()});for(var f=e,g=0,h=d.length;g<h;g++)f=f[d[g]]=f[d[g]]||g==h-1?c:{};m=a.extend(!0,m,e)}});g=a.extend(!0,{},a.fn.toggleButtons.defaults,d,m);a(this).data("options",g);h=a("<span></span>").addClass("labelLeft").text(void 0===
g.label.enabled?"ON":g.label.enabled);j=a("<span></span>").addClass("labelRight").text(void 0===g.label.disabled?"OFF ":g.label.disabled);e=c.find("input:checkbox").wrap(a("<div></div>")).parent();e.append(h);e.append(a("<label></label>").attr("for",c.find("input").attr("id")));e.append(j);c.find("input").is(":checked")?c.find(">div").css("left","0"):c.find(">div").css("left","-50%");g.animated?void 0!==g.transitionspeed&&(b=/^(\d*%$)/.test(g.transitionspeed)?0.05*parseInt(g.transitionspeed)/100:
g.transitionspeed):b=0;a(this).data("transitionSpeed",1E3*b);g.width/=2;c.css("width",2*g.width).find(">div").css("width",3*g.width).find(">span, >label").css("width",g.width);c.css("height",g.height).find("span, label").css("height",g.height).filter("span").css("line-height",g.height+"px");c.find("input").is(":disabled")&&a(this).addClass("deactivate");c.find("span").css(g.font);void 0===g.style.enabled?void 0!==g.style.custom&&(void 0!==g.style.custom.enabled&&void 0!==g.style.custom.enabled.background)&&
(h.css("color",g.style.custom.enabled.color),void 0===g.style.custom.enabled.gradient?h.css("background",g.style.custom.enabled.background):a.each(["-webkit-","-moz-","-o-",""],function(a,b){h.css("background-image",b+"linear-gradient(top, "+g.style.custom.enabled.background+","+g.style.custom.enabled.gradient+")")})):h.addClass(g.style.enabled);void 0===g.style.disabled?void 0!==g.style.custom&&(void 0!==g.style.custom.disabled&&void 0!==g.style.custom.disabled.background)&&(j.css("color",g.style.custom.disabled.color),
void 0===g.style.custom.disabled.gradient?j.css("background",g.style.custom.disabled.background):a.each(["-webkit-","-moz-","-o-",""],function(a,b){j.css("background-image",b+"linear-gradient(top, "+g.style.custom.disabled.background+","+g.style.custom.disabled.gradient+")")})):j.addClass(g.style.disabled);var r=function(a){a.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};h.on("click",function(){r(a(this))});j.on("click",function(){r(a(this))});c.find("input").on("change",
function(b,c){var d=a(this).parent(),e=a(this).is(":checked"),f=a(this).closest(".toggle-button");d.stop().animate({left:e?"0":"-50%"},f.data("transitionSpeed"));g=f.data("options");if(!c)g.onChange(d,e,b)});c.find("label").on("mousedown touchstart",function(b){l=!1;b.preventDefault();b.stopImmediatePropagation();a(this).closest(".toggle-button").is(".deactivate")?a(this).off("click"):(a(this).on("mousemove touchmove",function(b){var c=a(this).closest(".toggle-button"),d=100*(((b.pageX||b.originalEvent.targetTouches[0].pageX)-
c.offset().left)/(2*g.width));l=!0;b.stopImmediatePropagation();b.preventDefault();25>d?d=25:75<d&&(d=75);c.find(">div").css("left",d-75+"%")}),a(this).on("click touchend",function(b){var c=a(b.target).siblings("input");b.stopImmediatePropagation();b.preventDefault();a(this).off("mouseleave");l?-25>parseInt(a(this).parent().css("left"))?c.attr("checked",!1):c.attr("checked",!0):c.attr("checked",!c.is(":checked"));c.trigger("change")}),a(this).on("mouseleave",function(b){var c=a(this).siblings("input");
b.preventDefault();b.stopImmediatePropagation();a(this).off("mouseleave");a(this).trigger("mouseup");-25>parseInt(a(this).parent().css("left"))?c.attr("checked",!1):c.attr("checked",!0);c.trigger("change")}),a(this).on("mouseup",function(b){b.stopImmediatePropagation();b.preventDefault();a(this).off("mousemove")}))})});return this},toggleActivation:function(){a(this).toggleClass("deactivate")},toggleState:function(b){var c=a(this).find("input");c.attr("checked",!c.is(":checked")).trigger("change",
b)},setState:function(b,c){a(this).find("input").attr("checked",b).trigger("change",c)},status:function(){return a(this).find("input:checkbox").is(":checked")},destroy:function(){var b=a(this).find("div");b.find(":not(input:checkbox)").remove();b=b.children();b.unwrap().unwrap();b.unbind("change");return b}};if(h[d])return h[d].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof d||!d)return h.init.apply(this,arguments);a.error("Method "+d+" does not exist!")};a.fn.toggleButtons.defaults=
{onChange:function(){},width:100,height:25,font:{},animated:!0,transitionspeed:void 0,label:{enabled:void 0,disabled:void 0},style:{enabled:void 0,disabled:void 0,custom:{enabled:{background:void 0,gradient:void 0,color:"#FFFFFF"},disabled:{background:void 0,gradient:void 0,color:"#FFFFFF"}}}}}($);(function(a){a.fn.qrcode=function(d){function c(a){this.mode=k;this.data=a}function e(a,b){this.typeNumber=a;this.errorCorrectLevel=b;this.modules=null;this.moduleCount=0;this.dataCache=null;this.dataList=[]}function b(a,b){if(void 0==a.length)throw Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function h(a,b){this.totalCount=a;this.dataCount=b}function f(){this.buffer=[];this.length=0}var k;c.prototype={getLength:function(){return this.data.length},
write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}};e.prototype={addData:function(a){this.dataList.push(new c(a));this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var b=h.getRSBlocks(a,this.errorCorrectLevel),c=new f,d=0,e=0;e<b.length;e++)d+=b[e].dataCount;
for(e=0;e<this.dataList.length;e++)b=this.dataList[e],c.put(b.mode,4),c.put(b.getLength(),j.getLengthInBits(b.mode,a)),b.write(c);if(c.getLengthInBits()<=8*d)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17;this.modules=Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-
7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(a,b);7<=this.typeNumber&&this.setupTypeNumber(a);null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList));this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(this.modules[a+c][b+d]=
0<=c&&6>=c&&(0==d||6==d)||0<=d&&6>=d&&(0==c||6==c)||2<=c&&4>=c&&2<=d&&4>=d?!0:!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=j.getLostPoint(this);if(0==c||a>d)a=d,b=c}return b},createMovieClip:function(a,b,c){a=a.createEmptyMovieClip(b,c);this.make();for(b=0;b<this.modules.length;b++){c=1*b;for(var d=0;d<this.modules[b].length;d++){var e=1*d;this.modules[b][d]&&(a.beginFill(0,100),a.moveTo(e,c),a.lineTo(e+1,c),a.lineTo(e+1,c+1),a.lineTo(e,c+1),a.endFill())}}return a},
setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=j.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)this.modules[d+f][e+g]=-2==f||2==f||-2==g||2==g||0==f&&0==g?!0:!1}},setupTypeNumber:function(a){for(var b=
j.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(c=0;18>c;c++)d=!a&&1==(b>>c&1),this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d},setupTypeInfo:function(a,b){for(var c=j.getBCHTypeInfo(this.errorCorrectLevel<<3|b),d=0;15>d;d++){var e=!a&&1==(c>>d&1);6>d?this.modules[d][8]=e:8>d?this.modules[d+1][8]=e:this.modules[this.moduleCount-15+d][8]=e}for(d=0;15>d;d++)e=!a&&1==(c>>d&1),8>d?this.modules[8][this.moduleCount-
d-1]=e:9>d?this.modules[8][15-d-1+1]=e:this.modules[8][15-d-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;0<g;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var l=!1;f<a.length&&(l=1==(a[f]>>>e&1));j.getMask(b,d,g-h)&&(l=!l);this.modules[d][g-h]=l;e--; -1==e&&(f++,e=7)}d+=c;if(0>d||this.moduleCount<=d){d-=c;c=-c;break}}}};e.PAD0=236;e.PAD1=17;e.createData=function(a,b,c){b=h.getRSBlocks(a,
b);for(var d=new f,g=0;g<c.length;g++){var l=c[g];d.put(l.mode,4);d.put(l.getLength(),j.getLengthInBits(l.mode,a));l.write(d)}for(g=a=0;g<b.length;g++)a+=b[g].dataCount;if(d.getLengthInBits()>8*a)throw Error("code length overflow. ("+d.getLengthInBits()+">"+8*a+")");for(d.getLengthInBits()+4<=8*a&&d.put(0,4);0!=d.getLengthInBits()%8;)d.putBit(!1);for(;!(d.getLengthInBits()>=8*a);){d.put(e.PAD0,8);if(d.getLengthInBits()>=8*a)break;d.put(e.PAD1,8)}return e.createBytes(d,b)};e.createBytes=function(a,
c){for(var d=0,e=0,f=0,g=Array(c.length),h=Array(c.length),l=0;l<c.length;l++){var k=c[l].dataCount,z=c[l].totalCount-k,e=Math.max(e,k),f=Math.max(f,z);g[l]=Array(k);for(var s=0;s<g[l].length;s++)g[l][s]=255&a.buffer[s+d];d+=k;s=j.getErrorCorrectPolynomial(z);k=(new b(g[l],s.getLength()-1)).mod(s);h[l]=Array(s.getLength()-1);for(s=0;s<h[l].length;s++)z=s+k.getLength()-h[l].length,h[l][s]=0<=z?k.get(z):0}for(s=l=0;s<c.length;s++)l+=c[s].totalCount;d=Array(l);for(s=k=0;s<e;s++)for(l=0;l<c.length;l++)s<
g[l].length&&(d[k++]=g[l][s]);for(s=0;s<f;s++)for(l=0;l<c.length;l++)s<h[l].length&&(d[k++]=h[l][s]);return d};k=4;for(var j={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,
126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;0<=j.getBCHDigit(b)-j.getBCHDigit(j.G15);)b^=j.G15<<j.getBCHDigit(b)-j.getBCHDigit(j.G15);return(a<<10|b)^j.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;0<=
j.getBCHDigit(b)-j.getBCHDigit(j.G18);)b^=j.G18<<j.getBCHDigit(b)-j.getBCHDigit(j.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return j.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case 0:return 0==(b+c)%2;case 1:return 0==b%2;case 2:return 0==c%3;case 3:return 0==(b+c)%3;case 4:return 0==(Math.floor(b/2)+Math.floor(c/3))%2;case 5:return 0==b*c%2+b*c%3;case 6:return 0==(b*c%2+b*c%3)%2;case 7:return 0==(b*c%3+(b+
c)%2)%2;default:throw Error("bad maskPattern:"+a);}},getErrorCorrectPolynomial:function(a){for(var c=new b([1],0),d=0;d<a;d++)c=c.multiply(new b([1,g.gexp(d)],0));return c},getLengthInBits:function(a,b){if(1<=b&&10>b)switch(a){case 1:return 10;case 2:return 9;case k:return 8;case 8:return 8;default:throw Error("mode:"+a);}else if(27>b)switch(a){case 1:return 12;case 2:return 11;case k:return 16;case 8:return 10;default:throw Error("mode:"+a);}else if(41>b)switch(a){case 1:return 14;case 2:return 13;
case k:return 16;case 8:return 12;default:throw Error("mode:"+a);}else throw Error("type:"+b);},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;d<b;d++)for(var e=0;e<b;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||b<=d+h))for(var j=-1;1>=j;j++)0>e+j||b<=e+j||0==h&&0==j||g==a.isDark(d+h,e+j)&&f++;5<f&&(c+=3+f-5)}for(d=0;d<b-1;d++)for(e=0;e<b-1;e++)if(f=0,a.isDark(d,e)&&f++,a.isDark(d+1,e)&&f++,a.isDark(d,e+1)&&f++,a.isDark(d+1,e+1)&&f++,0==f||4==f)c+=3;for(d=0;d<b;d++)for(e=
0;e<b-6;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(e=0;e<b;e++)for(d=0;d<b-6;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(e=f=0;e<b;e++)for(d=0;d<b;d++)a.isDark(d,e)&&f++;a=Math.abs(100*f/b/b-50)/5;return c+10*a}},g={glog:function(a){if(1>a)throw Error("glog("+a+")");return g.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=
255;for(;256<=a;)a-=255;return g.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},l=0;8>l;l++)g.EXP_TABLE[l]=1<<l;for(l=8;256>l;l++)g.EXP_TABLE[l]=g.EXP_TABLE[l-4]^g.EXP_TABLE[l-5]^g.EXP_TABLE[l-6]^g.EXP_TABLE[l-8];for(l=0;255>l;l++)g.LOG_TABLE[g.EXP_TABLE[l]]=l;b.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var c=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var e=0;e<a.getLength();e++)c[d+e]^=
g.gexp(g.glog(this.get(d))+g.glog(a.get(e)));return new b(c,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var c=g.glog(this.get(0))-g.glog(a.get(0)),d=Array(this.getLength()),e=0;e<this.getLength();e++)d[e]=this.get(e);for(e=0;e<a.getLength();e++)d[e]^=g.gexp(g.glog(a.get(e))+c);return(new b(d,0)).mod(a)}};h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],
[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,
15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,
48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],
[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,
24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,
25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];h.getRSBlocks=function(a,b){var c=h.getRsBlockTable(a,b);if(void 0==c)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,e=[],f=0;f<d;f++)for(var g=c[3*f+0],j=c[3*f+1],l=c[3*f+2],k=0;k<g;k++)e.push(new h(j,l));return e};h.getRsBlockTable=function(a,b){switch(b){case 1:return h.RS_BLOCK_TABLE[4*
(a-1)+0];case 0:return h.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return h.RS_BLOCK_TABLE[4*(a-1)+2];case 2:return h.RS_BLOCK_TABLE[4*(a-1)+3]}};f.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,b){for(var c=0;c<b;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0);a&&(this.buffer[b]|=128>>>this.length%8);this.length++}};"string"===typeof d&&
(d={text:d});d=a.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},d);return this.each(function(){var b;if("canvas"==d.render){b=new e(d.typeNumber,d.correctLevel);b.addData(d.text);b.make();var c=document.createElement("canvas");c.width=d.width;c.height=d.height;for(var f=c.getContext("2d"),g=d.width/b.getModuleCount(),h=d.height/b.getModuleCount(),j=0;j<b.getModuleCount();j++)for(var l=0;l<b.getModuleCount();l++){f.fillStyle=
b.isDark(j,l)?d.foreground:d.background;var k=Math.ceil((l+1)*g)-Math.floor(l*g),E=Math.ceil((j+1)*g)-Math.floor(j*g);f.fillRect(Math.round(l*g),Math.round(j*h),k,E)}}else{b=new e(d.typeNumber,d.correctLevel);b.addData(d.text);b.make();c=a("<table></table>").css("width",d.width+"px").css("height",d.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",d.background);f=d.width/b.getModuleCount();g=d.height/b.getModuleCount();for(h=0;h<b.getModuleCount();h++){j=a("<tr></tr>").css("height",
g+"px").appendTo(c);for(l=0;l<b.getModuleCount();l++)a("<td></td>").css("width",f+"px").css("background-color",b.isDark(h,l)?d.foreground:d.background).appendTo(j)}}jQuery(c).appendTo(this)})}})(jQuery);!function(a){var d=function(c,d){this.$element=a(c);this.$note=a('<div class="alert"></div>');this.options=a.extend({},a.fn.notify.defaults,d);this.options.transition?"fade"==this.options.transition?this.$note.addClass("in").addClass(this.options.transition):this.$note.addClass(this.options.transition):this.$note.addClass("fade").addClass("in");this.options.type?this.$note.addClass("alert-"+this.options.type):this.$note.addClass("alert-success");"object"===typeof this.options.message&&(this.options.message.html?
this.$note.html(this.options.message.html):this.options.message.text?this.$note.text(this.options.message.text):this.$note.html(this.options.message));this.options.closable&&this.$note.prepend(a('<a class="close pull-right" data-dismiss="alert" href="#">&times;</a>'));return this};d.prototype.show=function(){var c=this;this.options.fadeOut.enabled&&this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",function(){c.options.onClose();a(this).remove();c.options.onClosed()});this.$element.append(this.$note);
this.$note.alert()};d.prototype.hide=function(){var c=this;this.options.fadeOut.enabled?this.$note.delay(this.options.fadeOut.delay||3E3).fadeOut("slow",function(){c.options.onClose();a(this).remove();c.options.onClosed()}):(c.options.onClose(),this.$note.remove(),c.options.onClosed())};a.fn.notify=function(a){return new d(this,a)};a.fn.notify.defaults={type:"success",closable:!0,transition:"fade",fadeOut:{enabled:!0,delay:3E3},message:{html:!1,text:"This is a message."},onClose:function(){},onClosed:function(){}}}(window.jQuery);var Spinner=function(a,d){this.$element=$(a);this.options=$.extend({},$.fn.spinner.defaults,d);this.$input=this.$element.find(".spinner-input");this.$element.on("keyup",this.$input,$.proxy(this.change,this));this.options.hold?(this.$element.on("mousedown",".spinner-up",$.proxy(function(){this.startSpin(!0)},this)),this.$element.on("mouseup",".spinner-up, .spinner-down",$.proxy(this.stopSpin,this)),this.$element.on("mouseout",".spinner-up, .spinner-down",$.proxy(this.stopSpin,this)),this.$element.on("mousedown",
".spinner-down",$.proxy(function(){this.startSpin(!1)},this))):(this.$element.on("click",".spinner-up",$.proxy(function(){this.step(!0)},this)),this.$element.on("click",".spinner-down",$.proxy(function(){this.step(!1)},this)));this.switches={count:1,enabled:!0};this.switches.speed="medium"===this.options.speed?300:"fast"===this.options.speed?100:500;this.render();this.options.disabled&&this.disable()};
Spinner.prototype={constructor:Spinner,render:function(){this.$input.val(this.options.value);this.$input.attr("maxlength",(this.options.max+"").split("").length)},change:function(){var a=this.$input.val();a/1||(a=a.replace(/[^0-9]/g,""),this.$input.val(a));this.options.value=a/1;this.$element.trigger("change")},stopSpin:function(){clearTimeout(this.switches.timeout);this.switches.count=1;this.$element.trigger("change")},startSpin:function(a){if(!this.options.disabled){var d=this.switches.count;1===
d?(this.step(a),d=1):d=3>d?1.5:8>d?2.5:4;this.switches.timeout=setTimeout($.proxy(function(){this.iterator(a)},this),this.switches.speed/d);this.switches.count++}},iterator:function(a){this.step(a);this.startSpin(a)},step:function(a){var d=this.options.value,c=a?this.options.max:this.options.min;if(a?d<c:d>c)d+=(a?1:-1)*this.options.step,(a?d>c:d<c)?this.value(c):this.value(d)},value:function(a){return"undefined"!==typeof a?(this.options.value=a,this.$input.val(a),this):this.options.value},disable:function(){this.options.disabled=
!0;this.$input.attr("disabled","");this.$element.find("button").addClass("disabled")},enable:function(){this.options.disabled=!1;this.$input.removeAttr("disabled");this.$element.find("button").removeClass("disabled")}};$.fn.spinner=function(a,d){var c,e=this.each(function(){var b=$(this),e=b.data("spinner"),f="object"===typeof a&&a;e||b.data("spinner",e=new Spinner(this,f));"string"===typeof a&&(c=e[a](d))});return void 0===c?e:c};
$.fn.spinner.defaults={value:1,min:1,max:999,step:1,hold:!0,speed:"medium",disabled:!1};$.fn.spinner.Constructor=Spinner;$(function(){$("body").on("mousedown.spinner.data-api",".spinner",function(){var a=$(this);a.data(".spinner")||a.spinner(a.data())})});/*
 wysihtml5 v0.3.0
 https://github.com/xing/wysihtml5

 Author: Christopher Blum (https://github.com/tiff)

 Copyright (C) 2012 XING AG
 Licensed under the MIT license (MIT)

 Rangy, a cross-browser JavaScript range and selection library
 http://code.google.com/p/rangy/

 Copyright 2011, Tim Down
 Licensed under the MIT license.
 Version: 1.2.2
 Build date: 13 November 2011
*/
var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};
window.rangy=function(){function a(a,b){var c=typeof a[b];return c==g||!!(c==j&&a[b])||"unknown"==c}function d(a,b){return!!(typeof a[b]==j&&a[b])}function c(a,b){return typeof a[b]!=l}function e(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function b(a){return a&&n(a,t)&&w(a,p)}function h(a){window.alert("Rangy not supported in your browser. Reason: "+a);v.initialized=!0;v.supported=!1}function f(){if(!v.initialized){var c,e=!1,f=!1;a(document,"createRange")&&
(c=document.createRange(),n(c,r)&&w(c,m)&&(e=!0),c.detach());if((c=d(document,"body")?document.body:document.getElementsByTagName("body")[0])&&a(c,"createTextRange"))c=c.createTextRange(),b(c)&&(f=!0);!e&&!f&&h("Neither Range nor TextRange are implemented");v.initialized=!0;v.features={implementsDomRange:e,implementsTextRange:f};e=z.concat(E);f=0;for(c=e.length;f<c;++f)try{e[f](v)}catch(g){d(window,"console")&&a(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",
g)}}}function k(a){this.name=a;this.supported=this.initialized=!1}var j="object",g="function",l="undefined",m="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer START_TO_START START_TO_END END_TO_START END_TO_END".split(" "),r="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),
p="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),t="collapse compareEndPoints duplicate getBookmark moveToBookmark moveToElementText parentElement pasteHTML select setEndPoint getBoundingClientRect".split(" "),n=e(a),u=e(d),w=e(c),v={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:d,isHostProperty:c,areHostMethods:n,areHostObjects:u,areHostProperties:w,isTextRange:b},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};
v.fail=h;v.warn=function(a){a="Rangy warning: "+a;v.config.alertOnWarn?window.alert(a):typeof window.console!=l&&typeof window.console.log!=l&&window.console.log(a)};({}).hasOwnProperty?v.util.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}:h("hasOwnProperty not supported");var E=[],z=[];v.init=f;v.addInitListener=function(a){v.initialized?a(v):E.push(a)};var s=[];v.addCreateMissingNativeApiListener=function(a){s.push(a)};v.createMissingNativeApi=function(a){a=a||window;f();
for(var b=0,c=s.length;b<c;++b)s[b](a)};k.prototype.fail=function(a){this.initialized=!0;this.supported=!1;throw Error("Module '"+this.name+"' failed to load: "+a);};k.prototype.warn=function(a){v.warn("Module "+this.name+": "+a)};k.prototype.createError=function(a){return Error("Error in Rangy "+this.name+" module: "+a)};v.createModule=function(a,b){var c=new k(a);v.modules[a]=c;z.push(function(a){b(a,c);c.initialized=!0;c.supported=!0})};v.requireModules=function(a){for(var b=0,c=a.length,d,e;b<
c;++b){e=a[b];d=v.modules[e];if(!d||!(d instanceof k))throw Error("Module '"+e+"' not found");if(!d.supported)throw Error("Module '"+e+"' not supported");}};var L=!1,u=function(){L||(L=!0,v.initialized||f())};if(typeof window==l)h("No window found");else if(typeof document==l)h("No document found");else return a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",u,!1),a(window,"addEventListener")?window.addEventListener("load",u,!1):a(window,"attachEvent")?window.attachEvent("onload",
u):h("Window does not have required addEventListener or attachEvent method"),v}();
rangy.createModule("DomUtil",function(a,d){function c(a){for(var b=0;a=a.previousSibling;)b++;return b}function e(a,b){var c=[],d;for(d=a;d;d=d.parentNode)c.push(d);for(d=b;d;d=d.parentNode)if(n(c,d))return d;return null}function b(a,b,c){for(c=c?a:a.parentNode;c;){a=c.parentNode;if(a===b)return c;c=a}return null}function h(a){a=a.nodeType;return 3==a||4==a||8==a}function f(a,b){var c=b.nextSibling,d=b.parentNode;c?d.insertBefore(a,c):d.appendChild(a);return a}function k(a){if(9==a.nodeType)return a;
if(typeof a.ownerDocument!=r)return a.ownerDocument;if(typeof a.document!=r)return a.document;if(a.parentNode)return k(a.parentNode);throw Error("getDocument: no document found for node");}function j(a){return!a?"[No node]":h(a)?'"'+a.data+'"':1==a.nodeType?"<"+a.nodeName+(a.id?' id="'+a.id+'"':"")+">["+a.childNodes.length+"]":a.nodeName}function g(a){this._next=this.root=a}function l(a,b){this.node=a;this.offset=b}function m(a){this.code=this[a];this.codeName=a;this.message="DOMException: "+this.codeName}
var r="undefined",p=a.util;p.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||d.fail("document missing a Node creation method");p.isHostMethod(document,"getElementsByTagName")||d.fail("document missing getElementsByTagName method");var t=document.createElement("div");p.areHostMethods(t,["insertBefore","appendChild","cloneNode"])||d.fail("Incomplete Element implementation");p.isHostProperty(t,"innerHTML")||d.fail("Element is missing innerHTML property");t=document.createTextNode("test");
p.areHostMethods(t,["splitText","deleteData","insertData","appendData","cloneNode"])||d.fail("Incomplete Text Node implementation");var n=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};g.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next,b;if(this._current){b=a.firstChild;if(!b)for(b=null;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=
null}};l.prototype={equals:function(a){return this.node===a.node&this.offset==a.offset},inspect:function(){return"[DomPosition("+j(this.node)+":"+this.offset+")]"}};m.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};m.prototype.toString=function(){return this.message};a.dom={arrayContains:n,isHtmlNamespace:function(a){var b;return typeof a.namespaceURI==r||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==
b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:null},getNodeIndex:c,getNodeLength:function(a){var b;return h(a)?a.length:(b=a.childNodes)?b.length:0},getCommonAncestor:e,isAncestorOf:function(a,b,c){for(b=c?b:b.parentNode;b;){if(b===a)return!0;b=b.parentNode}return!1},getClosestAncestorIn:b,isCharacterDataNode:h,insertAfter:f,splitDataNode:function(a,b){var c=a.cloneNode(!1);c.deleteData(0,b);a.deleteData(b,a.length-b);f(c,a);return c},getDocument:k,getWindow:function(a){a=k(a);
if(typeof a.defaultView!=r)return a.defaultView;if(typeof a.parentWindow!=r)return a.parentWindow;throw Error("Cannot get a window object for node");},getIframeWindow:function(a){if(typeof a.contentWindow!=r)return a.contentWindow;if(typeof a.contentDocument!=r)return a.contentDocument.defaultView;throw Error("getIframeWindow: No Window object found for iframe element");},getIframeDocument:function(a){if(typeof a.contentDocument!=r)return a.contentDocument;if(typeof a.contentWindow!=r)return a.contentWindow.document;
throw Error("getIframeWindow: No Document object found for iframe element");},getBody:function(a){return p.isHostObject(a,"body")?a.body:a.getElementsByTagName("body")[0]},getRootContainer:function(a){for(var b;b=a.parentNode;)a=b;return a},comparePoints:function(a,d,f,g){var h;if(a==f)return d===g?0:d<g?-1:1;if(h=b(f,a,!0))return d<=c(h)?-1:1;if(h=b(a,f,!0))return c(h)<g?-1:1;d=e(a,f);a=a===d?d:b(a,d,!0);f=f===d?d:b(f,d,!0);if(a===f)throw Error("comparePoints got to case 4 and childA and childB are the same!");
for(d=d.firstChild;d;){if(d===a)return-1;if(d===f)return 1;d=d.nextSibling}throw Error("Should not be here!");},inspectNode:j,fragmentFromNodeChildren:function(a){for(var b=k(a).createDocumentFragment(),c;c=a.firstChild;)b.appendChild(c);return b},createIterator:function(a){return new g(a)},DomPosition:l};a.DOMException=m});
rangy.createModule("DomRange",function(a){function d(a,b){return 3!=a.nodeType&&(y.isAncestorOf(a,b.startContainer,!0)||y.isAncestorOf(a,b.endContainer,!0))}function c(a){return y.getDocument(a.startContainer)}function e(a,b,c){if(b=a._listeners[b])for(var d=0,e=b.length;d<e;++d)b[d].call(a,{target:a,args:c})}function b(a){return new M(a.parentNode,y.getNodeIndex(a))}function h(a){return new M(a.parentNode,y.getNodeIndex(a)+1)}function f(a,b,c){var d=11==a.nodeType?a.firstChild:a;y.isCharacterDataNode(b)?
c==b.length?y.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:y.splitDataNode(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]);return d}function k(a){for(var b,d,e=c(a.range).createDocumentFragment();d=a.next();){b=a.isPartiallySelectedSubtree();d=d.cloneNode(!b);b&&(b=a.getSubtreeIterator(),d.appendChild(k(b)),b.detach(!0));if(10==d.nodeType)throw new N("HIERARCHY_REQUEST_ERR");e.appendChild(d)}return e}function j(a,b,c){var d,e;for(c=c||{stop:!1};d=a.next();)if(a.isPartiallySelectedSubtree())if(!1===
b(d)){c.stop=!0;break}else{if(d=a.getSubtreeIterator(),j(d,b,c),d.detach(!0),c.stop)break}else for(d=y.createIterator(d);e=d.next();)if(!1===b(e)){c.stop=!0;return}}function g(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),g(b),b.detach(!0)):a.remove()}function l(a){for(var b,d=c(a.range).createDocumentFragment(),e;b=a.next();){a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),e=a.getSubtreeIterator(),b.appendChild(l(e)),e.detach(!0)):a.remove();if(10==b.nodeType)throw new N("HIERARCHY_REQUEST_ERR");
d.appendChild(b)}return d}function m(a,b,c){var d=!(!b||!b.length),e,f=!!c;d&&(e=RegExp("^("+b.join("|")+")$"));var g=[];j(new p(a,!1),function(a){(!d||e.test(a.nodeType))&&(!f||c(a))&&g.push(a)});return g}function r(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+y.inspectNode(a.startContainer)+":"+a.startOffset+", "+y.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function p(a,b){this.range=a;this.clonePartiallySelectedTextNodes=b;if(!a.collapsed){this.sc=a.startContainer;
this.so=a.startOffset;this.ec=a.endContainer;this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&y.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc===c&&!y.isCharacterDataNode(this.sc)?this.sc.childNodes[this.so]:y.getClosestAncestorIn(this.sc,c,!0),this._last=this.ec===c&&!y.isCharacterDataNode(this.ec)?this.ec.childNodes[this.eo-1]:y.getClosestAncestorIn(this.ec,c,!0))}}function t(a){this.code=
this[a];this.codeName=a;this.message="RangeException: "+this.codeName}function n(a,b,c){this.nodes=m(a,b,c);this._next=this.nodes[0];this._position=0}function u(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){d=e.nodeType;if(y.arrayContains(a,d))return e;e=e.parentNode}return null}}function w(a,b){if(Y(a,b))throw new t("INVALID_NODE_TYPE_ERR");}function v(a){if(!a.startContainer)throw new N("INVALID_STATE_ERR");}function E(a,b){if(!y.arrayContains(b,a.nodeType))throw new t("INVALID_NODE_TYPE_ERR");
}function z(a,b){if(0>b||b>(y.isCharacterDataNode(a)?a.length:a.childNodes.length))throw new N("INDEX_SIZE_ERR");}function s(a,b){if(X(a,!0)!==X(b,!0))throw new N("WRONG_DOCUMENT_ERR");}function L(a){if(W(a,!0))throw new N("NO_MODIFICATION_ALLOWED_ERR");}function A(a,b){if(!a)throw new N(b);}function D(a){v(a);if(!y.arrayContains(O,a.startContainer.nodeType)&&!X(a.startContainer,!0)||!y.arrayContains(O,a.endContainer.nodeType)&&!X(a.endContainer,!0)||!(a.startOffset<=(y.isCharacterDataNode(a.startContainer)?
a.startContainer.length:a.startContainer.childNodes.length))||!(a.endOffset<=(y.isCharacterDataNode(a.endContainer)?a.endContainer.length:a.endContainer.childNodes.length)))throw Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")");}function B(){}function H(a){a.START_TO_START=fa;a.START_TO_END=la;a.END_TO_END=ha;a.END_TO_START=ta;a.NODE_BEFORE=qa;a.NODE_AFTER=ua;a.NODE_BEFORE_AND_AFTER=va;a.NODE_INSIDE=na}function C(a){H(a);H(a.prototype)}function I(a,b){return function(){D(this);
var c=this.startContainer,d=this.startOffset,e=this.commonAncestorContainer,f=new p(this,!0);c!==e&&(c=y.getClosestAncestorIn(c,e,!0),d=h(c),c=d.node,d=d.offset);j(f,L);f.reset();e=a(f);f.detach();b(this,c,d,c,d);return e}}function V(c,e,f){function j(a,c){return function(d){v(this);E(d,J);E(T(d),O);d=(a?b:h)(d);(c?k:m)(this,d.node,d.offset)}}function k(a,b,c){var d=a.endContainer,f=a.endOffset;if(b!==a.startContainer||c!==a.startOffset){if(T(b)!=T(d)||1==y.comparePoints(b,c,d,f))d=b,f=c;e(a,b,c,
d,f)}}function m(a,b,c){var d=a.startContainer,f=a.startOffset;if(b!==a.endContainer||c!==a.endOffset){if(T(b)!=T(d)||-1==y.comparePoints(b,c,d,f))d=b,f=c;e(a,d,f,b,c)}}c.prototype=new B;a.util.extend(c.prototype,{setStart:function(a,b){v(this);w(a,!0);z(a,b);k(this,a,b)},setEnd:function(a,b){v(this);w(a,!0);z(a,b);m(this,a,b)},setStartBefore:j(!0,!0),setStartAfter:j(!1,!0),setEndBefore:j(!0,!1),setEndAfter:j(!1,!1),collapse:function(a){D(this);a?e(this,this.startContainer,this.startOffset,this.startContainer,
this.startOffset):e(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){v(this);w(a,!0);e(this,a,0,a,y.getNodeLength(a))},selectNode:function(a){v(this);w(a,!1);E(a,J);var c=b(a);a=h(a);e(this,c.node,c.offset,a.node,a.offset)},extractContents:I(l,e),deleteContents:I(g,e),canSurroundContents:function(){D(this);L(this.startContainer);L(this.endContainer);var a=new p(this,!0),b=a._first&&d(a._first,this)||a._last&&d(a._last,this);a.detach();return!b},
detach:function(){f(this)},splitBoundaries:function(){D(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,d=this.endOffset,f=a===c;y.isCharacterDataNode(c)&&(0<d&&d<c.length)&&y.splitDataNode(c,d);y.isCharacterDataNode(a)&&(0<b&&b<a.length)&&(a=y.splitDataNode(a,b),f?(d-=b,c=a):c==a.parentNode&&d>=y.getNodeIndex(a)&&d++,b=0);e(this,a,b,c,d)},normalizeBoundaries:function(){D(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,d=this.endOffset,f=function(a){var b=
a.nextSibling;b&&b.nodeType==a.nodeType&&(c=a,d=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},g=function(e){var f=e.previousSibling;if(f&&f.nodeType==e.nodeType){a=e;var g=e.length;b=f.length;e.insertData(0,f.data);f.parentNode.removeChild(f);a==c?(d+=b,c=a):c==e.parentNode&&(f=y.getNodeIndex(e),d==f?(c=e,d=g):d>f&&d--)}},h=!0;y.isCharacterDataNode(c)?c.length==d&&f(c):(0<d&&(h=c.childNodes[d-1])&&y.isCharacterDataNode(h)&&f(h),h=!this.collapsed);h?y.isCharacterDataNode(a)?0==b&&g(a):
b<a.childNodes.length&&(f=a.childNodes[b])&&y.isCharacterDataNode(f)&&g(f):(a=c,b=d);e(this,a,b,c,d)},collapseToPoint:function(a,b){v(this);w(a,!0);z(a,b);(a!==this.startContainer||b!==this.startOffset||a!==this.endContainer||b!==this.endOffset)&&e(this,a,b,a,b)}});C(c)}function R(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:y.getCommonAncestor(a.startContainer,a.endContainer)}function ea(a,b,c,d,f){var g=a.startContainer!==
b||a.startOffset!==c,h=a.endContainer!==d||a.endOffset!==f;a.startContainer=b;a.startOffset=c;a.endContainer=d;a.endOffset=f;R(a);e(a,"boundarychange",{startMoved:g,endMoved:h})}function P(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};R(this)}a.requireModules(["DomUtil"]);var y=a.dom,M=y.DomPosition,N=a.DOMException;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=
null;this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;a&&(this._next=a!==this._last?a.nextSibling:null,y.isCharacterDataNode(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so)));return a},remove:function(){var a=this._current,b,c;y.isCharacterDataNode(a)&&(a===this.sc||a===this.ec)?(b=a===this.sc?this.so:0,c=a===
this.ec?this.eo:a.length,b!=c&&a.deleteData(b,c-b)):a.parentNode&&a.parentNode.removeChild(a)},isPartiallySelectedSubtree:function(){return d(this._current,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse();else{a=new P(c(this.range));var b=this._current,d=b,e=0,f=b,g=y.getNodeLength(b);y.isAncestorOf(b,this.sc,!0)&&(d=this.sc,e=this.so);y.isAncestorOf(b,this.ec,!0)&&(f=this.ec,g=this.eo);ea(a,d,e,f,g)}return new p(a,this.clonePartiallySelectedTextNodes)},
detach:function(a){a&&this.range.detach();this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};t.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};t.prototype.toString=function(){return this.message};n.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){this._current=this._next;this._next=this.nodes[++this._position];return this._current},detach:function(){this._current=this._next=this.nodes=null}};var J=[1,3,4,5,
7,8,10],O=[2,9,11],K=[1,3,4,5,7,8,10,11],Q=[1,3,4,5,7,8],T=y.getRootContainer,X=u([9,11]),W=u([5,6,10,12]),Y=u([6,10,12]),da=document.createElement("style"),Z=!1;try{da.innerHTML="<b>x</b>",Z=3==da.firstChild.nodeType}catch(ma){}a.features.htmlParsingConforms=Z;var ka="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),fa=0,la=1,ha=2,ta=3,qa=0,ua=1,va=2,na=3;B.prototype={attachListener:function(a,b){this._listeners[a].push(b)},compareBoundaryPoints:function(a,
b){D(this);s(this.startContainer,b.startContainer);var c=a==ta||a==fa?"start":"end",d=a==la||a==fa?"start":"end";return y.comparePoints(this[c+"Container"],this[c+"Offset"],b[d+"Container"],b[d+"Offset"])},insertNode:function(a){D(this);E(a,K);L(this.startContainer);if(y.isAncestorOf(a,this.startContainer,!0))throw new N("HIERARCHY_REQUEST_ERR");a=f(a,this.startContainer,this.startOffset);this.setStartBefore(a)},cloneContents:function(){D(this);var a,b;if(this.collapsed)return c(this).createDocumentFragment();
if(this.startContainer===this.endContainer&&y.isCharacterDataNode(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=c(this).createDocumentFragment(),b.appendChild(a),b;b=new p(this,!0);a=k(b);b.detach();return a},canSurroundContents:function(){D(this);L(this.startContainer);L(this.endContainer);var a=new p(this,!0),b=a._first&&d(a._first,this)||a._last&&d(a._last,this);a.detach();return!b},surroundContents:function(a){E(a,Q);if(!this.canSurroundContents())throw new t("BAD_BOUNDARYPOINTS_ERR");
var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);f(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){D(this);for(var a=new P(c(this)),b=ka.length,d;b--;)d=ka[b],a[d]=this[d];return a},toString:function(){D(this);var a=this.startContainer;if(a===this.endContainer&&y.isCharacterDataNode(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new p(this,!0);j(a,function(a){(3==
a.nodeType||4==a.nodeType)&&b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){D(this);var b=a.parentNode,c=y.getNodeIndex(a);if(!b)throw new N("NOT_FOUND_ERR");a=this.comparePoint(b,c);b=this.comparePoint(b,c+1);return 0>a?0<b?va:qa:0<b?ua:na},comparePoint:function(a,b){D(this);A(a,"HIERARCHY_REQUEST_ERR");s(a,this.startContainer);return 0>y.comparePoints(a,b,this.startContainer,this.startOffset)?-1:0<y.comparePoints(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:Z?
function(a){var b=this.startContainer,c=y.getDocument(b);if(!b)throw new N("INVALID_STATE_ERR");var d=null;1==b.nodeType?d=b:y.isCharacterDataNode(b)&&(d=y.parentElement(b));d=null===d||"HTML"==d.nodeName&&y.isHtmlNamespace(y.getDocument(d).documentElement)&&y.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1);d.innerHTML=a;return y.fragmentFromNodeChildren(d)}:function(a){v(this);var b=c(this).createElement("body");b.innerHTML=a;return y.fragmentFromNodeChildren(b)},toHtml:function(){D(this);
var a=c(this).createElement("div");a.appendChild(this.cloneContents());return a.innerHTML},intersectsNode:function(a,b){D(this);A(a,"NOT_FOUND_ERR");if(y.getDocument(a)!==c(this))return!1;var d=a.parentNode,e=y.getNodeIndex(a);A(d,"NOT_FOUND_ERR");var f=y.comparePoints(d,e,this.endContainer,this.endOffset),d=y.comparePoints(d,e+1,this.startContainer,this.startOffset);return b?0>=f&&0<=d:0>f&&0<d},isPointInRange:function(a,b){D(this);A(a,"HIERARCHY_REQUEST_ERR");s(a,this.startContainer);return 0<=
y.comparePoints(a,b,this.startContainer,this.startOffset)&&0>=y.comparePoints(a,b,this.endContainer,this.endOffset)},intersectsRange:function(a,b){D(this);if(c(a)!=c(this))throw new N("WRONG_DOCUMENT_ERR");var d=y.comparePoints(this.startContainer,this.startOffset,a.endContainer,a.endOffset),e=y.comparePoints(this.endContainer,this.endOffset,a.startContainer,a.startOffset);return b?0>=d&&0<=e:0>d&&0<e},intersection:function(a){if(this.intersectsRange(a)){var b=y.comparePoints(this.startContainer,
this.startOffset,a.startContainer,a.startOffset),c=y.comparePoints(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();-1==b&&d.setStart(a.startContainer,a.startOffset);1==c&&d.setEnd(a.endContainer,a.endOffset);return d}return null},union:function(a){if(this.intersectsRange(a,!0)){var b=this.cloneRange();-1==y.comparePoints(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==y.comparePoints(a.endContainer,
a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}throw new t("Ranges do not intersect");},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==na},containsNodeContents:function(a){return 0<=this.comparePoint(a,0)&&0>=this.comparePoint(a,y.getNodeLength(a))},containsRange:function(a){return this.intersection(a).equals(a)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);return 0<c.length?
(b.setStart(c[0],0),a=c.pop(),b.setEnd(a,a.length),a=this.containsRange(b),b.detach(),a):this.containsNodeContents(a)},createNodeIterator:function(a,b){D(this);return new n(this,a,b)},getNodes:function(a,b){D(this);return m(this,a,b)},getDocument:function(){return c(this)},collapseBefore:function(a){v(this);this.setEndBefore(a);this.collapse(!1)},collapseAfter:function(a){v(this);this.setStartAfter(a);this.collapse(!0)},getName:function(){return"DomRange"},equals:function(a){return P.rangesEqual(this,
a)},inspect:function(){return r(this)}};V(P,ea,function(a){v(a);a.startContainer=a.startOffset=a.endContainer=a.endOffset=null;a.collapsed=a.commonAncestorContainer=null;e(a,"detach",null);a._listeners=null});a.rangePrototype=B.prototype;P.rangeProperties=ka;P.RangeIterator=p;P.copyComparisonConstants=C;P.createPrototypeRange=V;P.inspect=r;P.getRangeDocument=c;P.rangesEqual=function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===
b.endOffset};a.DomRange=P;a.RangeException=t});
rangy.createModule("WrappedRange",function(a){function d(a,c,d,e){var f=a.duplicate();f.collapse(d);var g=f.parentElement();b.isAncestorOf(c,g,!0)||(g=c);if(!g.canHaveHTML)return new h(g.parentNode,b.getNodeIndex(g));c=b.getDocument(g).createElement("span");var j,l=d?"StartToStart":"StartToEnd";do g.insertBefore(c,c.previousSibling),f.moveToElementText(c);while(0<(j=f.compareEndPoints(l,a))&&c.previousSibling);l=c.nextSibling;if(-1==j&&l&&b.isCharacterDataNode(l)){f.setEndPoint(d?"EndToStart":"EndToEnd",
a);if(/[\r\n]/.test(l.data)){g=f.duplicate();d=g.text.replace(/\r\n/g,"\r").length;for(d=g.moveStart("character",d);-1==g.compareEndPoints("StartToEnd",g);)d++,g.moveStart("character",1)}else d=f.text.length;g=new h(l,d)}else l=(e||!d)&&c.previousSibling,g=(d=(e||d)&&c.nextSibling)&&b.isCharacterDataNode(d)?new h(d,0):l&&b.isCharacterDataNode(l)?new h(l,l.length):new h(g,b.getNodeIndex(c));c.parentNode.removeChild(c);return g}function c(a,c){var d,e,f=a.offset,g=b.getDocument(a.node),h=g.body.createTextRange(),
j=b.isCharacterDataNode(a.node);j?(d=a.node,e=d.parentNode):(d=a.node.childNodes,d=f<d.length?d[f]:null,e=a.node);g=g.createElement("span");g.innerHTML="&#feff;";d?e.insertBefore(g,d):e.appendChild(g);h.moveToElementText(g);h.collapse(!c);e.removeChild(g);if(j)h[c?"moveStart":"moveEnd"]("character",f);return h}a.requireModules(["DomUtil","DomRange"]);var e,b=a.dom,h=b.DomPosition,f=a.DomRange;if(a.features.implementsDomRange&&(!a.features.implementsTextRange||!a.config.preferTextRange)){var k=function(a){for(var b=
g.length,c;b--;)c=g[b],a[c]=a.nativeRange[c]},j,g=f.rangeProperties,l;e=function(a){if(!a)throw Error("Range must be specified");this.nativeRange=a;k(this)};f.createPrototypeRange(e,function(a,b,c,d,e){var f=a.endContainer!==d||a.endOffset!=e;if(a.startContainer!==b||a.startOffset!=c||f)a.setEnd(d,e),a.setStart(b,c)},function(a){a.nativeRange.detach();a.detached=!0;for(var b=g.length,c;b--;)c=g[b],a[c]=null});j=e.prototype;j.selectNode=function(a){this.nativeRange.selectNode(a);k(this)};j.deleteContents=
function(){this.nativeRange.deleteContents();k(this)};j.extractContents=function(){var a=this.nativeRange.extractContents();k(this);return a};j.cloneContents=function(){return this.nativeRange.cloneContents()};j.surroundContents=function(a){this.nativeRange.surroundContents(a);k(this)};j.collapse=function(a){this.nativeRange.collapse(a);k(this)};j.cloneRange=function(){return new e(this.nativeRange.cloneRange())};j.refresh=function(){k(this)};j.toString=function(){return this.nativeRange.toString()};
var m=document.createTextNode("test");b.getBody(document).appendChild(m);var r=document.createRange();r.setStart(m,0);r.setEnd(m,0);try{r.setStart(m,1),j.setStart=function(a,b){this.nativeRange.setStart(a,b);k(this)},j.setEnd=function(a,b){this.nativeRange.setEnd(a,b);k(this)},l=function(a){return function(b){this.nativeRange[a](b);k(this)}}}catch(p){j.setStart=function(a,b){try{this.nativeRange.setStart(a,b)}catch(c){this.nativeRange.setEnd(a,b),this.nativeRange.setStart(a,b)}k(this)},j.setEnd=function(a,
b){try{this.nativeRange.setEnd(a,b)}catch(c){this.nativeRange.setStart(a,b),this.nativeRange.setEnd(a,b)}k(this)},l=function(a,b){return function(c){try{this.nativeRange[a](c)}catch(d){this.nativeRange[b](c),this.nativeRange[a](c)}k(this)}}}j.setStartBefore=l("setStartBefore","setEndBefore");j.setStartAfter=l("setStartAfter","setEndAfter");j.setEndBefore=l("setEndBefore","setStartBefore");j.setEndAfter=l("setEndAfter","setStartAfter");r.selectNodeContents(m);j.selectNodeContents=r.startContainer==
m&&r.endContainer==m&&0==r.startOffset&&r.endOffset==m.length?function(a){this.nativeRange.selectNodeContents(a);k(this)}:function(a){this.setStart(a,0);this.setEnd(a,f.getEndOffset(a))};r.selectNodeContents(m);r.setEnd(m,3);l=document.createRange();l.selectNodeContents(m);l.setEnd(m,4);l.setStart(m,2);j.compareBoundaryPoints=-1==r.compareBoundaryPoints(r.START_TO_END,l)&1==r.compareBoundaryPoints(r.END_TO_START,l)?function(a,b){b=b.nativeRange||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&
(a=b.START_TO_END);return this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)};a.util.isHostMethod(r,"createContextualFragment")&&(j.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)});b.getBody(document).removeChild(m);r.detach();l.detach();a.createNativeRange=function(a){a=a||document;return a.createRange()}}else a.features.implementsTextRange&&(e=function(a){this.textRange=a;this.refresh()},
e.prototype=new f(document),e.prototype.refresh=function(){var a,c,e=this.textRange;a=e.parentElement();var f=e.duplicate();f.collapse(!0);c=f.parentElement();f=e.duplicate();f.collapse(!1);e=f.parentElement();c=c==e?c:b.getCommonAncestor(c,e);c=c==a?c:b.getCommonAncestor(a,c);0==this.textRange.compareEndPoints("StartToEnd",this.textRange)?c=a=d(this.textRange,c,!0,!0):(a=d(this.textRange,c,!0,!1),c=d(this.textRange,c,!1,!1));this.setStart(a.node,a.offset);this.setEnd(c.node,c.offset)},f.copyComparisonConstants(e),
j=function(){return this}(),"undefined"==typeof j.Range&&(j.Range=e),a.createNativeRange=function(a){a=a||document;return a.body.createTextRange()});a.features.implementsTextRange&&(e.rangeToTextRange=function(a){if(a.collapsed)return c(new h(a.startContainer,a.startOffset),!0);var d=c(new h(a.startContainer,a.startOffset),!0),e=c(new h(a.endContainer,a.endOffset),!1);a=b.getDocument(a.startContainer).body.createTextRange();a.setEndPoint("StartToStart",d);a.setEndPoint("EndToEnd",e);return a});e.prototype.getName=
function(){return"WrappedRange"};a.WrappedRange=e;a.createRange=function(b){b=b||document;return new e(a.createNativeRange(b))};a.createRangyRange=function(a){a=a||document;return new f(a)};a.createIframeRange=function(c){return a.createRange(b.getIframeDocument(c))};a.createIframeRangyRange=function(c){return a.createRangyRange(b.getIframeDocument(c))};a.addCreateMissingNativeApiListener(function(b){b=b.document;"undefined"==typeof b.createRange&&(b.createRange=function(){return a.createRange(this)});
b=b=null})});
rangy.createModule("WrappedSelection",function(a,d){function c(a){return(a||window).getSelection()}function e(a){return(a||window).document.selection}function b(a,b,c){var d=c?"end":"start";c=c?"start":"end";a.anchorNode=b[d+"Container"];a.anchorOffset=b[d+"Offset"];a.focusNode=b[c+"Container"];a.focusOffset=b[c+"Offset"]}function h(a){a.anchorNode=a.focusNode=null;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=!0;a._ranges.length=0}function f(b){var c;b instanceof w?(c=b._selectionNativeRange,
c||(c=a.createNativeRange(n.getDocument(b.startContainer)),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset),b._selectionNativeRange=c,b.attachListener("detach",function(){this._selectionNativeRange=null}))):b instanceof v?c=b.nativeRange:a.features.implementsDomRange&&b instanceof n.getWindow(b.startContainer).Range&&(c=b);return c}function k(a){var b=a.getNodes(),c;a:if(!b.length||1!=b[0].nodeType)c=!1;else{c=1;for(var d=b.length;c<d;++c)if(!n.isAncestorOf(b[0],b[c])){c=
!1;break a}c=!0}if(!c)throw Error("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return b[0]}function j(a,c){var d=new v(c);a._ranges=[d];b(a,d,!1);a.rangeCount=1;a.isCollapsed=d.collapsed}function g(c){c._ranges.length=0;if("None"==c.docSelection.type)h(c);else{var d=c.docSelection.createRange();if(d&&"undefined"!=typeof d.text)j(c,d);else{c.rangeCount=d.length;for(var e,f=n.getDocument(d.item(0)),g=0;g<c.rangeCount;++g)e=a.createRange(f),e.selectNode(d.item(g)),
c._ranges.push(e);c.isCollapsed=1==c.rangeCount&&c._ranges[0].collapsed;b(c,c._ranges[c.rangeCount-1],!1)}}}function l(a,b){for(var c=a.docSelection.createRange(),d=k(b),e=n.getDocument(c.item(0)),e=n.getBody(e).createControlRange(),f=0,h=c.length;f<h;++f)e.add(c.item(f));try{e.add(d)}catch(j){throw Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)");}e.select();g(a)}function m(a,b,c){this.nativeSelection=a;this.docSelection=b;this._ranges=
[];this.win=c;this.refresh()}function r(a,b){for(var c=n.getDocument(b[0].startContainer),c=n.getBody(c).createControlRange(),d=0,e;d<rangeCount;++d){e=k(b[d]);try{c.add(e)}catch(f){throw Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)");}}c.select();g(a)}function p(a,b){if(a.anchorNode&&n.getDocument(a.anchorNode)!==n.getDocument(b))throw new E("WRONG_DOCUMENT_ERR");}function t(a){var b=[],c=new z(a.anchorNode,a.anchorOffset),
d=new z(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;f<g;++f)b[f]=w.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.requireModules(["DomUtil","DomRange","WrappedRange"]);a.config.checkSelectionRanges=!0;var n=a.dom,u=a.util,w=a.DomRange,v=a.WrappedRange,E=a.DOMException,z=n.DomPosition,s,L,A=a.util.isHostMethod(window,"getSelection"),
D=a.util.isHostObject(document,"selection"),B=D&&(!A||a.config.preferTextRange);B?(s=e,a.isSelectionValid=function(a){a=(a||window).document;var b=a.selection;return"None"!=b.type||n.getDocument(b.createRange().parentElement())==a}):A?(s=c,a.isSelectionValid=function(){return!0}):d.fail("Neither document.selection or window.getSelection() detected.");a.getNativeSelection=s;var A=s(),H=a.createNativeRange(document),C=n.getBody(document),I=u.areHostObjects(A,u.areHostProperties(A,["anchorOffset","focusOffset"]));
a.features.selectionHasAnchorAndFocus=I;var V=u.isHostMethod(A,"extend");a.features.selectionHasExtend=V;var R="number"==typeof A.rangeCount;a.features.selectionHasRangeCount=R;var ea=!1,P=!0;if(u.areHostMethods(A,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof A.rangeCount&&a.features.implementsDomRange){var y=document.createElement("iframe");C.appendChild(y);P=n.getIframeDocument(y);P.open();P.write("<html><head></head><body>12</body></html>");P.close();var M=n.getIframeWindow(y).getSelection(),
N=P.documentElement.lastChild.firstChild,J=P.createRange();J.setStart(N,1);J.collapse(!0);M.addRange(J);P=1==M.rangeCount;M.removeAllRanges();var O=J.cloneRange();J.setStart(N,0);O.setEnd(N,2);M.addRange(J);M.addRange(O);ea=2==M.rangeCount;J.detach();O.detach();C.removeChild(y)}a.features.selectionSupportsMultipleRanges=ea;a.features.collapsedNonEditableSelectionsSupported=P;var K=!1;C&&u.isHostMethod(C,"createControlRange")&&(C=C.createControlRange(),u.areHostProperties(C,["item","add"])&&(K=!0));
a.features.implementsControlRange=K;L=I?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Q;u.isHostMethod(A,"getRangeAt")?Q=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:I&&(Q=function(b){var c=n.getDocument(b.anchorNode),c=a.createRange(c);c.setStart(b.anchorNode,b.anchorOffset);c.setEnd(b.focusNode,b.focusOffset);c.collapsed!==this.isCollapsed&&(c.setStart(b.focusNode,b.focusOffset),
c.setEnd(b.anchorNode,b.anchorOffset));return c});a.getSelection=function(a){a=a||window;var b=a._rangySelection,c=s(a),d=D?e(a):null;b?(b.nativeSelection=c,b.docSelection=d,b.refresh(a)):(b=new m(c,d,a),a._rangySelection=b);return b};a.getIframeSelection=function(b){return a.getSelection(n.getIframeWindow(b))};C=m.prototype;if(!B&&I&&u.areHostMethods(A,["removeAllRanges","addRange"])){C.removeAllRanges=function(){this.nativeSelection.removeAllRanges();h(this)};var T=function(b,c){var d=w.getRangeDocument(c),
d=a.createRange(d);d.collapseToPoint(c.endContainer,c.endOffset);b.nativeSelection.addRange(f(d));b.nativeSelection.extend(c.startContainer,c.startOffset);b.refresh()};C.addRange=R?function(c,d){if(K&&D&&"Control"==this.docSelection.type)l(this,c);else if(d&&V)T(this,c);else{var e;ea?e=this.rangeCount:(this.removeAllRanges(),e=0);this.nativeSelection.addRange(f(c));this.rangeCount=this.nativeSelection.rangeCount;this.rangeCount==e+1?(a.config.checkSelectionRanges&&(e=Q(this.nativeSelection,this.rangeCount-
1))&&!w.rangesEqual(e,c)&&(c=new v(e)),this._ranges[this.rangeCount-1]=c,b(this,c,Y(this.nativeSelection)),this.isCollapsed=L(this)):this.refresh()}}:function(a,b){b&&V?T(this,a):(this.nativeSelection.addRange(f(a)),this.refresh())};C.setRanges=function(a){if(K&&1<a.length)r(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;b<c;++b)this.addRange(a[b])}}}else if(u.isHostMethod(A,"empty")&&u.isHostMethod(H,"select")&&K&&B)C.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=
this.docSelection.type){var a;if(this.anchorNode)a=n.getDocument(this.anchorNode);else if("Control"==this.docSelection.type){var b=this.docSelection.createRange();b.length&&(a=n.getDocument(b.item(0)).body.createTextRange())}a&&(a.body.createTextRange().select(),this.docSelection.empty())}}catch(c){}h(this)},C.addRange=function(a){"Control"==this.docSelection.type?l(this,a):(v.rangeToTextRange(a).select(),this._ranges[0]=a,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,b(this,a,!1))},
C.setRanges=function(a){this.removeAllRanges();var b=a.length;1<b?r(this,a):b&&this.addRange(a[0])};else return d.fail("No means of selecting a Range or TextRange was found"),!1;C.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new E("INDEX_SIZE_ERR");return this._ranges[a]};var X;if(B)X=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=n.getBody(b.win.document).createTextRange(),c.collapse(!0));"Control"==b.docSelection.type?g(b):c&&"undefined"!=typeof c.text?
j(b,c):h(b)};else if(u.isHostMethod(A,"getRangeAt")&&"number"==typeof A.rangeCount)X=function(c){if(K&&D&&"Control"==c.docSelection.type)g(c);else if(c._ranges.length=c.rangeCount=c.nativeSelection.rangeCount,c.rangeCount){for(var d=0,e=c.rangeCount;d<e;++d)c._ranges[d]=new a.WrappedRange(c.nativeSelection.getRangeAt(d));b(c,c._ranges[c.rangeCount-1],Y(c.nativeSelection));c.isCollapsed=L(c)}else h(c)};else if(I&&"boolean"==typeof A.isCollapsed&&"boolean"==typeof H.collapsed&&a.features.implementsDomRange)X=
function(a){var b;b=a.nativeSelection;b.anchorNode?(b=Q(b,0),a._ranges=[b],a.rangeCount=1,b=a.nativeSelection,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=L(a)):h(a)};else return d.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;C.refresh=function(a){var b=a?this._ranges.slice(0):null;X(this);if(a){a=b.length;if(a!=this._ranges.length)return!1;for(;a--;)if(!w.rangesEqual(b[a],this._ranges[a]))return!1;
return!0}};var W=function(a,b){var c=a.getAllRanges(),d=!1;a.removeAllRanges();for(var e=0,f=c.length;e<f;++e)d||b!==c[e]?a.addRange(c[e]):d=!0;a.rangeCount||h(a)};C.removeRange=K?function(a){if("Control"==this.docSelection.type){var b=this.docSelection.createRange();a=k(a);for(var c=n.getDocument(b.item(0)),c=n.getBody(c).createControlRange(),d,e=!1,f=0,h=b.length;f<h;++f)d=b.item(f),d!==a||e?c.add(b.item(f)):e=!0;c.select();g(this)}else W(this,a)}:function(a){W(this,a)};var Y;!B&&I&&a.features.implementsDomRange?
(Y=function(a){var b=!1;a.anchorNode&&(b=1==n.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b},C.isBackwards=function(){return Y(this)}):Y=C.isBackwards=function(){return!1};C.toString=function(){for(var a=[],b=0,c=this.rangeCount;b<c;++b)a[b]=""+this._ranges[b];return a.join("")};C.collapse=function(b,c){p(this,b);var d=a.createRange(n.getDocument(b));d.collapseToPoint(b,c);this.removeAllRanges();this.addRange(d);this.isCollapsed=!0};C.collapseToStart=function(){if(this.rangeCount){var a=
this._ranges[0];this.collapse(a.startContainer,a.startOffset)}else throw new E("INVALID_STATE_ERR");};C.collapseToEnd=function(){if(this.rangeCount){var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else throw new E("INVALID_STATE_ERR");};C.selectAllChildren=function(b){p(this,b);var c=a.createRange(n.getDocument(b));c.selectNodeContents(b);this.removeAllRanges();this.addRange(c)};C.deleteFromDocument=function(){if(K&&D&&"Control"==this.docSelection.type){for(var a=this.docSelection.createRange(),
b;a.length;)b=a.item(0),a.remove(b),b.parentNode.removeChild(b);this.refresh()}else if(this.rangeCount){a=this.getAllRanges();this.removeAllRanges();b=0;for(var c=a.length;b<c;++b)a[b].deleteContents();this.addRange(a[c-1])}};C.getAllRanges=function(){return this._ranges.slice(0)};C.setSingleRange=function(a){this.setRanges([a])};C.containsNode=function(a,b){for(var c=0,d=this._ranges.length;c<d;++c)if(this._ranges[c].containsNode(a,b))return!0;return!1};C.toHtml=function(){var a="";if(this.rangeCount){for(var a=
w.getRangeDocument(this._ranges[0]).createElement("div"),b=0,c=this._ranges.length;b<c;++b)a.appendChild(this._ranges[b].cloneContents());a=a.innerHTML}return a};C.getName=function(){return"WrappedSelection"};C.inspect=function(){return t(this)};C.detach=function(){this.win=this.anchorNode=this.focusNode=this.win._rangySelection=null};m.inspect=t;a.Selection=m;a.selectionPrototype=C;a.addCreateMissingNativeApiListener(function(b){"undefined"==typeof b.getSelection&&(b.getSelection=function(){return a.getSelection(this)});
b=null})});var Base=function(){};
Base.extend=function(a,d){var c=Base.prototype.extend;Base._prototyping=!0;var e=new this;c.call(e,a);e.base=function(){};delete Base._prototyping;var b=e.constructor,h=e.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==h)this._constructing=!0,b.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],e)};h.ancestor=this;h.extend=this.extend;h.forEach=this.forEach;h.implement=this.implement;h.prototype=
e;h.toString=this.toString;h.valueOf=function(a){return"object"==a?h:b.valueOf()};c.call(h,d);"function"==typeof h.init&&h.init();return h};
Base.prototype={extend:function(a,d){if(1<arguments.length){var c=this[a];if(c&&"function"==typeof d&&(!c.valueOf||c.valueOf()!=d.valueOf())&&/\bbase\b/.test(d)){var e=d.valueOf();d=function(){var a=this.base||Base.prototype.base;this.base=c;var b=e.apply(this,arguments);this.base=a;return b};d.valueOf=function(a){return"object"==a?d:e};d.toString=Base.toString}this[a]=d}else if(a){var b=Base.prototype.extend;!Base._prototyping&&"function"!=typeof this&&(b=this.extend||b);for(var h={toSource:null},
f=["constructor","toString","valueOf"],k=Base._prototyping?0:1;j=f[k++];)a[j]!=h[j]&&b.call(this,j,a[j]);for(var j in a)h[j]||b.call(this,j,a[j])}return this}};
Base=Base.extend({constructor:function(a){this.extend(a)}},{ancestor:Object,version:"1.1",forEach:function(a,d,c){for(var e in a)void 0===this.prototype[e]&&d.call(c,a[e],e,a)},implement:function(){for(var a=0;a<arguments.length;a++)if("function"==typeof arguments[a])arguments[a](this.prototype);else this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}});
wysihtml5.browser=function(){var a=navigator.userAgent,d=document.createElement("div"),c=-1!==a.indexOf("MSIE")&&-1===a.indexOf("Opera"),e=-1!==a.indexOf("Gecko")&&-1===a.indexOf("KHTML"),b=-1!==a.indexOf("AppleWebKit/"),h=-1!==a.indexOf("Chrome/"),f=-1!==a.indexOf("Opera/"),k={formatBlock:c,insertUnorderedList:c||f||b,insertOrderedList:c||f||b},j={insertHTML:e};return{USER_AGENT:a,supported:function(){var a=this.USER_AGENT.toLowerCase(),b="contentEditable"in d,c=document.execCommand&&document.queryCommandSupported&&
document.queryCommandState,e=document.querySelector&&document.querySelectorAll,a=this.isIos()&&5>(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\d+).+? like mac os x/)||[,0])[1]||-1!==a.indexOf("opera mobi")||-1!==a.indexOf("hpwos/");return b&&c&&e&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var a=this.USER_AGENT.toLowerCase();return-1!==a.indexOf("webkit")&&-1!==a.indexOf("mobile")},supportsSandboxedIframes:function(){return c},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in
document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!e},hasCurrentStyleProperty:function(){return"currentStyle"in d},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){var b;if(!(b="on"+a in d))d.setAttribute("on"+a,"return;"),b="function"===typeof d["on"+a];return b},supportsEventsInIframeCorrectly:function(){return!f},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return b||e},supportsDataTransfer:function(){try{return b&&
(window.Clipboard||window.DataTransfer).prototype.getData}catch(a){return!1}},supportsHTML5Tags:function(a){a=a.createElement("div");a.innerHTML="<article>foo</article>";return"<article>foo</article>"===a.innerHTML.toLowerCase()},supportsCommand:function(a,b){if(!k[b]){try{return a.queryCommandSupported(b)}catch(c){}try{return a.queryCommandEnabled(b)}catch(d){return!!j[b]}}return!1},doesAutoLinkingInContentEditable:function(){return c},canDisableAutoLinking:function(){return this.supportsCommand(document,
"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||f||b},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||c||f},clearsListsInContentEditableCorrectly:function(){return e||c||b},autoScrollsToCaret:function(){return!b},autoClosesUnclosedTags:function(){var a=d.cloneNode(!1),b;a.innerHTML="<p><div></div>";a=a.innerHTML.toLowerCase();b="<p></p><div></div>"===a||"<p><div></div></p>"===
a;this.autoClosesUnclosedTags=function(){return b};return b},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in d},needsSpaceAfterLineBreak:function(){return f},supportsSpeechApiOn:function(b){return 11<=(a.match(/Chrome\/(\d+)/)||[,0])[1]&&("onwebkitspeechchange"in b||"speech"in
b)},crashesWhenDefineProperty:function(a){return c&&("XMLHttpRequest"===a||"XDomainRequest"===a)},doesAsyncFocus:function(){return c},hasProblemsSettingCaretAfterImg:function(){return c},hasUndoInContextMenu:function(){return e||h||f}}}();
wysihtml5.lang.array=function(a){return{contains:function(d){if(a.indexOf)return-1!==a.indexOf(d);for(var c=0,e=a.length;c<e;c++)if(a[c]===d)return!0;return!1},without:function(d){d=wysihtml5.lang.array(d);for(var c=[],e=0,b=a.length;e<b;e++)d.contains(a[e])||c.push(a[e]);return c},get:function(){for(var d=0,c=a.length,e=[];d<c;d++)e.push(a[d]);return e}}};
wysihtml5.lang.Dispatcher=Base.extend({observe:function(a,d){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(d);return this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(a,d){this.events=this.events||{};for(var c=this.events[a]||[],e=0;e<c.length;e++)c[e].call(this,d);return this},stopObserving:function(a,d){this.events=this.events||{};var c=0,e,b;if(a){e=this.events[a]||[];for(b=[];c<e.length;c++)e[c]!==d&&d&&
b.push(e[c]);this.events[a]=b}else this.events={};return this}});wysihtml5.lang.object=function(a){return{merge:function(d){for(var c in d)a[c]=d[c];return this},get:function(){return a},clone:function(){var d={},c;for(c in a)d[c]=a[c];return d},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)}}};
(function(){var a=/^\s+/,d=/\s+$/;wysihtml5.lang.string=function(c){c=String(c);return{trim:function(){return c.replace(a,"").replace(d,"")},interpolate:function(a){for(var b in a)c=this.replace("#{"+b+"}").by(a[b]);return c},replace:function(a){return{by:function(b){return c.split(a).join(b)}}}}}})();
(function(a){function d(k){if(!c.contains(k.nodeName))if(k.nodeType===a.TEXT_NODE&&k.data.match(e)){var j=k.parentNode,g;g=j.ownerDocument;var l=g._wysihtml5_tempElement;l||(l=g._wysihtml5_tempElement=g.createElement("div"));g=l;g.innerHTML="<span></span>"+k.data.replace(e,function(a,c){var d=(c.match(b)||[])[1]||"",e=f[d];c=c.replace(b,"");c.split(e).length>c.split(d).length&&(c+=d,d="");var g=e=c;c.length>h&&(g=g.substr(0,h)+"...");"www."===e.substr(0,4)&&(e="http://"+e);return'<a href="'+e+'">'+
g+"</a>"+d});for(g.removeChild(g.firstChild);g.firstChild;)j.insertBefore(g.firstChild,k);j.removeChild(k)}else{j=a.lang.array(k.childNodes).get();g=j.length;for(l=0;l<g;l++)d(j[l]);return k}}var c=a.lang.array("CODE PRE A SCRIPT HEAD TITLE STYLE".split(" ")),e=/((https?:\/\/|www\.)[^\s<]{3,})/gi,b=/([^\w\/\-](,?))$/i,h=100,f={")":"(","]":"[","}":"{"};a.dom.autoLink=function(a){var b;a:{b=a;for(var e;b.parentNode;){b=b.parentNode;e=b.nodeName;if(c.contains(e)){b=!0;break a}if("body"===e)break}b=!1}if(b)return a;
a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body);return d(a)};a.dom.autoLink.URL_REG_EXP=e})(wysihtml5);
(function(a){var d=a.browser.supportsClassList(),c=a.dom;c.addClass=function(a,b){if(d)return a.classList.add(b);c.hasClass(a,b)||(a.className+=" "+b)};c.removeClass=function(a,b){if(d)return a.classList.remove(b);a.className=a.className.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")};c.hasClass=function(a,b){if(d)return a.classList.contains(b);var c=a.className;return 0<c.length&&(c==b||RegExp("(^|\\s)"+b+"(\\s|$)").test(c))}})(wysihtml5);
wysihtml5.dom.contains=function(){var a=document.documentElement;if(a.contains)return function(a,c){c.nodeType!==wysihtml5.ELEMENT_NODE&&(c=c.parentNode);return a!==c&&a.contains(c)};if(a.compareDocumentPosition)return function(a,c){return!!(a.compareDocumentPosition(c)&16)}}();
wysihtml5.dom.convertToList=function(){function a(a,c){var e=a.createElement("li");c.appendChild(e);return e}return function(d,c){if("UL"===d.nodeName||"OL"===d.nodeName||"MENU"===d.nodeName)return d;var e=d.ownerDocument,b=e.createElement(c),h=d.querySelectorAll("br"),f=h.length,k,j,g,l,m;for(m=0;m<f;m++)for(k=h[m];(j=k.parentNode)&&j!==d&&j.lastChild===k;){if("block"===wysihtml5.dom.getStyle("display").from(j)){j.removeChild(k);break}wysihtml5.dom.insert(k).after(k.parentNode)}h=wysihtml5.lang.array(d.childNodes).get();
f=h.length;for(m=0;m<f;m++)l=l||a(e,b),k=h[m],j="block"===wysihtml5.dom.getStyle("display").from(k),g="BR"===k.nodeName,j?(l=l.firstChild?a(e,b):l,l.appendChild(k),l=null):g?l=l.firstChild?null:l:l.appendChild(k);d.parentNode.replaceChild(b,d);return b}}();wysihtml5.dom.copyAttributes=function(a){return{from:function(d){return{to:function(c){for(var e,b=0,h=a.length;b<h;b++)e=a[b],"undefined"!==typeof d[e]&&""!==d[e]&&(c[e]=d[e]);return{andTo:arguments.callee}}}}}};
(function(a){var d=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];a.copyStyles=function(c){return{from:function(e){var b;b:{b=0;for(var h=d.length;b<h;b++)if("border-box"===a.getStyle(d[b]).from(e)){b=d[b];break b}b=void 0}b=b?parseInt(a.getStyle("width").from(e),10)<e.offsetWidth:!1;b&&(c=wysihtml5.lang.array(c).without(d));var f="";b=c.length;for(var h=0,k;h<b;h++)k=c[h],f+=k+":"+a.getStyle(k).from(e)+";";return{to:function(b){a.setStyles(f).on(b);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);
(function(a){a.dom.delegate=function(d,c,e,b){return a.dom.observe(d,e,function(e){for(var f=e.target,k=a.lang.array(d.querySelectorAll(c));f&&f!==d;){if(k.contains(f)){b.call(f,e);break}f=f.parentNode}})}})(wysihtml5);
wysihtml5.dom.getAsDom=function(){var a="abbr article aside audio bdi canvas command datalist details figcaption figure footer header hgroup keygen mark meter nav output progress rp rt ruby svg section source summary time track video wbr".split(" ");return function(d,c){c=c||document;var e;if("object"===typeof d&&d.nodeType)e=c.createElement("div"),e.appendChild(d);else if(wysihtml5.browser.supportsHTML5Tags(c))e=c.createElement("div"),e.innerHTML=d;else{e=c;if(!e._wysihtml5_supportsHTML5Tags){for(var b=
0,h=a.length;b<h;b++)e.createElement(a[b]);e._wysihtml5_supportsHTML5Tags=!0}e=c;b=e.createElement("div");b.style.display="none";e.body.appendChild(b);try{b.innerHTML=d}catch(f){}e.body.removeChild(b);e=b}return e}}();
wysihtml5.dom.getParentElement=function(){function a(a,c){return!c||!c.length?!0:"string"===typeof c?a===c:wysihtml5.lang.array(c).contains(a)}return function(d,c,e){e=e||50;if(c.className||c.classRegExp){a:{var b=c.nodeName,h=c.className;for(c=c.classRegExp;e--&&d&&"BODY"!==d.nodeName;){var f;if(f=d.nodeType===wysihtml5.ELEMENT_NODE)if(f=a(d.nodeName,b)){f=h;var k=(d.className||"").match(c)||[];f=!f?!!k.length:k[k.length-1]===f}if(f)break a;d=d.parentNode}d=null}return d}a:{b=c.nodeName;for(h=e;h--&&
d&&"BODY"!==d.nodeName;){if(a(d.nodeName,b))break a;d=d.parentNode}d=null}return d}}();
wysihtml5.dom.getStyle=function(){var a={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},d=/\-[a-z]/g;return function(c){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var b=e.ownerDocument,h=a[c]||c.replace(d,function(a){return a.charAt(1).toUpperCase()}),f=e.style,k=e.currentStyle,j=f[h];if(j)return j;if(k)try{return k[h]}catch(g){}var h=b.defaultView||b.parentWindow,b=("height"===c||"width"===c)&&"TEXTAREA"===e.nodeName,l;if(h.getComputedStyle)return b&&
(l=f.overflow,f.overflow="hidden"),e=h.getComputedStyle(e,null).getPropertyValue(c),b&&(f.overflow=l||""),e}}}}}();wysihtml5.dom.hasElementWithTagName=function(){var a={},d=1;return function(c,e){var b=(c._wysihtml5_identifier||(c._wysihtml5_identifier=d++))+":"+e,h=a[b];h||(h=a[b]=c.getElementsByTagName(e));return 0<h.length}}();
(function(a){var d={},c=1;a.dom.hasElementWithClassName=function(e,b){if(!a.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+b);var h=(e._wysihtml5_identifier||(e._wysihtml5_identifier=c++))+":"+b,f=d[h];f||(f=d[h]=e.getElementsByClassName(b));return 0<f.length}})(wysihtml5);wysihtml5.dom.insert=function(a){return{after:function(d){d.parentNode.insertBefore(a,d.nextSibling)},before:function(d){d.parentNode.insertBefore(a,d)},into:function(d){d.appendChild(a)}}};
wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(d){var c=d.head||d.getElementsByTagName("head")[0],e=d.createElement("style");e.type="text/css";e.styleSheet?e.styleSheet.cssText=a:e.appendChild(d.createTextNode(a));c&&c.appendChild(e)}}};
wysihtml5.dom.observe=function(a,d,c){d="string"===typeof d?[d]:d;for(var e,b,h=0,f=d.length;h<f;h++)b=d[h],a.addEventListener?a.addEventListener(b,c,!1):(e=function(b){"target"in b||(b.target=b.srcElement);b.preventDefault=b.preventDefault||function(){this.returnValue=!1};b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0};c.call(a,b)},a.attachEvent("on"+b,e));return{stop:function(){for(var b,f=0,g=d.length;f<g;f++)b=d[f],a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+
b,e)}}};
wysihtml5.dom.parse=function(){function a(b,d){var f=b.childNodes,g=f.length,h;h=c[b.nodeType];var j=0;h=h&&h(b);if(!h)return null;for(j=0;j<g;j++)(newChild=a(f[j],d))&&h.appendChild(newChild);return d&&1>=h.childNodes.length&&h.nodeName.toLowerCase()===e&&!h.attributes.length?h.firstChild:h}function d(a,b){b=b.toLowerCase();var c;if(c="IMG"==a.nodeName)if(c="src"==b){var d;a:{try{d=a.complete&&!a.mozMatchesSelector(":-moz-broken");break a}catch(e){if(a.complete&&"complete"===a.readyState){d=!0;break a}}d=
void 0}c=!0===d}return c?a.src:k&&"outerHTML"in a?-1!=a.outerHTML.toLowerCase().indexOf(" "+b+"=")?a.getAttribute(b):null:a.getAttribute(b)}var c={1:function(a){var c,g,h=f.tags;g=a.nodeName.toLowerCase();c=a.scopeName;if(a._wysihtml5)return null;a._wysihtml5=1;if("wysihtml5-temp"===a.className)return null;c&&"HTML"!=c&&(g=c+":"+g);"outerHTML"in a&&!wysihtml5.browser.autoClosesUnclosedTags()&&("P"===a.nodeName&&"</p>"!==a.outerHTML.slice(-4).toLowerCase())&&(g="div");if(g in h){c=h[g];if(!c||c.remove)return null;
c="string"===typeof c?{rename_tag:c}:c}else if(a.firstChild)c={rename_tag:e};else return null;g=a.ownerDocument.createElement(c.rename_tag||g);var h={},j=c.set_class,l=c.add_class,k=c.set_attributes,r=c.check_attributes,p=f.classes,t=0,n=[];c=[];var I=[],V=[],R;k&&(h=wysihtml5.lang.object(k).clone());if(r)for(R in r)if(k=m[r[R]])k=k(d(a,R)),"string"===typeof k&&(h[R]=k);j&&n.push(j);if(l)for(R in l)if(k=u[l[R]])j=k(d(a,R)),"string"===typeof j&&n.push(j);p["_wysihtml5-temp-placeholder"]=1;(V=a.getAttribute("class"))&&
(n=n.concat(V.split(b)));for(l=n.length;t<l;t++)a=n[t],p[a]&&c.push(a);for(p=c.length;p--;)a=c[p],wysihtml5.lang.array(I).contains(a)||I.unshift(a);I.length&&(h["class"]=I.join(" "));for(R in h)try{g.setAttribute(R,h[R])}catch(ea){}h.src&&("undefined"!==typeof h.width&&g.setAttribute("width",h.width),"undefined"!==typeof h.height&&g.setAttribute("height",h.height));return g},3:function(a){return a.ownerDocument.createTextNode(a.data)}},e="span",b=/\s+/,h={tags:{},classes:{}},f={},k=!wysihtml5.browser.supportsGetAttributeCorrectly(),
j=/^https?:\/\//i,g=/[^ a-z0-9_\-]/gi,l=/\D/g,m={url:function(a){return!a||!a.match(j)?null:a.replace(j,function(a){return a.toLowerCase()})},alt:function(a){return!a?"":a.replace(g,"")},numbers:function(a){return(a=(a||"").replace(l,""))||null}},r={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},p={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",
both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},n={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},u={align_img:function(a){return r[String(a).toLowerCase()]},align_text:function(a){return p[String(a).toLowerCase()]},clear_br:function(a){return t[String(a).toLowerCase()]},
size_font:function(a){return n[String(a).charAt(0)]}};return function(b,c,d,e){wysihtml5.lang.object(f).merge(h).merge(c).get();d=d||b.ownerDocument||document;c=d.createDocumentFragment();var g="string"===typeof b;for(b=g?wysihtml5.dom.getAsDom(b,d):b;b.firstChild;)d=b.firstChild,b.removeChild(d),(d=a(d,e))&&c.appendChild(d);b.innerHTML="";b.appendChild(c);return g?wysihtml5.quirks.getCorrectInnerHTML(b):b}}();
wysihtml5.dom.removeEmptyTextNodes=function(a){for(var d=wysihtml5.lang.array(a.childNodes).get(),c=d.length,e=0;e<c;e++)a=d[e],a.nodeType===wysihtml5.TEXT_NODE&&""===a.data&&a.parentNode.removeChild(a)};wysihtml5.dom.renameElement=function(a,d){for(var c=a.ownerDocument.createElement(d),e;e=a.firstChild;)c.appendChild(e);wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(c);a.parentNode.replaceChild(c,a);return c};
wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode)if(a.firstChild){for(var d=a.ownerDocument.createDocumentFragment();a.firstChild;)d.appendChild(a.firstChild);a.parentNode.replaceChild(d,a)}else a.parentNode.removeChild(a)};
(function(a){function d(a){var d=a.ownerDocument.createElement("br");a.appendChild(d)}a.resolveList=function(c){if(!("MENU"!==c.nodeName&&"UL"!==c.nodeName&&"OL"!==c.nodeName)){var e=c.ownerDocument.createDocumentFragment(),b=c.previousElementSibling||c.previousSibling,h,f,k;for(b&&"block"!==a.getStyle("display").from(b)&&d(e);k=c.firstChild;){for(h=k.lastChild;b=k.firstChild;)f=(f=b===h)&&"block"!==a.getStyle("display").from(b)&&"BR"!==b.nodeName,e.appendChild(b),f&&d(e);k.parentNode.removeChild(k)}c.parentNode.replaceChild(e,
c)}}})(wysihtml5.dom);
(function(a){var d=document,c="parent top opener frameElement frames localStorage globalStorage sessionStorage indexedDB".split(" "),e="open close openDialog showModalDialog alert confirm prompt openDatabase postMessage XMLHttpRequest XDomainRequest".split(" "),b=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION;this.config=a.lang.object({}).merge(c).get();this.iframe=this._createIframe()},insertInto:function(a){"string"===typeof a&&
(a=d.getElementById(a));a.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet");},_createIframe:function(){var b=this,c=d.createElement("iframe");c.className="wysihtml5-sandbox";a.dom.setAttributes({security:"restricted",allowtransparency:"true",
frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(c);a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(c.src="javascript:'<html></html>'");c.onload=function(){c.onreadystatechange=c.onload=null;b._onLoadIframe(c)};c.onreadystatechange=function(){/loaded|complete/.test(c.readyState)&&(c.onreadystatechange=c.onload=null,b._onLoadIframe(c))};return c},_onLoadIframe:function(h){if(a.dom.contains(d.documentElement,h)){var f=this,k=h.contentWindow,j=h.contentWindow.document,g=this._getHtml({charset:d.characterSet||
d.charset||"utf-8",stylesheets:this.config.stylesheets});j.open("text/html","replace");j.write(g);j.close();this.getWindow=function(){return h.contentWindow};this.getDocument=function(){return h.contentWindow.document};k.onerror=function(a,b,c){throw Error("wysihtml5.Sandbox: "+a,b,c);};if(!a.browser.supportsSandboxedIframes()){var l,g=0;for(l=c.length;g<l;g++)this._unset(k,c[g]);g=0;for(l=e.length;g<l;g++)this._unset(k,e[g],a.EMPTY_FUNCTION);g=0;for(l=b.length;g<l;g++)this._unset(j,b[g]);this._unset(j,
"cookie","",!0)}this.loaded=!0;setTimeout(function(){f.callback(f)},0)}},_getHtml:function(b){var c=b.stylesheets,d="",e=0,g;if(c="string"===typeof c?[c]:c)for(g=c.length;e<g;e++)d+='<link rel="stylesheet" href="'+c[e]+'">';b.stylesheets=d;return a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(g){}try{b.__defineGetter__(c,function(){return d})}catch(l){}if(e)try{b.__defineSetter__(c,
function(){})}catch(m){}if(!a.browser.crashesWhenDefineProperty(c))try{var r={get:function(){return d}};e&&(r.set=function(){});Object.defineProperty(b,c,r)}catch(p){}}})})(wysihtml5);(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(d){return{on:function(c){for(var e in d)c.setAttribute(a[e]||e,d[e])}}}})();
wysihtml5.dom.setStyles=function(a){return{on:function(d){d=d.style;if("string"===typeof a)d.cssText+=";"+a;else for(var c in a)"float"===c?(d.cssFloat=a[c],d.styleFloat=a[c]):d[c]=a[c]}}};
(function(a){a.simulatePlaceholder=function(d,c,e){var b=function(){c.hasPlaceholderSet()&&c.clear();a.removeClass(c.element,"placeholder")},h=function(){c.isEmpty()&&(c.setValue(e),a.addClass(c.element,"placeholder"))};d.observe("set_placeholder",h).observe("unset_placeholder",b).observe("focus:composer",b).observe("paste:composer",b).observe("blur:composer",h);h()}})(wysihtml5.dom);
(function(a){var d=document.documentElement;"textContent"in d?(a.setTextContent=function(a,d){a.textContent=d},a.getTextContent=function(a){return a.textContent}):"innerText"in d?(a.setTextContent=function(a,d){a.innerText=d},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,d){a.nodeValue=d},a.getTextContent=function(a){return a.nodeValue})})(wysihtml5.dom);
wysihtml5.quirks.cleanPastedHTML=function(){var a={"a u":wysihtml5.dom.replaceWithChildNodes};return function(d,c,e){c=c||a;e=e||d.ownerDocument||document;var b="string"===typeof d,h,f,k,j=0;d=b?wysihtml5.dom.getAsDom(d,e):d;for(k in c){h=d.querySelectorAll(k);e=c[k];for(f=h.length;j<f;j++)e(h[j])}return b?d.innerHTML:d}}();
(function(a){var d=a.dom,c=function(){var a=this;setTimeout(function(){var c=a.innerHTML.toLowerCase();if("<p>&nbsp;</p>"==c||"<p>&nbsp;</p><p>&nbsp;</p>"==c)a.innerHTML=""},0)};a.quirks.ensureProperClearing=function(a){d.observe(a.element,["cut","keydown"],c)};var e=["OL","UL","MENU"];a.quirks.ensureProperClearingOfLists=function(b){d.observe(b.element,"keydown",function(c){if(c.keyCode===a.BACKSPACE_KEY){var f=b.selection.getSelectedNode();c=b.element;c.firstChild&&a.lang.array(e).contains(c.firstChild.nodeName)&&
(f=d.getParentElement(f,{nodeName:e}))&&f==c.firstChild&&1>=f.childNodes.length&&(f.firstChild?""===f.firstChild.innerHTML:1)&&f.parentNode.removeChild(f)}})}})(wysihtml5);(function(a){a.quirks.getCorrectInnerHTML=function(d){var c=d.innerHTML;if(-1===c.indexOf("%7E"))return c;d=d.querySelectorAll("[href*='~'], [src*='~']");var e,b,h,f;f=0;for(h=d.length;f<h;f++)e=d[f].href||d[f].src,b=a.lang.string(e).replace("~").by("%7E"),c=a.lang.string(c).replace(b).by(e);return c}})(wysihtml5);
(function(a){var d=a.dom,c="LI P H1 H2 H3 H4 H5 H6".split(" "),e=["UL","OL","MENU"];a.quirks.insertLineBreakOnReturn=function(b){function h(c){if(c=d.getParentElement(c,{nodeName:["P","DIV"]},2)){var e=document.createTextNode(a.INVISIBLE_SPACE);d.insert(e).before(c);d.replaceWithChildNodes(c);b.selection.selectNode(e)}}d.observe(b.element.ownerDocument,"keydown",function(f){var k=f.keyCode;if(!(f.shiftKey||k!==a.ENTER_KEY&&k!==a.BACKSPACE_KEY)){var j=b.selection.getSelectedNode();(j=d.getParentElement(j,
{nodeName:c},4))?"LI"===j.nodeName&&(k===a.ENTER_KEY||k===a.BACKSPACE_KEY)?setTimeout(function(){var a=b.selection.getSelectedNode(),c;a&&((c=d.getParentElement(a,{nodeName:e},2))||h(a))},0):j.nodeName.match(/H[1-6]/)&&k===a.ENTER_KEY&&setTimeout(function(){h(b.selection.getSelectedNode())},0):k===a.ENTER_KEY&&!a.browser.insertsLineBreaksOnReturn()&&(b.commands.exec("insertLineBreak"),f.preventDefault())}})}})(wysihtml5);
(function(a){a.quirks.redraw=function(d){a.dom.addClass(d,"wysihtml5-quirks-redraw");a.dom.removeClass(d,"wysihtml5-quirks-redraw");try{var c=d.ownerDocument;c.execCommand("italic",!1,null);c.execCommand("italic",!1,null)}catch(e){}}})(wysihtml5);
(function(a){var d=a.dom;a.Selection=Base.extend({constructor:function(a){window.rangy.init();this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var d=rangy.createRange(this.doc);d.setStartBefore(a);d.setEndBefore(a);return this.setSelection(d)},setAfter:function(a){var d=rangy.createRange(this.doc);d.setStartAfter(a);d.setEndAfter(a);return this.setSelection(d)},
selectNode:function(c){var e=rangy.createRange(this.doc),b=c.nodeType===a.ELEMENT_NODE,h="canHaveHTML"in c?c.canHaveHTML:"IMG"!==c.nodeName,f=b?c.innerHTML:c.data,f=""===f||f===a.INVISIBLE_SPACE,k=d.getStyle("display").from(c),k="block"===k||"list-item"===k;if(f&&b&&h)try{c.innerHTML=a.INVISIBLE_SPACE}catch(j){}h?e.selectNodeContents(c):e.selectNode(c);h&&f&&b?e.collapse(k):h&&f&&(e.setStartAfter(c),e.setEndAfter(c));this.setSelection(e)},getSelectedNode:function(a){if(a&&this.doc.selection&&"Control"===
this.doc.selection.type&&(a=this.doc.selection.createRange())&&a.length)return a.item(0);a=this.getSelection(this.doc);return a.focusNode===a.anchorNode?a.focusNode:(a=this.getRange(this.doc))?a.commonAncestorContainer:this.doc.body},executeAndRestore:function(c,d){var b=this.doc.body,h=d&&b.scrollTop,f=d&&b.scrollLeft,k='<span class="_wysihtml5-temp-placeholder">'+a.INVISIBLE_SPACE+"</span>",j=this.getRange(this.doc);if(j){k=j.createContextualFragment(k);j.insertNode(k);try{c(j.startContainer,j.endContainer)}catch(g){setTimeout(function(){throw g;
},0)}(caretPlaceholder=this.doc.querySelector("._wysihtml5-temp-placeholder"))?(j=rangy.createRange(this.doc),j.selectNode(caretPlaceholder),j.deleteContents(),this.setSelection(j)):b.focus();d&&(b.scrollTop=h,b.scrollLeft=f);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(l){}}else c(b,b)},executeAndRestoreSimple:function(a){var d,b,h=this.getRange(),f=this.doc.body,k;if(h){d=h.getNodes([3]);f=d[0]||h.startContainer;k=d[d.length-1]||h.endContainer;d=f===h.startContainer?h.startOffset:
0;b=k===h.endContainer?h.endOffset:k.length;try{a(h.startContainer,h.endContainer)}catch(j){setTimeout(function(){throw j;},0)}a=rangy.createRange(this.doc);try{a.setStart(f,d)}catch(g){}try{a.setEnd(k,b)}catch(l){}try{this.setSelection(a)}catch(m){}}else a(f,f)},insertHTML:function(a){a=rangy.createRange(this.doc).createContextualFragment(a);var d=a.lastChild;this.insertNode(a);d&&this.setAfter(d)},insertNode:function(a){var d=this.getRange();d&&d.insertNode(a)},surround:function(a){var d=this.getRange();
if(d)try{d.surroundContents(a),this.selectNode(a)}catch(b){a.appendChild(d.extractContents()),d.insertNode(a)}},scrollIntoView:function(){var c=this.doc,d=c.documentElement.scrollHeight>c.documentElement.offsetHeight,b;if(!(b=c._wysihtml5ScrollIntoViewElement))b=c.createElement("span"),b.innerHTML=a.INVISIBLE_SPACE;b=c._wysihtml5ScrollIntoViewElement=b;if(d){this.insertNode(b);var d=b,h=0;if(d.parentNode){do h+=d.offsetTop||0,d=d.offsetParent;while(d)}d=h;b.parentNode.removeChild(b);d>c.body.scrollTop&&
(c.body.scrollTop=d)}},selectLine:function(){a.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var a=this.doc.defaultView.getSelection();a.modify("extend","left","lineboundary");a.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var a=this.doc.selection.createRange(),d=a.boundingTop,b=this.doc.body.scrollWidth,h;if(a.moveToPoint){0===d&&(h=this.doc.createElement("span"),this.insertNode(h),d=h.offsetTop,
h.parentNode.removeChild(h));d+=1;for(h=-10;h<b;h+=2)try{a.moveToPoint(h,d);break}catch(f){}for(h=this.doc.selection.createRange();0<=b;b--)try{h.moveToPoint(b,d);break}catch(k){}a.setEndPoint("EndToEnd",h);a.select()}},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,d){var b=this.getRange();return b?b.getNodes([a],d):[]},getRange:function(){var a=this.getSelection();return a&&a.rangeCount&&a.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||
this.doc.parentWindow)},setSelection:function(a){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(a)}})})(wysihtml5);
(function(a,d){function c(a,b){return d.dom.isCharacterDataNode(a)?0==b?!!a.previousSibling:b==a.length?!!a.nextSibling:!0:0<b&&b<a.childNodes.length}function e(a,b,c){var f;d.dom.isCharacterDataNode(b)&&(0==c?(c=d.dom.getNodeIndex(b),b=b.parentNode):c==b.length?(c=d.dom.getNodeIndex(b)+1,b=b.parentNode):f=d.dom.splitDataNode(b,c));if(!f){f=b.cloneNode(!1);f.id&&f.removeAttribute("id");for(var h;h=b.childNodes[c];)f.appendChild(h);d.dom.insertAfter(f,b)}return b==a?f:e(a,f.parentNode,d.dom.getNodeIndex(f))}
function b(b){this.firstTextNode=(this.isElementMerge=b.nodeType==a.ELEMENT_NODE)?b.lastChild:b;this.textNodes=[this.firstTextNode]}function h(a,b,c,d){this.tagNames=a||[f];this.cssClass=b||"";this.similarClassRegExp=c;this.normalize=d;this.applyToAnyTagName=!1}var f="span",k=/\s+/g;b.prototype={doMerge:function(){for(var a=[],b,c,d=0,e=this.textNodes.length;d<e;++d)b=this.textNodes[d],c=b.parentNode,a[d]=b.data,d&&(c.removeChild(b),c.hasChildNodes()||c.parentNode.removeChild(c));return this.firstTextNode.data=
a=a.join("")},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;b<c;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}};h.prototype={getAncestorWithClass:function(b){for(var c;b;){if(this.cssClass)if(c=this.cssClass,b.className){var e=b.className.match(this.similarClassRegExp)||[];c=e[e.length-1]===c}else c=!1;else c=!0;if(b.nodeType==a.ELEMENT_NODE&&d.dom.arrayContains(this.tagNames,
b.tagName.toLowerCase())&&c)return b;b=b.parentNode}return!1},postApply:function(a,c){for(var d=a[0],e=a[a.length-1],f=[],h,k=d,n=e,u=0,w=e.length,v,E,z=0,s=a.length;z<s;++z)v=a[z],(E=this.getAdjacentMergeableTextNode(v.parentNode,!1))?(h||(h=new b(E),f.push(h)),h.textNodes.push(v),v===d&&(k=h.firstTextNode,u=k.length),v===e&&(n=h.firstTextNode,w=h.getLength())):h=null;if(d=this.getAdjacentMergeableTextNode(e.parentNode,!0))h||(h=new b(e),f.push(h)),h.textNodes.push(d);if(f.length){z=0;for(s=f.length;z<
s;++z)f[z].doMerge();c.setStart(k,u);c.setEnd(n,w)}},getAdjacentMergeableTextNode:function(b,c){var d=b.nodeType==a.TEXT_NODE,e=d?b.parentNode:b,f=c?"nextSibling":"previousSibling";if(d){if((d=b[f])&&d.nodeType==a.TEXT_NODE)return d}else if((d=e[f])&&this.areElementsMergeable(b,d))return d[c?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,b){var c;if(c=d.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase()))if(c=d.dom.arrayContains(this.tagNames,(b.tagName||"").toLowerCase()))if(c=
a.className.replace(k," ")==b.className.replace(k," "))a:if(a.attributes.length!=b.attributes.length)c=!1;else{c=0;for(var e=a.attributes.length,f,h;c<e;++c)if(f=a.attributes[c],h=f.name,"class"!=h&&(h=b.attributes.getNamedItem(h),f.specified!=h.specified||f.specified&&f.nodeValue!==h.nodeValue)){c=!1;break a}c=!0}return c},createContainer:function(a){a=a.createElement(this.tagNames[0]);this.cssClass&&(a.className=this.cssClass);return a},applyToTextNode:function(a){var b=a.parentNode;1==b.childNodes.length&&
d.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())?this.cssClass&&(a=this.cssClass,b.className?(b.className&&(b.className=b.className.replace(this.similarClassRegExp,"")),b.className+=" "+a):b.className=a):(b=this.createContainer(d.dom.getDocument(a)),a.parentNode.insertBefore(b,a),b.appendChild(a))},isRemovable:function(b){return d.dom.arrayContains(this.tagNames,b.tagName.toLowerCase())&&a.lang.string(b.className).trim()==this.cssClass},undoToTextNode:function(a,b,d){b.containsNode(d)||
(a=b.cloneRange(),a.selectNode(d),a.isPointInRange(b.endContainer,b.endOffset)&&c(b.endContainer,b.endOffset)&&(e(d,b.endContainer,b.endOffset),b.setEndAfter(d)),a.isPointInRange(b.startContainer,b.startOffset)&&c(b.startContainer,b.startOffset)&&(d=e(d,b.startContainer,b.startOffset)));this.similarClassRegExp&&d.className&&(d.className=d.className.replace(this.similarClassRegExp,""));if(this.isRemovable(d)){b=d;for(d=b.parentNode;b.firstChild;)d.insertBefore(b.firstChild,b);d.removeChild(b)}},applyToRange:function(b){var c=
b.getNodes([a.TEXT_NODE]);if(!c.length)try{var d=this.createContainer(b.endContainer.ownerDocument);b.surroundContents(d);this.selectNode(b,d);return}catch(e){}b.splitBoundaries();c=b.getNodes([a.TEXT_NODE]);if(c.length){for(var f=0,h=c.length;f<h;++f)d=c[f],this.getAncestorWithClass(d)||this.applyToTextNode(d);b.setStart(c[0],0);d=c[c.length-1];b.setEnd(d,d.length);this.normalize&&this.postApply(c,b)}},undoToRange:function(b){var c=b.getNodes([a.TEXT_NODE]),d,e;c.length?(b.splitBoundaries(),c=b.getNodes([a.TEXT_NODE])):
(c=b.endContainer.ownerDocument.createTextNode(a.INVISIBLE_SPACE),b.insertNode(c),b.selectNode(c),c=[c]);for(var f=0,h=c.length;f<h;++f)d=c[f],(e=this.getAncestorWithClass(d))&&this.undoToTextNode(d,b,e);1==h?this.selectNode(b,c[0]):(b.setStart(c[0],0),d=c[c.length-1],b.setEnd(d,d.length),this.normalize&&this.postApply(c,b))},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e="canHaveHTML"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data;if((f=""===f||f===a.INVISIBLE_SPACE)&&d&&e)try{c.innerHTML=
a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c);f&&d?b.collapse(!1):f&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),d=d?d.toString():"";c.detach();return d},isAppliedToRange:function(b){var c=[],d,e=b.getNodes([a.TEXT_NODE]);if(!e.length)return(d=this.getAncestorWithClass(b.startContainer))?[d]:!1;for(var f=0,h=e.length,k;f<h;++f){k=this.getTextSelectedByRange(e[f],b);d=this.getAncestorWithClass(e[f]);
if(""!=k&&!d)return!1;c.push(d)}return c},toggleRange:function(a){this.isAppliedToRange(a)?this.undoToRange(a):this.applyToRange(a)}};a.selection.HTMLApplier=h})(wysihtml5,rangy);
wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,d){var c=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),b=c&&c.exec,h=null;this.editor.fire("beforecommand:composer");if(b)e.unshift(this.composer),h=b.apply(c,e);else try{h=this.doc.execCommand(a,!1,d)}catch(f){}this.editor.fire("aftercommand:composer");return h},state:function(a,
d){var c=wysihtml5.commands[a],e=wysihtml5.lang.array(arguments).get(),b=c&&c.state;if(b)return e.unshift(this.composer),b.apply(c,e);try{return this.doc.queryCommandState(a)}catch(h){return!1}},value:function(a){var d=wysihtml5.commands[a],c=d&&d.value;if(c)return c.call(d,this.composer,a);try{return this.doc.queryCommandValue(a)}catch(e){return null}}});
(function(a){a.commands.bold={exec:function(d,c){return a.commands.formatInline.exec(d,c,"b")},state:function(d,c){return a.commands.formatInline.state(d,c,"b")},value:function(){}}})(wysihtml5);
(function(a){var d=a.dom;a.commands.createLink={exec:function(c,e,b){var h=this.state(c,e);if(h)c.selection.executeAndRestore(function(){for(var a=h.length,b=0,c,e,f;b<a;b++)c=h[b],e=d.getParentElement(c,{nodeName:"code"}),f=d.getTextContent(c),f.match(d.autoLink.URL_REG_EXP)&&!e?d.renameElement(c,"code"):d.replaceWithChildNodes(c)});else{e=b="object"===typeof b?b:{href:b};b=c.doc;var f="_wysihtml5-temp-"+ +new Date,k=0,j,g,l;a.commands.formatInline.exec(c,void 0,"A",f,/non-matching-class/g);j=b.querySelectorAll("A."+
f);for(f=j.length;k<f;k++)for(l in g=j[k],g.removeAttribute("class"),e)g.setAttribute(l,e[l]);l=g;1===f&&(f=d.getTextContent(g),k=!!g.querySelector("*"),f=""===f||f===a.INVISIBLE_SPACE,!k&&f&&(d.setTextContent(g,e.text||g.href),e=b.createTextNode(" "),c.selection.setAfter(g),c.selection.insertNode(e),l=e));c.selection.setAfter(l)}},state:function(c,d){return a.commands.formatInline.state(c,d,"A")},value:function(){}}})(wysihtml5);
(function(a){var d=/wysiwyg-font-size-[a-z\-]+/g;a.commands.fontSize={exec:function(c,e,b){return a.commands.formatInline.exec(c,e,"span","wysiwyg-font-size-"+b,d)},state:function(c,e,b){return a.commands.formatInline.state(c,e,"span","wysiwyg-font-size-"+b,d)},value:function(){}}})(wysihtml5);
(function(a){var d=/wysiwyg-color-[a-z]+/g;a.commands.foreColor={exec:function(c,e,b){return a.commands.formatInline.exec(c,e,"span","wysiwyg-color-"+b,d)},state:function(c,e,b){return a.commands.formatInline.state(c,e,"span","wysiwyg-color-"+b,d)},value:function(){}}})(wysihtml5);
(function(a){function d(b){for(b=b.previousSibling;b&&b.nodeType===a.TEXT_NODE&&!a.lang.string(b.data).trim();)b=b.previousSibling;return b}function c(b){for(b=b.nextSibling;b&&b.nodeType===a.TEXT_NODE&&!a.lang.string(b.data).trim();)b=b.nextSibling;return b}function e(a){return"BR"===a.nodeName||"block"===b.getStyle("display").from(a)?!0:!1}var b=a.dom,h="H1 H2 H3 H4 H5 H6 P BLOCKQUOTE DIV".split(" ");a.commands.formatBlock={exec:function(f,k,j,g,l){var m=f.doc,r=this.state(f,k,j,g,l),p;j="string"===
typeof j?j.toUpperCase():j;if(r)f.selection.executeAndRestoreSimple(function(){l&&(r.className=r.className.replace(l,""));var f=!!a.lang.string(r.className).trim();if(!f&&r.nodeName===(j||"DIV")){var f=r,h=f.ownerDocument,g=c(f),k=d(f);g&&!e(g)&&f.parentNode.insertBefore(h.createElement("br"),g);k&&!e(k)&&f.parentNode.insertBefore(h.createElement("br"),f);b.replaceWithChildNodes(r)}else f&&b.renameElement(r,"DIV")});else{if(null===j||a.lang.array(h).contains(j))if(p=f.selection.getSelectedNode(),
r=b.getParentElement(p,{nodeName:h})){f.selection.executeAndRestoreSimple(function(){j&&(r=b.renameElement(r,j));if(g){var a=r;a.className?(a.className=a.className.replace(l,""),a.className+=" "+g):a.className=g}});return}if(f.commands.support(k)){f=j||"DIV";if(g)var t=b.observe(m,"DOMNodeInserted",function(c){c=c.target;var d;c.nodeType===a.ELEMENT_NODE&&(d=b.getStyle("display").from(c),"inline"!==d.substr(0,6)&&(c.className+=" "+g))});m.execCommand(k,!1,f);t&&t.stop()}else r=m.createElement(j||
"DIV"),g&&(r.className=g),k=r,f.selection.selectLine(),f.selection.surround(k),m=c(k),t=d(k),m&&"BR"===m.nodeName&&m.parentNode.removeChild(m),t&&"BR"===t.nodeName&&t.parentNode.removeChild(t),(m=k.lastChild)&&"BR"===m.nodeName&&m.parentNode.removeChild(m),f.selection.selectNode(k)}},state:function(a,c,d,e,h){d="string"===typeof d?d.toUpperCase():d;a=a.selection.getSelectedNode();return b.getParentElement(a,{nodeName:d,className:e,classRegExp:h})},value:function(){}}})(wysihtml5);
(function(a){function d(b,d,f){var k=b+":"+d;if(!e[k]){var j=e,g=a.selection.HTMLApplier,l=c[b];b=l?[b.toLowerCase(),l.toLowerCase()]:[b.toLowerCase()];j[k]=new g(b,d,f,!0)}return e[k]}var c={strong:"b",em:"i",b:"strong",i:"em"},e={};a.commands.formatInline={exec:function(a,c,e,k,j){c=a.selection.getRange();if(!c)return!1;d(e,k,j).toggleRange(c);a.selection.setSelection(c)},state:function(b,e,f,k,j){e=b.doc;var g=c[f]||f;if(!a.dom.hasElementWithTagName(e,f)&&!a.dom.hasElementWithTagName(e,g)||k&&
!a.dom.hasElementWithClassName(e,k))return!1;b=b.selection.getRange();return!b?!1:d(f,k,j).isAppliedToRange(b)},value:function(){}}})(wysihtml5);(function(a){a.commands.insertHTML={exec:function(a,c,e){a.commands.support(c)?a.doc.execCommand(c,!1,e):a.selection.insertHTML(e)},state:function(){return!1},value:function(){}}})(wysihtml5);
(function(a){a.commands.insertImage={exec:function(d,c,e){e="object"===typeof e?e:{src:e};var b=d.doc;c=this.state(d);var h;if(c)d.selection.setBefore(c),e=c.parentNode,e.removeChild(c),a.dom.removeEmptyTextNodes(e),"A"===e.nodeName&&!e.firstChild&&(d.selection.setAfter(e),e.parentNode.removeChild(e)),a.quirks.redraw(d.element);else{c=b.createElement("IMG");for(h in e)c[h]=e[h];d.selection.insertNode(c);a.browser.hasProblemsSettingCaretAfterImg()?(e=b.createTextNode(a.INVISIBLE_SPACE),d.selection.insertNode(e),
d.selection.setAfter(e)):d.selection.setAfter(c)}},state:function(d){var c;if(!a.dom.hasElementWithTagName(d.doc,"IMG"))return!1;c=d.selection.getSelectedNode();if(!c)return!1;if("IMG"===c.nodeName)return c;if(c.nodeType!==a.ELEMENT_NODE)return!1;c=d.selection.getText();if(c=a.lang.string(c).trim())return!1;d=d.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===a.nodeName});return 1!==d.length?!1:d[0]},value:function(a){return(a=this.state(a))&&a.src}}})(wysihtml5);
(function(a){var d="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(c,e){c.commands.support(e)?(c.doc.execCommand(e,!1,null),a.browser.autoScrollsToCaret()||c.selection.scrollIntoView()):c.commands.exec("insertHTML",d)},state:function(){return!1},value:function(){}}})(wysihtml5);
(function(a){a.commands.insertOrderedList={exec:function(d,c){var e=d.doc,b=d.selection.getSelectedNode(),h=a.dom.getParentElement(b,{nodeName:"OL"}),f=a.dom.getParentElement(b,{nodeName:"UL"}),b="_wysihtml5-temp-"+(new Date).getTime(),k;d.commands.support(c)?e.execCommand(c,!1,null):h?d.selection.executeAndRestoreSimple(function(){a.dom.resolveList(h)}):f?d.selection.executeAndRestoreSimple(function(){a.dom.renameElement(f,"ol")}):(d.commands.exec("formatBlock","div",b),k=e.querySelector("."+b),
e=""===k.innerHTML||k.innerHTML===a.INVISIBLE_SPACE,d.selection.executeAndRestoreSimple(function(){h=a.dom.convertToList(k,"ol")}),e&&d.selection.selectNode(h.querySelector("li")))},state:function(d){d=d.selection.getSelectedNode();return a.dom.getParentElement(d,{nodeName:"OL"})},value:function(){}}})(wysihtml5);
(function(a){a.commands.insertUnorderedList={exec:function(d,c){var e=d.doc,b=d.selection.getSelectedNode(),h=a.dom.getParentElement(b,{nodeName:"UL"}),f=a.dom.getParentElement(b,{nodeName:"OL"}),b="_wysihtml5-temp-"+(new Date).getTime(),k;d.commands.support(c)?e.execCommand(c,!1,null):h?d.selection.executeAndRestoreSimple(function(){a.dom.resolveList(h)}):f?d.selection.executeAndRestoreSimple(function(){a.dom.renameElement(f,"ul")}):(d.commands.exec("formatBlock","div",b),k=e.querySelector("."+b),
e=""===k.innerHTML||k.innerHTML===a.INVISIBLE_SPACE,d.selection.executeAndRestoreSimple(function(){h=a.dom.convertToList(k,"ul")}),e&&d.selection.selectNode(h.querySelector("li")))},state:function(d){d=d.selection.getSelectedNode();return a.dom.getParentElement(d,{nodeName:"UL"})},value:function(){}}})(wysihtml5);(function(a){a.commands.italic={exec:function(d,c){return a.commands.formatInline.exec(d,c,"i")},state:function(d,c){return a.commands.formatInline.state(d,c,"i")},value:function(){}}})(wysihtml5);
(function(a){var d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyCenter={exec:function(c){return a.commands.formatBlock.exec(c,"formatBlock",null,"wysiwyg-text-align-center",d)},state:function(c){return a.commands.formatBlock.state(c,"formatBlock",null,"wysiwyg-text-align-center",d)},value:function(){}}})(wysihtml5);
(function(a){var d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyLeft={exec:function(c){return a.commands.formatBlock.exec(c,"formatBlock",null,"wysiwyg-text-align-left",d)},state:function(c){return a.commands.formatBlock.state(c,"formatBlock",null,"wysiwyg-text-align-left",d)},value:function(){}}})(wysihtml5);
(function(a){var d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyRight={exec:function(c){return a.commands.formatBlock.exec(c,"formatBlock",null,"wysiwyg-text-align-right",d)},state:function(c){return a.commands.formatBlock.state(c,"formatBlock",null,"wysiwyg-text-align-right",d)},value:function(){}}})(wysihtml5);(function(a){a.commands.underline={exec:function(d,c){return a.commands.formatInline.exec(d,c,"u")},state:function(d,c){return a.commands.formatInline.state(d,c,"u")},value:function(){}}})(wysihtml5);
(function(a){var d='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",c='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",e=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.element=this.composer.element;this.history=[this.composer.getValue()];this.position=1;this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var b=this,h=this.composer.sandbox.getDocument(),
f;e.observe(this.element,"keydown",function(a){if(!(a.altKey||!a.ctrlKey&&!a.metaKey)){var c=a.keyCode,d=90===c&&a.shiftKey||89===c;90===c&&!a.shiftKey?(b.undo(),a.preventDefault()):d&&(b.redo(),a.preventDefault())}});e.observe(this.element,"keydown",function(a){a=a.keyCode;a!==f&&(f=a,(8===a||46===a)&&b.transact())});if(a.browser.hasUndoInContextMenu()){var k,j,g=function(){for(var a;a=h.querySelector("._wysihtml5-temp");)a.parentNode.removeChild(a);clearInterval(k)};e.observe(this.element,"contextmenu",
function(){g();b.composer.selection.executeAndRestoreSimple(function(){b.element.lastChild&&b.composer.selection.setAfter(b.element.lastChild);h.execCommand("insertHTML",!1,d);h.execCommand("insertHTML",!1,c);h.execCommand("undo",!1,null)});k=setInterval(function(){h.getElementById("_wysihtml5-redo")?(g(),b.redo()):h.getElementById("_wysihtml5-undo")||(g(),b.undo())},400);j||(j=!0,e.observe(document,"mousedown",g),e.observe(h,["mousedown","paste","cut","copy"],g))})}this.editor.observe("newword:composer",
function(){b.transact()}).observe("beforecommand:composer",function(){b.transact()})},transact:function(){var a=this.history[this.position-1],c=this.composer.getValue();if(c!=a){if(40<(this.history.length=this.position))this.history.shift(),this.position--;this.position++;this.history.push(c)}},undo:function(){this.transact();1>=this.position||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-
1]),this.editor.fire("redo:composer"))},set:function(a){this.composer.setValue(a);this.editor.focus(!0)}})})(wysihtml5);
wysihtml5.views.View=Base.extend({constructor:function(a,d,c){this.parent=a;this.element=d;this.config=c;this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.observe("beforeload",function(){a.parent.observe("change_view",function(d){d===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(a){}},hide:function(){this.element.style.display=
"none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});
(function(a){var d=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(a,b,c){this.base(a,b,c);this.textarea=this.parent.textarea;this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(c){var b=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);c&&(b=this.parent.parse(b));return b=a.lang.string(b).replace(a.INVISIBLE_SPACE).by("")},setValue:function(a,
b){b&&(a=this.parent.parse(a));this.element.innerHTML=a},show:function(){this.iframe.style.display=this._displayStyle||"";this.disable();this.enable()},hide:function(){this._displayStyle=d.getStyle("display").from(this.iframe);"none"===this._displayStyle&&(this._displayStyle=null);this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable");this.base()},enable:function(){this.element.setAttribute("contentEditable","true");this.base()},focus:function(c){a.browser.doesAsyncFocus()&&
this.hasPlaceholderSet()&&this.clear();this.base();var b=this.element.lastChild;c&&b&&("BR"===b.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return d.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var a=this.element.innerHTML;return""===a||a===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&
!this.element.querySelector("blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea")},_initSandbox:function(){var a=this;this.sandbox=new d.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets});this.iframe=this.sandbox.getIframe();var b=document.createElement("input");b.type="hidden";b.name="_wysihtml5_mode";b.value=1;var c=this.textarea.element;d.insert(this.iframe).after(c);d.insert(b).after(c)},_create:function(){var e=this;this.doc=
this.sandbox.getDocument();this.element=this.doc.body;this.textarea=this.parent.textarea;this.element.innerHTML=this.textarea.getValue(!0);this.enable();this.selection=new a.Selection(this.parent);this.commands=new a.Commands(this.parent);d.copyAttributes("className spellcheck title lang dir accessKey".split(" ")).from(this.textarea.element).to(this.element);d.addClass(this.element,this.config.composerClassName);this.config.style&&this.style();this.observe();var b=this.config.name;b&&(d.addClass(this.element,
b),d.addClass(this.iframe,b));(b="string"===typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder"))&&d.simulatePlaceholder(this.parent,this,b);this.commands.exec("styleWithCSS",!1);this._initAutoLinking();this._initObjectResizing();this._initUndoManager();(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){e.focus()},100);a.quirks.insertLineBreakOnReturn(this);c.clearsContentEditableCorrectly()||
a.quirks.ensureProperClearing(this);c.clearsListsInContentEditableCorrectly()||a.quirks.ensureProperClearingOfLists(this);this.initSync&&this.config.sync&&this.initSync();this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var e=this,b=c.canDisableAutoLinking(),h=c.doesAutoLinkingInContentEditable();b&&this.commands.exec("autoUrlDetect",!1);if(this.config.autoLink){(!h||h&&b)&&this.parent.observe("newword:composer",function(){e.selection.executeAndRestore(function(a,
b){d.autoLink(b.parentNode)})});var f=this.sandbox.getDocument().getElementsByTagName("a"),k=d.autoLink.URL_REG_EXP,j=function(b){b=a.lang.string(d.getTextContent(b)).trim();"www."===b.substr(0,4)&&(b="http://"+b);return b};d.observe(this.element,"keydown",function(a){if(f.length){a=e.selection.getSelectedNode(a.target.ownerDocument);var b=d.getParentElement(a,{nodeName:"A"},4),c;b&&(c=j(b),setTimeout(function(){var a=j(b);a!==c&&a.match(k)&&b.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){var e=
["width","height"],b=e.length,h=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing);this.config.allowObjectResizing?c.supportsEvent("resizeend")&&d.observe(h,"resizeend",function(c){c=c.target||c.srcElement;for(var d=c.style,j=0,g;j<b;j++)g=e[j],d[g]&&(c.setAttribute(g,parseInt(d[g],10)),d[g]="");a.quirks.redraw(h)}):c.supportsEvent("resizestart")&&d.observe(h,"resizestart",function(a){a.preventDefault()})},_initUndoManager:function(){new a.UndoManager(this.parent)}})})(wysihtml5);
(function(a){var d=a.dom,c=document,e=window,b=c.createElement("div"),h="background-color color cursor font-family font-size font-style font-variant font-weight line-height letter-spacing text-align text-decoration text-indent text-rendering word-break word-wrap word-spacing".split(" "),f="background-color border-collapse border-bottom-color border-bottom-style border-bottom-width border-left-color border-left-style border-left-width border-right-color border-right-style border-right-width border-top-color border-top-style border-top-width clear display float margin-bottom margin-left margin-right margin-top outline-color outline-offset outline-width outline-style padding-left padding-right padding-top padding-bottom position top left right bottom z-index vertical-align text-align -webkit-box-sizing -moz-box-sizing -ms-box-sizing box-sizing -webkit-box-shadow -moz-box-shadow -ms-box-shadow box-shadow -webkit-border-top-right-radius -moz-border-radius-topright border-top-right-radius -webkit-border-bottom-right-radius -moz-border-radius-bottomright border-bottom-right-radius -webkit-border-bottom-left-radius -moz-border-radius-bottomleft border-bottom-left-radius -webkit-border-top-left-radius -moz-border-radius-topleft border-top-left-radius width height".split(" "),
k="width height top left right bottom".split(" "),j=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];
a.views.Composer.prototype.style=function(){var g=this,l=c.querySelector(":focus"),m=this.textarea.element,r=m.hasAttribute("placeholder"),p=r&&m.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||b.cloneNode(!1);this.blurStylesHost=this.blurStylesHost||b.cloneNode(!1);r&&m.removeAttribute("placeholder");m===l&&m.blur();d.copyStyles(f).from(m).to(this.iframe).andTo(this.blurStylesHost);d.copyStyles(h).from(m).to(this.element).andTo(this.blurStylesHost);d.insertCSS(j).into(this.element.ownerDocument);
if(m.setActive)try{m.setActive()}catch(t){}else{var n=m.style,u=c.documentElement.scrollTop||c.body.scrollTop,w=c.documentElement.scrollLeft||c.body.scrollLeft,n={position:n.position,top:n.top,left:n.left,WebkitUserSelect:n.WebkitUserSelect};d.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(m);m.focus();d.setStyles(n).on(m);e.scrollTo&&e.scrollTo(w,u)}d.copyStyles(f).from(m).to(this.focusStylesHost);d.copyStyles(h).from(m).to(this.focusStylesHost);var v=
a.lang.array(f).without(["display"]);l?l.focus():m.blur();r&&m.setAttribute("placeholder",p);if(!a.browser.hasCurrentStyleProperty())var E=d.observe(e,"resize",function(){if(d.contains(document.documentElement,g.iframe)){var a=d.getStyle("display").from(m),b=d.getStyle("display").from(g.iframe);m.style.display="";g.iframe.style.display="none";d.copyStyles(k).from(m).to(g.iframe).andTo(g.focusStylesHost).andTo(g.blurStylesHost);g.iframe.style.display=b;m.style.display=a}else E.stop()});this.parent.observe("focus:composer",
function(){d.copyStyles(v).from(g.focusStylesHost).to(g.iframe);d.copyStyles(h).from(g.focusStylesHost).to(g.element)});this.parent.observe("blur:composer",function(){d.copyStyles(v).from(g.blurStylesHost).to(g.iframe);d.copyStyles(h).from(g.blurStylesHost).to(g.element)});return this}})(wysihtml5);
(function(a){var d=a.dom,c=a.browser,e={66:"bold",73:"italic",85:"underline"};a.views.Composer.prototype.observe=function(){var b=this,h=this.getValue(),f=this.sandbox.getIframe(),k=this.element,j=c.supportsEventsInIframeCorrectly()?k:this.sandbox.getWindow(),g=c.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];d.observe(f,"DOMNodeRemoved",function(){clearInterval(l);b.parent.fire("destroy:composer")});var l=setInterval(function(){d.contains(document.documentElement,f)||(clearInterval(l),
b.parent.fire("destroy:composer"))},250);d.observe(j,"focus",function(){b.parent.fire("focus").fire("focus:composer");setTimeout(function(){h=b.getValue()},0)});d.observe(j,"blur",function(){h!==b.getValue()&&b.parent.fire("change").fire("change:composer");b.parent.fire("blur").fire("blur:composer")});a.browser.isIos()&&d.observe(k,"blur",function(){var a=k.ownerDocument.createElement("input"),c=document.documentElement.scrollTop||document.body.scrollTop,d=document.documentElement.scrollLeft||document.body.scrollLeft;
try{b.selection.insertNode(a)}catch(e){k.appendChild(a)}a.focus();a.parentNode.removeChild(a);window.scrollTo(d,c)});d.observe(k,"dragenter",function(){b.parent.fire("unset_placeholder")});c.firesOnDropOnlyWhenOnDragOverIsCancelled()&&d.observe(k,["dragover","dragenter"],function(a){a.preventDefault()});d.observe(k,g,function(a){var d=a.dataTransfer,e;console.log("PASTED",a);d&&c.supportsDataTransfer()&&(e=d.getData("text/html")||d.getData("text/plain"));e?(k.focus(),b.commands.exec("insertHTML",
e),b.parent.fire("paste").fire("paste:composer"),a.stopPropagation(),a.preventDefault()):setTimeout(function(){b.parent.fire("paste").fire("paste:composer")},0)});d.observe(k,"keyup",function(c){c=c.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&b.parent.fire("newword:composer")});this.parent.observe("paste:composer",function(){setTimeout(function(){b.parent.fire("newword:composer")},0)});c.canSelectImagesInContentEditable()||d.observe(k,"mousedown",function(a){var c=a.target;"IMG"===c.nodeName&&(b.selection.selectNode(c),
a.preventDefault())});d.observe(k,"keydown",function(a){var c=e[a.keyCode];if((a.ctrlKey||a.metaKey)&&!a.altKey&&c)b.commands.exec(c),a.preventDefault()});d.observe(k,"keydown",function(c){var d=b.selection.getSelectedNode(!0),e=c.keyCode;if(d&&"IMG"===d.nodeName&&(e===a.BACKSPACE_KEY||e===a.DELETE_KEY))e=d.parentNode,e.removeChild(d),"A"===e.nodeName&&!e.firstChild&&e.parentNode.removeChild(e),setTimeout(function(){a.quirks.redraw(k)},0),c.preventDefault()});var m={IMG:"Image: ",A:"Link: "};d.observe(k,
"mouseover",function(a){a=a.target;var b=a.nodeName;!("A"!==b&&"IMG"!==b)&&!a.hasAttribute("title")&&(b=m[b]+(a.getAttribute("href")||a.getAttribute("src")),a.setAttribute("title",b))})}})(wysihtml5);
(function(a){a.views.Synchronizer=Base.extend({constructor:function(a,c,e){this.editor=a;this.textarea=c;this.composer=e;this._observe()},fromComposerToTextarea:function(d){this.textarea.setValue(a.lang.string(this.composer.getValue()).trim(),d)},fromTextareaToComposer:function(a){var c=this.textarea.getValue();c?this.composer.setValue(c,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},
_observe:function(){var d,c=this,e=this.textarea.element.form,b=function(){d=setInterval(function(){c.fromComposerToTextarea()},400)},h=function(){clearInterval(d);d=null};b();e&&(a.dom.observe(e,"submit",function(){c.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){c.fromTextareaToComposer()},0)}));this.editor.observe("change_view",function(a){"composer"===a&&!d?(c.fromTextareaToComposer(!0),b()):"textarea"===a&&(c.fromComposerToTextarea(!0),h())});this.editor.observe("destroy:composer",
h)}})})(wysihtml5);
wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,d,c){this.base(a,d,c);this._observe()},clear:function(){this.element.value=""},getValue:function(a){var d=this.isEmpty()?"":this.element.value;a&&(d=this.parent.parse(d));return d},setValue:function(a,d){d&&(a=this.parent.parse(a));this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),d=this.element.getAttribute("placeholder")||null,c=this.element.value;
return a&&!c||c===d},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,d=this.parent,c={focusin:"focus",focusout:"blur"},e=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];d.observe("beforeload",function(){wysihtml5.dom.observe(a,e,function(a){a=c[a.type]||a.type;d.fire(a).fire(a+":textarea")});wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){d.fire("paste").fire("paste:textarea")},
0)})})}});
(function(a){var d=a.dom;a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,d){this.link=a;this.container=d},_observe:function(){if(!this._observed){var c=this,e=function(a){var b=c._serialize();b==c.elementToChange?c.fire("edit",b):c.fire("save",b);c.hide();a.preventDefault();a.stopPropagation()};d.observe(c.link,"click",function(){d.hasClass(c.link,"wysihtml5-command-dialog-opened")&&setTimeout(function(){c.hide()},0)});d.observe(this.container,"keydown",function(b){var d=b.keyCode;
d===a.ENTER_KEY&&e(b);d===a.ESCAPE_KEY&&c.hide()});d.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",e);d.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){c.fire("cancel");c.hide();a.preventDefault();a.stopPropagation()});for(var b=this.container.querySelectorAll("input, select, textarea"),h=0,f=b.length,k=function(){clearInterval(c.interval)};h<f;h++)d.observe(b[h],"change",k);this._observed=!0}},_serialize:function(){for(var a=this.elementToChange||
{},d=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),b=d.length,h=0;h<b;h++)a[d[h].getAttribute("data-wysihtml5-dialog-field")]=d[h].value;return a},_interpolate:function(a){for(var d,b,h=document.querySelector(":focus"),f=this.container.querySelectorAll("[data-wysihtml5-dialog-field]"),k=f.length,j=0;j<k;j++)d=f[j],d!==h&&!(a&&"hidden"===d.type)&&(b=d.getAttribute("data-wysihtml5-dialog-field"),b=this.elementToChange?this.elementToChange[b]||"":d.defaultValue,d.value=b)},show:function(a){var e=
this,b=this.container.querySelector("input, select, textarea");this.elementToChange=a;this._observe();this._interpolate();a&&(this.interval=setInterval(function(){e._interpolate(!0)},500));d.addClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="";this.fire("show");if(b&&!a)try{b.focus()}catch(h){}},hide:function(){clearInterval(this.interval);this.elementToChange=null;d.removeClass(this.link,"wysihtml5-command-dialog-opened");this.container.style.display="none";this.fire("hide")}})})(wysihtml5);
(function(a){var d=a.dom,c={position:"relative"},e={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},b={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},h={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(f,k){var j=document.createElement("input");if(a.browser.supportsSpeechApiOn(j)){var g=document.createElement("div");a.lang.object(e).merge({width:k.offsetWidth+"px",height:k.offsetHeight+
"px"});d.insert(j).into(g);d.insert(g).into(k);d.setStyles(b).on(j);d.setAttributes(h).on(j);d.setStyles(e).on(g);d.setStyles(c).on(k);d.observe(j,"onwebkitspeechchange"in j?"webkitspeechchange":"speechchange",function(){f.execCommand("insertText",j.value);j.value=""});d.observe(j,"click",function(a){d.hasClass(k,"wysihtml5-command-disabled")&&a.preventDefault();a.stopPropagation()})}else k.style.display="none"}})(wysihtml5);
(function(a){var d=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(c,d){this.editor=c;this.container="string"===typeof d?document.getElementById(d):d;this.composer=c.composer;this._getLinks("command");this._getLinks("action");this._observe();this.show();for(var b=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),h=b.length,f=0;f<h;f++)new a.toolbar.Speech(this,b[f])},_getLinks:function(c){for(var d=this[c+"Links"]=a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+
c+"]")).get(),b=d.length,h=0,f=this[c+"Mapping"]={},k,j,g,l,m;h<b;h++)k=d[h],g=k.getAttribute("data-wysihtml5-"+c),l=k.getAttribute("data-wysihtml5-"+c+"-value"),j=this.container.querySelector("[data-wysihtml5-"+c+"-group='"+g+"']"),m=this._getDialog(k,g),f[g+":"+l]={link:k,group:j,name:g,value:l,dialog:m,state:!1}},_getDialog:function(c,d){var b=this,h=this.container.querySelector("[data-wysihtml5-dialog='"+d+"']"),f,k;h&&(f=new a.toolbar.Dialog(c,h),f.observe("show",function(){k=b.composer.selection.getBookmark();
b.editor.fire("show:dialog",{command:d,dialogContainer:h,commandLink:c})}),f.observe("save",function(a){k&&b.composer.selection.setBookmark(k);b._execCommand(d,a);b.editor.fire("save:dialog",{command:d,dialogContainer:h,commandLink:c})}),f.observe("cancel",function(){b.editor.focus(!1);b.editor.fire("cancel:dialog",{command:d,dialogContainer:h,commandLink:c})}));return f},execCommand:function(a,d){if(!this.commandsDisabled){var b=this.commandMapping[a+":"+d];b&&b.dialog&&!b.state?b.dialog.show():
this._execCommand(a,d)}},_execCommand:function(a,d){this.editor.focus(!1);this.composer.commands.exec(a,d);this._updateLinkStates()},execAction:function(a){var d=this.editor;switch(a){case "change_view":d.currentView===d.textarea?d.fire("change_view","composer"):d.fire("change_view","textarea")}},_observe:function(){for(var a=this,e=this.editor,b=this.container,h=this.commandLinks.concat(this.actionLinks),f=h.length,k=0;k<f;k++)d.setAttributes({href:"javascript:;",unselectable:"on"}).on(h[k]);d.delegate(b,
"[data-wysihtml5-command]","mousedown",function(a){a.preventDefault()});d.delegate(b,"[data-wysihtml5-command]","click",function(b){var d=this.getAttribute("data-wysihtml5-command"),e=this.getAttribute("data-wysihtml5-command-value");a.execCommand(d,e);b.preventDefault()});d.delegate(b,"[data-wysihtml5-action]","click",function(b){var d=this.getAttribute("data-wysihtml5-action");a.execAction(d);b.preventDefault()});e.observe("focus:composer",function(){a.bookmark=null;clearInterval(a.interval);a.interval=
setInterval(function(){a._updateLinkStates()},500)});e.observe("blur:composer",function(){clearInterval(a.interval)});e.observe("destroy:composer",function(){clearInterval(a.interval)});e.observe("change_view",function(e){setTimeout(function(){a.commandsDisabled="composer"!==e;a._updateLinkStates();a.commandsDisabled?d.addClass(b,"wysihtml5-commands-disabled"):d.removeClass(b,"wysihtml5-commands-disabled")},0)})},_updateLinkStates:function(){var c=this.commandMapping,e=this.actionMapping,b,h,f;for(b in c)f=
c[b],this.commandsDisabled?(h=!1,d.removeClass(f.link,"wysihtml5-command-active"),f.group&&d.removeClass(f.group,"wysihtml5-command-active"),f.dialog&&f.dialog.hide()):(h=this.composer.commands.state(f.name,f.value),a.lang.object(h).isArray()&&(h=1===h.length?h[0]:!0),d.removeClass(f.link,"wysihtml5-command-disabled"),f.group&&d.removeClass(f.group,"wysihtml5-command-disabled")),f.state!==h&&((f.state=h)?(d.addClass(f.link,"wysihtml5-command-active"),f.group&&d.addClass(f.group,"wysihtml5-command-active"),
f.dialog&&("object"===typeof h?f.dialog.show(h):f.dialog.hide())):(d.removeClass(f.link,"wysihtml5-command-active"),f.group&&d.removeClass(f.group,"wysihtml5-command-active"),f.dialog&&f.dialog.hide()));for(b in e)c=e[b],"change_view"===c.name&&(c.state=this.editor.currentView===this.editor.textarea,c.state?d.addClass(c.link,"wysihtml5-action-active"):d.removeClass(c.link,"wysihtml5-action-active"))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})})(wysihtml5);
(function(a){var d={name:void 0,style:!0,toolbar:void 0,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:a.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:void 0,allowObjectResizing:!0,supportTouchDevices:!0};a.Editor=a.lang.Dispatcher.extend({constructor:function(c,e){this.textareaElement="string"===typeof c?document.getElementById(c):c;this.config=a.lang.object({}).merge(d).merge(e).get();this.currentView=
this.textarea=new a.views.Textarea(this,this.textareaElement,this.config);this._isCompatible=a.browser.supported();if(!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var b=this;setTimeout(function(){b.fire("beforeload").fire("load")},0)}else{a.dom.addClass(document.body,this.config.bodyClassName);this.currentView=this.composer=new a.views.Composer(this,this.textareaElement,this.config);"function"===typeof this.config.parser&&this._initParser();this.observe("beforeload",
function(){this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer);this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(h){}}},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},getValue:function(a){return this.currentView.getValue(a)},setValue:function(a,d){if(!a)return this.clear();
this.currentView.setValue(a,d);return this},focus:function(a){this.currentView.focus(a);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(c){var d=this.config.parser(c,this.config.parserRules,this.composer.sandbox.getDocument(),!0);"object"===typeof c&&a.quirks.redraw(c);return d},
_initParser:function(){this.observe("paste:composer",function(){var c=this;c.composer.selection.executeAndRestore(function(){a.quirks.cleanPastedHTML(c.composer.element);c.parse(c.composer.element)},!0)});this.observe("paste:textarea",function(){var a=this.textarea.getValue(),a=this.parse(a);this.textarea.setValue(a)})}})})(wysihtml5);(function(a,d,c){var e=function(b){var e=function(f){function k(a,f){var g=e.defaults.columns,oa=a.aoColumns.length,g=b.extend({},e.models.oColumn,g,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:f?f:d.createElement("th"),sTitle:g.sTitle?g.sTitle:f?f.innerHTML:"",aDataSort:g.aDataSort?g.aDataSort:[oa],mData:g.mData?g.oDefaults:oa});a.aoColumns.push(g);if(a.aoPreSearchCols[oa]===c||null===a.aoPreSearchCols[oa])a.aoPreSearchCols[oa]=b.extend({},e.models.oSearch);else if(g=
a.aoPreSearchCols[oa],g.bRegex===c&&(g.bRegex=!0),g.bSmart===c&&(g.bSmart=!0),g.bCaseInsensitive===c)g.bCaseInsensitive=!0;j(a,oa,null)}function j(a,d,e){var f=a.aoColumns[d];e!==c&&null!==e&&(e.mDataProp&&!e.mData&&(e.mData=e.mDataProp),e.sType!==c&&(f.sType=e.sType,f._bAutoType=!1),b.extend(f,e),F(f,e,"sWidth","sWidthOrig"),e.iDataSort!==c&&(f.aDataSort=[e.iDataSort]),F(f,e,"aDataSort"));var g=f.mRender?B(f.mRender):null,h=B(f.mData);f.fnGetData=function(a,b){var c=h(a,b);return f.mRender&&b&&""!==
b?g(c,b,a):c};f.fnSetData=H(f.mData);a.oFeatures.bSort||(f.bSortable=!1);!f.bSortable||-1==b.inArray("asc",f.asSorting)&&-1==b.inArray("desc",f.asSorting)?(f.sSortingClass=a.oClasses.sSortableNone,f.sSortingClassJUI=""):-1==b.inArray("asc",f.asSorting)&&-1==b.inArray("desc",f.asSorting)?(f.sSortingClass=a.oClasses.sSortable,f.sSortingClassJUI=a.oClasses.sSortJUI):-1!=b.inArray("asc",f.asSorting)&&-1==b.inArray("desc",f.asSorting)?(f.sSortingClass=a.oClasses.sSortableAsc,f.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed):
-1==b.inArray("asc",f.asSorting)&&-1!=b.inArray("desc",f.asSorting)&&(f.sSortingClass=a.oClasses.sSortableDesc,f.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed)}function g(a){if(!1===a.oFeatures.bAutoWidth)return!1;Da(a);for(var b=0,c=a.aoColumns.length;b<c;b++)a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}function l(a,b){var c=p(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function m(a,c){var d=p(a,"bVisible"),d=b.inArray(c,d);return-1!==d?d:null}function r(a){return p(a,"bVisible").length}
function p(a,c){var d=[];b.map(a.aoColumns,function(a,b){a[c]&&d.push(b)});return d}function t(a){for(var b=e.ext.aTypes,c=b.length,d=0;d<c;d++){var f=b[d](a);if(null!==f)return f}return"string"}function n(a,b){for(var c=b.split(","),d=[],e=0,f=a.aoColumns.length;e<f;e++)for(var g=0;g<f;g++)if(a.aoColumns[e].sName==c[g]){d.push(g);break}return d}function u(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++)b+=a.aoColumns[c].sName+",";return b.length==d?"":b.slice(0,-1)}function w(a,c,d,e){var f,g,h,
j,l;if(c)for(f=c.length-1;0<=f;f--){var m=c[f].aTargets;b.isArray(m)||ja(a,1,"aTargets must be an array of targets, not a "+typeof m);g=0;for(h=m.length;g<h;g++)if("number"===typeof m[g]&&0<=m[g]){for(;a.aoColumns.length<=m[g];)k(a);e(m[g],c[f])}else if("number"===typeof m[g]&&0>m[g])e(a.aoColumns.length+m[g],c[f]);else if("string"===typeof m[g]){j=0;for(l=a.aoColumns.length;j<l;j++)("_all"==m[g]||b(a.aoColumns[j].nTh).hasClass(m[g]))&&e(j,c[f])}}if(d){f=0;for(a=d.length;f<a;f++)e(f,d[f])}}function v(a,
c){var d;d=b.isArray(c)?c.slice():b.extend(!0,{},c);var f=a.aoData.length,g=b.extend(!0,{},e.models.oRow);g._aData=d;a.aoData.push(g);for(var j,g=0,k=a.aoColumns.length;g<k;g++)d=a.aoColumns[g],"function"===typeof d.fnRender&&d.bUseRendered&&null!==d.mData?D(a,f,g,R(a,f,g)):D(a,f,g,A(a,f,g)),d._bAutoType&&"string"!=d.sType&&(j=A(a,f,g,"type"),null!==j&&""!==j&&(j=t(j),null===d.sType?d.sType=j:d.sType!=j&&"html"!=d.sType&&(d.sType="string")));a.aiDisplayMaster.push(f);a.oFeatures.bDeferRender||ea(a,
f);return f}function E(a){var c,d,f,g,j,k,l;if(a.bDeferLoading||null===a.sAjaxSource)for(c=a.nTBody.firstChild;c;){if("TR"==c.nodeName.toUpperCase()){d=a.aoData.length;c._DT_RowIndex=d;a.aoData.push(b.extend(!0,{},e.models.oRow,{nTr:c}));a.aiDisplayMaster.push(d);j=c.firstChild;for(f=0;j;){k=j.nodeName.toUpperCase();if("TD"==k||"TH"==k)D(a,d,f,b.trim(j.innerHTML)),f++;j=j.nextSibling}}c=c.nextSibling}g=wa(a);f=[];c=0;for(d=g.length;c<d;c++)for(j=g[c].firstChild;j;)k=j.nodeName.toUpperCase(),("TD"==
k||"TH"==k)&&f.push(j),j=j.nextSibling;d=0;for(g=a.aoColumns.length;d<g;d++){l=a.aoColumns[d];null===l.sTitle&&(l.sTitle=l.nTh.innerHTML);var m=l._bAutoType,p="function"===typeof l.fnRender,r=null!==l.sClass,s=l.bVisible,n,u;if(m||p||r||!s){k=0;for(c=a.aoData.length;k<c;k++)j=a.aoData[k],n=f[k*g+d],m&&"string"!=l.sType&&(u=A(a,k,d,"type"),""!==u&&(u=t(u),null===l.sType?l.sType=u:l.sType!=u&&"html"!=l.sType&&(l.sType="string"))),l.mRender?n.innerHTML=A(a,k,d,"display"):l.mData!==d&&(n.innerHTML=A(a,
k,d,"display")),p&&(u=R(a,k,d),n.innerHTML=u,l.bUseRendered&&D(a,k,d,u)),r&&(n.className+=" "+l.sClass),s?j._anHidden[d]=null:(j._anHidden[d]=n,n.parentNode.removeChild(n)),l.fnCreatedCell&&l.fnCreatedCell.call(a.oInstance,n,A(a,k,d,"display"),j._aData,k,d)}}if(0!==a.aoRowCreatedCallback.length){c=0;for(d=a.aoData.length;c<d;c++)j=a.aoData[c],ca(a,"aoRowCreatedCallback",null,[j.nTr,j._aData,c])}}function z(a,b){return b._DT_RowIndex!==c?b._DT_RowIndex:null}function s(a,b,c){b=pa(a,b);var d=0;for(a=
a.aoColumns.length;d<a;d++)if(b[d]===c)return d;return-1}function L(a,b,c,d){for(var e=[],f=0,g=d.length;f<g;f++)e.push(A(a,b,d[f],c));return e}function A(a,b,d,e){var f=a.aoColumns[d];if((d=f.fnGetData(a.aoData[b]._aData,e))===c)return a.iDrawError!=a.iDraw&&null===f.sDefaultContent&&(ja(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{mData function}":"'"+f.mData+"'")+" from the data source for row "+b),a.iDrawError=a.iDraw),f.sDefaultContent;if(null===d&&null!==f.sDefaultContent)d=
f.sDefaultContent;else if("function"===typeof d)return d();return"display"==e&&null===d?"":d}function D(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function B(a){if(null===a)return function(){return null};if("function"===typeof a)return function(b,c,d){return a(b,c,d)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("["))){var b=function(a,d,e){var U=e.split("."),f;if(""!==e){var g=0;for(f=U.length;g<f;g++){if(e=U[g].match(xa)){U[g]=U[g].replace(xa,"");""!==U[g]&&(a=a[U[g]]);
f=[];U.splice(0,g+1);for(var U=U.join("."),g=0,h=a.length;g<h;g++)f.push(b(a[g],d,U));a=e[0].substring(1,e[0].length-1);a=""===a?f:f.join(a);break}if(null===a||a[U[g]]===c)return c;a=a[U[g]]}}return a};return function(c,d){return b(c,d,a)}}return function(b){return b[a]}}function H(a){if(null===a)return function(){};if("function"===typeof a)return function(b,c){a(b,"set",c)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("["))){var b=function(a,d,e){e=e.split(".");var U,f,g=0;for(f=
e.length-1;g<f;g++){if(e[g].match(xa)){e[g]=e[g].replace(xa,"");a[e[g]]=[];U=e.slice();U.splice(0,g+1);f=U.join(".");for(var h=0,j=d.length;h<j;h++)U={},b(U,d[h],f),a[e[g]].push(U);return}if(null===a[e[g]]||a[e[g]]===c)a[e[g]]={};a=a[e[g]]}a[e[e.length-1].replace(xa,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,c){b[a]=c}}function C(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++)b.push(a.aoData[d]._aData);return b}function I(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,
a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);aa(a)}function V(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)a[d]==b?c=d:a[d]>b&&a[d]--; -1!=c&&a.splice(c,1)}function R(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mData},A(a,b,c,"display"))}function ea(a,b){var c=a.aoData[b],e;if(null===c.nTr){c.nTr=d.createElement("tr");c.nTr._DT_RowIndex=b;c._aData.DT_RowId&&(c.nTr.id=c._aData.DT_RowId);c._aData.DT_RowClass&&
(c.nTr.className=c._aData.DT_RowClass);for(var f=0,g=a.aoColumns.length;f<g;f++){var h=a.aoColumns[f];e=d.createElement(h.sCellType);e.innerHTML="function"===typeof h.fnRender&&(!h.bUseRendered||null===h.mData)?R(a,b,f):A(a,b,f,"display");null!==h.sClass&&(e.className=h.sClass);h.bVisible?(c.nTr.appendChild(e),c._anHidden[f]=null):c._anHidden[f]=e;h.fnCreatedCell&&h.fnCreatedCell.call(a.oInstance,e,A(a,b,f,"display"),c._aData,b,f)}ca(a,"aoRowCreatedCallback",null,[c.nTr,c._aData,b])}}function P(a){var c,
e,f;if(0!==b("th, td",a.nTHead).length){c=0;for(f=a.aoColumns.length;c<f;c++)if(e=a.aoColumns[c].nTh,e.setAttribute("role","columnheader"),a.aoColumns[c].bSortable&&(e.setAttribute("tabindex",a.iTabIndex),e.setAttribute("aria-controls",a.sTableId)),null!==a.aoColumns[c].sClass&&b(e).addClass(a.aoColumns[c].sClass),a.aoColumns[c].sTitle!=e.innerHTML)e.innerHTML=a.aoColumns[c].sTitle}else{var g=d.createElement("tr");c=0;for(f=a.aoColumns.length;c<f;c++)e=a.aoColumns[c].nTh,e.innerHTML=a.aoColumns[c].sTitle,
e.setAttribute("tabindex","0"),null!==a.aoColumns[c].sClass&&b(e).addClass(a.aoColumns[c].sClass),g.appendChild(e);b(a.nTHead).html("")[0].appendChild(g);O(a.aoHeader,a.nTHead)}b(a.nTHead).children("tr").attr("role","row");if(a.bJUI){c=0;for(f=a.aoColumns.length;c<f;c++){e=a.aoColumns[c].nTh;g=d.createElement("div");g.className=a.oClasses.sSortJUIWrapper;b(e).contents().appendTo(g);var h=d.createElement("span");h.className=a.oClasses.sSortIcon;g.appendChild(h);e.appendChild(g)}}if(a.oFeatures.bSort)for(c=
0;c<a.aoColumns.length;c++)!1!==a.aoColumns[c].bSortable?Ea(a,a.aoColumns[c].nTh,c):b(a.aoColumns[c].nTh).addClass(a.oClasses.sSortableNone);""!==a.oClasses.sFooterTH&&b(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(null!==a.nTFoot){e=K(a,null,a.aoFooter);c=0;for(f=a.aoColumns.length;c<f;c++)e[c]&&(a.aoColumns[c].nTf=e[c],a.aoColumns[c].sClass&&b(e[c]).addClass(a.aoColumns[c].sClass))}}function y(a,b,d){var e,f,g,h=[],j=[],k=a.aoColumns.length,l;d===c&&(d=!1);e=0;for(f=
b.length;e<f;e++){h[e]=b[e].slice();h[e].nTr=b[e].nTr;for(g=k-1;0<=g;g--)!a.aoColumns[g].bVisible&&!d&&h[e].splice(g,1);j.push([])}e=0;for(f=h.length;e<f;e++){if(a=h[e].nTr)for(;g=a.firstChild;)a.removeChild(g);g=0;for(b=h[e].length;g<b;g++)if(l=k=1,j[e][g]===c){a.appendChild(h[e][g].cell);for(j[e][g]=1;h[e+k]!==c&&h[e][g].cell==h[e+k][g].cell;)j[e+k][g]=1,k++;for(;h[e][g+l]!==c&&h[e][g].cell==h[e][g+l].cell;){for(d=0;d<k;d++)j[e+d][g+l]=1;l++}h[e][g].cell.rowSpan=k;h[e][g].cell.colSpan=l}}}function M(a){var e=
ca(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==b.inArray(!1,e))ia(a,!1);else{var f,g,e=[],h=0,j=a.asStripeClasses.length;f=a.aoOpenRows.length;a.bDrawing=!0;a.iInitDisplayStart!==c&&-1!=a.iInitDisplayStart&&(a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,aa(a));if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++;else if(a.oFeatures.bServerSide){if(!a.bDestroying&&!Q(a))return}else a.iDraw++;if(0!==a.aiDisplay.length){var k=
a._iDisplayStart;g=a._iDisplayEnd;for(a.oFeatures.bServerSide&&(k=0,g=a.aoData.length);k<g;k++){var l=a.aoData[a.aiDisplay[k]];null===l.nTr&&ea(a,a.aiDisplay[k]);var m=l.nTr;if(0!==j){var p=a.asStripeClasses[h%j];l._sRowStripe!=p&&(b(m).removeClass(l._sRowStripe).addClass(p),l._sRowStripe=p)}ca(a,"aoRowCallback",null,[m,a.aoData[a.aiDisplay[k]]._aData,h,k]);e.push(m);h++;if(0!==f)for(l=0;l<f;l++)if(m==a.aoOpenRows[l].nParent){e.push(a.aoOpenRows[l].nTr);break}}}else e[0]=d.createElement("tr"),a.asStripeClasses[0]&&
(e[0].className=a.asStripeClasses[0]),f=a.oLanguage,j=f.sZeroRecords,1==a.iDraw&&null!==a.sAjaxSource&&!a.oFeatures.bServerSide?j=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(j=f.sEmptyTable),f=d.createElement("td"),f.setAttribute("valign","top"),f.colSpan=r(a),f.className=a.oClasses.sRowEmpty,f.innerHTML=na(a,j),e[h].appendChild(f);ca(a,"aoHeaderCallback","header",[b(a.nTHead).children("tr")[0],C(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);ca(a,"aoFooterCallback","footer",[b(a.nTFoot).children("tr")[0],
C(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);h=d.createDocumentFragment();f=d.createDocumentFragment();if(a.nTBody){j=a.nTBody.parentNode;f.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered)for(;f=a.nTBody.firstChild;)a.nTBody.removeChild(f);f=0;for(g=e.length;f<g;f++)h.appendChild(e[f]);a.nTBody.appendChild(h);null!==j&&j.appendChild(a.nTBody)}ca(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1;a.oFeatures.bServerSide&&(ia(a,
!1),a._bInitComplete||za(a))}}function N(a){a.oFeatures.bSort?ra(a,a.oPreviousSearch):a.oFeatures.bFilter?da(a,a.oPreviousSearch):(aa(a),M(a))}function J(a){var c=b("<div></div>")[0];a.nTable.parentNode.insertBefore(c,a.nTable);a.nTableWrapper=b('<div id="'+a.sTableId+'_wrapper" class="'+a.oClasses.sWrapper+'" role="grid"></div>')[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var d=a.nTableWrapper,f=a.sDom.split(""),g,j,k,l,m,p,r,n=0;n<f.length;n++){j=0;k=f[n];if("<"==k){l=b("<div></div>")[0];
m=f[n+1];if("'"==m||'"'==m){p="";for(r=2;f[n+r]!=m;)p+=f[n+r],r++;"H"==p?p=a.oClasses.sJUIHeader:"F"==p&&(p=a.oClasses.sJUIFooter);-1!=p.indexOf(".")?(m=p.split("."),l.id=m[0].substr(1,m[0].length-1),l.className=m[1]):"#"==p.charAt(0)?l.id=p.substr(1,p.length-1):l.className=p;n+=r}d.appendChild(l);d=l}else if(">"==k)d=d.parentNode;else if("l"==k&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange)g=Ha(a),j=1;else if("f"==k&&a.oFeatures.bFilter)g=Y(a),j=1;else if("r"==k&&a.oFeatures.bProcessing)g=Ja(a),
j=1;else if("t"==k)g=Ka(a),j=1;else if("i"==k&&a.oFeatures.bInfo)g=ua(a),j=1;else if("p"==k&&a.oFeatures.bPaginate)g=Ia(a),j=1;else if(0!==e.ext.aoFeatures.length){l=e.ext.aoFeatures;r=0;for(m=l.length;r<m;r++)if(k==l[r].cFeature){(g=l[r].fnInit(a))&&(j=1);break}}1==j&&null!==g&&("object"!==typeof a.aanFeatures[k]&&(a.aanFeatures[k]=[]),a.aanFeatures[k].push(g),d.appendChild(g))}c.parentNode.replaceChild(a.nTableWrapper,c)}function O(a,c){var d=b(c).children("tr"),e,f,g,h,j,k,l,m,p,r;a.splice(0,a.length);
g=0;for(k=d.length;g<k;g++)a.push([]);g=0;for(k=d.length;g<k;g++){e=d[g];for(f=e.firstChild;f;){if("TD"==f.nodeName.toUpperCase()||"TH"==f.nodeName.toUpperCase()){m=1*f.getAttribute("colspan");p=1*f.getAttribute("rowspan");m=!m||0===m||1===m?1:m;p=!p||0===p||1===p?1:p;h=0;for(j=a[g];j[h];)h++;l=h;r=1===m?!0:!1;for(j=0;j<m;j++)for(h=0;h<p;h++)a[g+h][l+j]={cell:f,unique:r},a[g+h].nTr=e}f=f.nextSibling}}}function K(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],O(c,b)));b=0;for(var e=c.length;b<e;b++)for(var f=
0,g=c[b].length;f<g;f++)if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop))d[f]=c[b][f].cell;return d}function Q(a){if(a.bAjaxDataGet){a.iDraw++;ia(a,!0);var b=T(a);X(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){W(a,b)},a);return!1}return!0}function T(a){var b=a.aoColumns.length,c=[],d,e,f,g;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:u(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:!1!==
a.oFeatures.bPaginate?a._iDisplayLength:-1});for(f=0;f<b;f++)d=a.aoColumns[f].mData,c.push({name:"mDataProp_"+f,value:"function"===typeof d?"function":d});if(!1!==a.oFeatures.bFilter){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++)c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch}),c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex}),c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}if(!1!==
a.oFeatures.bSort){var h=0;d=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(f=0;f<d.length;f++){e=a.aoColumns[d[f][0]].aDataSort;for(g=0;g<e.length;g++)c.push({name:"iSortCol_"+h,value:e[g]}),c.push({name:"sSortDir_"+h,value:d[f][1]}),h++}c.push({name:"iSortingCols",value:h});for(f=0;f<b;f++)c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}return c}function X(a,b){ca(a,"aoServerParams","serverParams",[b])}function W(a,b){if(b.sEcho!==c){if(1*b.sEcho<
a.iDraw)return;a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&I(a);a._iRecordsTotal=parseInt(b.iTotalRecords,10);a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var d=u(a),d=b.sColumns!==c&&""!==d&&b.sColumns!=d,e;d&&(e=n(a,b.sColumns));for(var f=B(a.sAjaxDataProp)(b),g=0,h=f.length;g<h;g++)if(d){for(var j=[],k=0,l=a.aoColumns.length;k<l;k++)j.push(f[g][e[k]]);v(a,j)}else v(a,f[g]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;M(a);a.bAjaxDataGet=
!0;ia(a,!1)}function Y(a){var c=a.oPreviousSearch,e=a.oLanguage.sSearch,e=-1!==e.indexOf("_INPUT_")?e.replace("_INPUT_",'<input type="text" />'):""===e?'<input type="text" />':e+' <input type="text" />',f=d.createElement("div");f.className=a.oClasses.sFilter;f.innerHTML="<label>"+e+"</label>";a.aanFeatures.f||(f.id=a.sTableId+"_filter");e=b('input[type="text"]',f);f._DT_Input=e[0];e.val(c.sSearch.replace('"',"&quot;"));e.bind("keyup.DT",function(){for(var d=a.aanFeatures.f,e=""===this.value?"":this.value,
f=0,g=d.length;f<g;f++)d[f]!=b(this).parents("div.dataTables_filter")[0]&&b(d[f]._DT_Input).val(e);e!=c.sSearch&&da(a,{sSearch:e,bRegex:c.bRegex,bSmart:c.bSmart,bCaseInsensitive:c.bCaseInsensitive})});e.attr("aria-controls",a.sTableId).bind("keypress.DT",function(a){if(13==a.keyCode)return!1});return f}function da(a,c,d){var e=a.oPreviousSearch,f=a.aoPreSearchCols,g=function(a){e.sSearch=a.sSearch;e.bRegex=a.bRegex;e.bSmart=a.bSmart;e.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide)g(c);
else{ka(a,c.sSearch,d,c.bRegex,c.bSmart,c.bCaseInsensitive);g(c);for(c=0;c<a.aoPreSearchCols.length;c++)ma(a,f[c].sSearch,c,f[c].bRegex,f[c].bSmart,f[c].bCaseInsensitive);Z(a)}a.bFiltered=!0;b(a.oInstance).trigger("filter",a);a._iDisplayStart=0;aa(a);M(a);fa(a,0)}function Z(a){for(var b=e.ext.afnFiltering,c=p(a,"bSearchable"),d=0,f=b.length;d<f;d++)for(var g=0,j=0,k=a.aiDisplay.length;j<k;j++){var l=a.aiDisplay[j-g];b[d](a,L(a,l,"filter",c),l)||(a.aiDisplay.splice(j-g,1),g++)}}function ma(a,b,c,d,
e,f){if(""!==b){var g=0;b=ha(b,d,e,f);for(d=a.aiDisplay.length-1;0<=d;d--)e=ta(A(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType),b.test(e)||(a.aiDisplay.splice(d,1),g++)}}function ka(a,b,c,d,f,g){d=ha(b,d,f,g);f=a.oPreviousSearch;c||(c=0);0!==e.ext.afnFiltering.length&&(c=1);if(0>=b.length)a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice();else if(a.aiDisplay.length==a.aiDisplayMaster.length||f.sSearch.length>b.length||1==c||0!==b.indexOf(f.sSearch)){a.aiDisplay.splice(0,
a.aiDisplay.length);fa(a,1);for(b=0;b<a.aiDisplayMaster.length;b++)d.test(a.asDataSearch[b])&&a.aiDisplay.push(a.aiDisplayMaster[b])}else for(b=c=0;b<a.asDataSearch.length;b++)d.test(a.asDataSearch[b])||(a.aiDisplay.splice(b-c,1),c++)}function fa(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch=[];for(var c=p(a,"bSearchable"),d=1===b?a.aiDisplayMaster:a.aiDisplay,e=0,f=d.length;e<f;e++)a.asDataSearch[e]=la(a,L(a,d[e],"filter",c))}}function la(a,c){var d=c.join("  ");-1!==d.indexOf("&")&&(d=b("<div>").html(d).text());
return d.replace(/[\n\r]/g," ")}function ha(a,b,c,d){if(c)return a=b?a.split(" "):qa(a).split(" "),a="^(?=.*?"+a.join(")(?=.*?")+").*$",RegExp(a,d?"i":"");a=b?a:qa(a);return RegExp(a,d?"i":"")}function ta(a,b){return"function"===typeof e.ext.ofnSearch[b]?e.ext.ofnSearch[b](a):null===a?"":"html"==b?a.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"===typeof a?a.replace(/[\r\n]/g," "):a}function qa(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),
"\\$1")}function ua(a){var b=d.createElement("div");b.className=a.oClasses.sInfo;a.aanFeatures.i||(a.aoDrawCallback.push({fn:va,sName:"information"}),b.id=a.sTableId+"_info");a.nTable.setAttribute("aria-describedby",a.sTableId+"_info");return b}function va(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var c=a.oLanguage,d=a._iDisplayStart+1,e=a.fnDisplayEnd(),f=a.fnRecordsTotal(),g=a.fnRecordsDisplay(),h;h=0===g?c.sInfoEmpty:c.sInfo;g!=f&&(h+=" "+c.sInfoFiltered);h+=c.sInfoPostFix;h=na(a,h);
null!==c.fnInfoCallback&&(h=c.fnInfoCallback.call(a.oInstance,a,d,e,f,g,h));a=a.aanFeatures.i;c=0;for(d=a.length;c<d;c++)b(a[c]).html(h)}}function na(a,b){var c=a.fnFormatNumber(a._iDisplayStart+1),d=a.fnDisplayEnd(),d=a.fnFormatNumber(d),e=a.fnRecordsDisplay(),e=a.fnFormatNumber(e),f=a.fnRecordsTotal(),f=a.fnFormatNumber(f);a.oScroll.bInfinite&&(c=a.fnFormatNumber(1));return b.replace(/_START_/g,c).replace(/_END_/g,d).replace(/_TOTAL_/g,e).replace(/_MAX_/g,f)}function ya(a){var b,c,d=a.iInitDisplayStart;
if(!1===a.bInitialised)setTimeout(function(){ya(a)},200);else{J(a);P(a);y(a,a.aoHeader);a.nTFoot&&y(a,a.aoFooter);ia(a,!0);a.oFeatures.bAutoWidth&&Da(a);b=0;for(c=a.aoColumns.length;b<c;b++)null!==a.aoColumns[b].sWidth&&(a.aoColumns[b].nTh.style.width=G(a.aoColumns[b].sWidth));a.oFeatures.bSort?ra(a):a.oFeatures.bFilter?da(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),aa(a),M(a));null!==a.sAjaxSource&&!a.oFeatures.bServerSide?(c=[],X(a,c),a.fnServerData.call(a.oInstance,a.sAjaxSource,
c,function(c){var e=""!==a.sAjaxDataProp?B(a.sAjaxDataProp)(c):c;for(b=0;b<e.length;b++)v(a,e[b]);a.iInitDisplayStart=d;a.oFeatures.bSort?ra(a):(a.aiDisplay=a.aiDisplayMaster.slice(),aa(a),M(a));ia(a,!1);za(a,c)},a)):a.oFeatures.bServerSide||(ia(a,!1),za(a))}}function za(a,b){a._bInitComplete=!0;ca(a,"aoInitComplete","init",[a,b])}function Ba(a){var b=e.defaults.oLanguage;!a.sEmptyTable&&a.sZeroRecords&&"No data available in table"===b.sEmptyTable&&F(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&
a.sZeroRecords&&"Loading..."===b.sLoadingRecords&&F(a,a,"sZeroRecords","sLoadingRecords")}function Ha(a){if(a.oScroll.bInfinite)return null;var c='<select size="1" '+('name="'+a.sTableId+'_length"')+">",e,f,g=a.aLengthMenu;if(2==g.length&&"object"===typeof g[0]&&"object"===typeof g[1]){e=0;for(f=g[0].length;e<f;e++)c+='<option value="'+g[0][e]+'">'+g[1][e]+"</option>"}else{e=0;for(f=g.length;e<f;e++)c+='<option value="'+g[e]+'">'+g[e]+"</option>"}c+="</select>";g=d.createElement("div");a.aanFeatures.l||
(g.id=a.sTableId+"_length");g.className=a.oClasses.sLength;g.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",c)+"</label>";b('select option[value="'+a._iDisplayLength+'"]',g).attr("selected",!0);b("select",g).bind("change.DT",function(){var c=b(this).val(),d=a.aanFeatures.l;e=0;for(f=d.length;e<f;e++)d[e]!=this.parentNode&&b("select",d[e]).val(c);a._iDisplayLength=parseInt(c,10);aa(a);a.fnDisplayEnd()==a.fnRecordsDisplay()&&(a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength,0>a._iDisplayStart&&
(a._iDisplayStart=0));-1==a._iDisplayLength&&(a._iDisplayStart=0);M(a)});b("select",g).attr("aria-controls",a.sTableId);return g}function aa(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Ia(a){if(a.oScroll.bInfinite)return null;var b=d.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;e.ext.oPagination[a.sPaginationType].fnInit(a,
b,function(a){aa(a);M(a)});a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){e.ext.oPagination[a.sPaginationType].fnUpdate(a,function(a){aa(a);M(a)})},sName:"pagination"});return b}function Ca(a,c){var d=a._iDisplayStart;if("number"===typeof c)a._iDisplayStart=c*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay()&&(a._iDisplayStart=0);else if("first"==c)a._iDisplayStart=0;else if("previous"==c)a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart&&
(a._iDisplayStart=0);else if("next"==c)0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0;else if("last"==c)if(0<=a._iDisplayLength){var e=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(e-1)*a._iDisplayLength}else a._iDisplayStart=0;else ja(a,0,"Unknown paging action: "+c);b(a.oInstance).trigger("page",a);return d!=a._iDisplayStart}function Ja(a){var b=d.createElement("div");a.aanFeatures.r||
(b.id=a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function ia(a,c){if(a.oFeatures.bProcessing)for(var d=a.aanFeatures.r,e=0,f=d.length;e<f;e++)d[e].style.visibility=c?"visible":"hidden";b(a.oInstance).trigger("processing",[a,c])}function Ka(a){if(""===a.oScroll.sX&&""===a.oScroll.sY)return a.nTable;var c=d.createElement("div"),e=d.createElement("div"),f=d.createElement("div"),g=d.createElement("div"),
h=d.createElement("div"),j=d.createElement("div"),k=a.nTable.cloneNode(!1),l=a.nTable.cloneNode(!1),m=a.nTable.getElementsByTagName("thead")[0],p=0===a.nTable.getElementsByTagName("tfoot").length?null:a.nTable.getElementsByTagName("tfoot")[0],r=a.oClasses;e.appendChild(f);h.appendChild(j);g.appendChild(a.nTable);c.appendChild(e);c.appendChild(g);f.appendChild(k);k.appendChild(m);null!==p&&(c.appendChild(h),j.appendChild(l),l.appendChild(p));c.className=r.sScrollWrapper;e.className=r.sScrollHead;f.className=
r.sScrollHeadInner;g.className=r.sScrollBody;h.className=r.sScrollFoot;j.className=r.sScrollFootInner;a.oScroll.bAutoCss&&(e.style.overflow="hidden",e.style.position="relative",h.style.overflow="hidden",g.style.overflow="auto");e.style.border="0";e.style.width="100%";h.style.border="0";f.style.width=""!==a.oScroll.sXInner?a.oScroll.sXInner:"100%";k.removeAttribute("id");k.style.marginLeft="0";a.nTable.style.marginLeft="0";null!==p&&(l.removeAttribute("id"),l.style.marginLeft="0");f=b(a.nTable).children("caption");
0<f.length&&(f=f[0],"top"===f._captionSide?k.appendChild(f):"bottom"===f._captionSide&&p&&l.appendChild(f));""!==a.oScroll.sX&&(e.style.width=G(a.oScroll.sX),g.style.width=G(a.oScroll.sX),null!==p&&(h.style.width=G(a.oScroll.sX)),b(g).scroll(function(){e.scrollLeft=this.scrollLeft;null!==p&&(h.scrollLeft=this.scrollLeft)}));""!==a.oScroll.sY&&(g.style.height=G(a.oScroll.sY));a.aoDrawCallback.push({fn:La,sName:"scrolling"});a.oScroll.bInfinite&&b(g).scroll(function(){!a.bDrawing&&(0!==b(this).scrollTop()&&
b(this).scrollTop()+b(this).height()>b(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay())&&(Ca(a,"next"),aa(a),M(a))});a.nScrollHead=e;a.nScrollFoot=h;return c}function La(a){var c=a.nScrollHead.getElementsByTagName("div")[0],d=c.getElementsByTagName("table")[0],e=a.nTable.parentNode,f,g,h,j,k,m,p,r,n=[],s=[],t=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName("div")[0]:null,u=null!==a.nTFoot?t.getElementsByTagName("table")[0]:null,v=a.oBrowser.bScrollOversize,w=function(a){p=
a.style;p.paddingTop="0";p.paddingBottom="0";p.borderTopWidth="0";p.borderBottomWidth="0";p.height=0};b(a.nTable).children("thead, tfoot").remove();f=b(a.nTHead).clone()[0];a.nTable.insertBefore(f,a.nTable.childNodes[0]);h=a.nTHead.getElementsByTagName("tr");j=f.getElementsByTagName("tr");null!==a.nTFoot&&(k=b(a.nTFoot).clone()[0],a.nTable.insertBefore(k,a.nTable.childNodes[1]),m=a.nTFoot.getElementsByTagName("tr"),k=k.getElementsByTagName("tr"));""===a.oScroll.sX&&(e.style.width="100%",c.parentNode.style.width=
"100%");var y=K(a,f);f=0;for(g=y.length;f<g;f++)r=l(a,f),y[f].style.width=a.aoColumns[r].sWidth;null!==a.nTFoot&&ga(function(a){a.style.width=""},k);a.oScroll.bCollapse&&""!==a.oScroll.sY&&(e.style.height=e.offsetHeight+a.nTHead.offsetHeight+"px");f=b(a.nTable).outerWidth();if(""===a.oScroll.sX){if(a.nTable.style.width="100%",v&&(b("tbody",e).height()>e.offsetHeight||"scroll"==b(e).css("overflow-y")))a.nTable.style.width=G(b(a.nTable).outerWidth()-a.oScroll.iBarWidth)}else""!==a.oScroll.sXInner?a.nTable.style.width=
G(a.oScroll.sXInner):f==b(e).width()&&b(e).height()<b(a.nTable).height()?(a.nTable.style.width=G(f-a.oScroll.iBarWidth),b(a.nTable).outerWidth()>f-a.oScroll.iBarWidth&&(a.nTable.style.width=G(f))):a.nTable.style.width=G(f);f=b(a.nTable).outerWidth();ga(w,j);ga(function(a){n.push(G(b(a).width()))},j);ga(function(a,b){a.style.width=n[b]},h);b(j).height(0);null!==a.nTFoot&&(ga(w,k),ga(function(a){s.push(G(b(a).width()))},k),ga(function(a,b){a.style.width=s[b]},m),b(k).height(0));ga(function(a,b){a.innerHTML=
"";a.style.width=n[b]},j);null!==a.nTFoot&&ga(function(a,b){a.innerHTML="";a.style.width=s[b]},k);if(b(a.nTable).outerWidth()<f){h=e.scrollHeight>e.offsetHeight||"scroll"==b(e).css("overflow-y")?f+a.oScroll.iBarWidth:f;if(v&&(e.scrollHeight>e.offsetHeight||"scroll"==b(e).css("overflow-y")))a.nTable.style.width=G(h-a.oScroll.iBarWidth);e.style.width=G(h);a.nScrollHead.style.width=G(h);null!==a.nTFoot&&(a.nScrollFoot.style.width=G(h));""===a.oScroll.sX?ja(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):
""!==a.oScroll.sXInner&&ja(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else e.style.width=G("100%"),a.nScrollHead.style.width=G("100%"),null!==a.nTFoot&&(a.nScrollFoot.style.width=G("100%"));""===a.oScroll.sY&&v&&(e.style.height=G(a.nTable.offsetHeight+a.oScroll.iBarWidth));""!==a.oScroll.sY&&a.oScroll.bCollapse&&(e.style.height=G(a.oScroll.sY),v=""!==a.oScroll.sX&&a.nTable.offsetWidth>
e.offsetWidth?a.oScroll.iBarWidth:0,a.nTable.offsetHeight<e.offsetHeight&&(e.style.height=G(a.nTable.offsetHeight+v)));v=b(a.nTable).outerWidth();d.style.width=G(v);c.style.width=G(v);d=b(a.nTable).height()>e.clientHeight||"scroll"==b(e).css("overflow-y");c.style.paddingRight=d?a.oScroll.iBarWidth+"px":"0px";null!==a.nTFoot&&(u.style.width=G(v),t.style.width=G(v),t.style.paddingRight=d?a.oScroll.iBarWidth+"px":"0px");b(e).scroll();if(a.bSorted||a.bFiltered)e.scrollTop=0}function ga(a,b,c){for(var d=
0,e=0,f=b.length,g,h;e<f;){g=b[e].firstChild;for(h=c?c[e].firstChild:null;g;)1===g.nodeType&&(c?a(g,h,d):a(g,d),d++),g=g.nextSibling,h=c?h.nextSibling:null;e++}}function Oa(a,b){if(!a||null===a||""===a)return 0;b||(b=d.body);var c,e=d.createElement("div");e.style.width=G(a);b.appendChild(e);c=e.offsetWidth;b.removeChild(e);return c}function Da(a){var c=0,e,f=0,g=a.aoColumns.length,h,j,k=b("th",a.nTHead),l=a.nTable.getAttribute("width");j=a.nTable.parentNode;for(h=0;h<g;h++)a.aoColumns[h].bVisible&&
(f++,null!==a.aoColumns[h].sWidth&&(e=Oa(a.aoColumns[h].sWidthOrig,j),null!==e&&(a.aoColumns[h].sWidth=G(e)),c++));if(g==k.length&&0===c&&f==g&&""===a.oScroll.sX&&""===a.oScroll.sY)for(h=0;h<a.aoColumns.length;h++)e=b(k[h]).width(),null!==e&&(a.aoColumns[h].sWidth=G(e));else{c=a.nTable.cloneNode(!1);h=a.nTHead.cloneNode(!0);f=d.createElement("tbody");e=d.createElement("tr");c.removeAttribute("id");c.appendChild(h);null!==a.nTFoot&&(c.appendChild(a.nTFoot.cloneNode(!0)),ga(function(a){a.style.width=
""},c.getElementsByTagName("tr")));c.appendChild(f);f.appendChild(e);f=b("thead th",c);0===f.length&&(f=b("tbody tr:eq(0)>td",c));k=K(a,h);for(h=f=0;h<g;h++){var m=a.aoColumns[h];m.bVisible&&null!==m.sWidthOrig&&""!==m.sWidthOrig?k[h-f].style.width=G(m.sWidthOrig):m.bVisible?k[h-f].style.width="":f++}for(h=0;h<g;h++)a.aoColumns[h].bVisible&&(f=Na(a,h),null!==f&&(f=f.cloneNode(!0),""!==a.aoColumns[h].sContentPadding&&(f.innerHTML+=a.aoColumns[h].sContentPadding),e.appendChild(f)));j.appendChild(c);
""!==a.oScroll.sX&&""!==a.oScroll.sXInner?c.style.width=G(a.oScroll.sXInner):""!==a.oScroll.sX?(c.style.width="",b(c).width()<j.offsetWidth&&(c.style.width=G(j.offsetWidth))):""!==a.oScroll.sY?c.style.width=G(j.offsetWidth):l&&(c.style.width=G(l));c.style.visibility="hidden";Ma(a,c);g=b("tbody tr:eq(0)",c).children();0===g.length&&(g=K(a,b("thead",c)[0]));if(""!==a.oScroll.sX){for(h=f=j=0;h<a.aoColumns.length;h++)a.aoColumns[h].bVisible&&(j=null===a.aoColumns[h].sWidthOrig?j+b(g[f]).outerWidth():
j+(parseInt(a.aoColumns[h].sWidth.replace("px",""),10)+(b(g[f]).outerWidth()-b(g[f]).width())),f++);c.style.width=G(j);a.nTable.style.width=G(j)}for(h=f=0;h<a.aoColumns.length;h++)a.aoColumns[h].bVisible&&(j=b(g[f]).width(),null!==j&&0<j&&(a.aoColumns[h].sWidth=G(j)),f++);g=b(c).css("width");a.nTable.style.width=-1!==g.indexOf("%")?g:G(b(c).outerWidth());c.parentNode.removeChild(c)}l&&(a.nTable.style.width=G(l))}function Ma(a,c){""===a.oScroll.sX&&""!==a.oScroll.sY?(b(c).width(),c.style.width=G(b(c).outerWidth()-
a.oScroll.iBarWidth)):""!==a.oScroll.sX&&(c.style.width=G(b(c).outerWidth()))}function Na(a,b){var c=Pa(a,b);if(0>c)return null;if(null===a.aoData[c].nTr){var e=d.createElement("td");e.innerHTML=A(a,c,b,"");return e}return pa(a,c)[b]}function Pa(a,b){for(var c=-1,d=-1,e=0;e<a.aoData.length;e++){var f=A(a,e,b,"display")+"",f=f.replace(/<.*?>/g,"");f.length>c&&(c=f.length,d=e)}return d}function G(a){if(null===a)return"0px";if("number"==typeof a)return 0>a?"0px":a+"px";var b=a.charCodeAt(a.length-1);
return 48>b||57<b?a:a+"px"}function Qa(){var a=d.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=d.createElement("div"),b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);d.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;b==a&&(a=c.clientWidth);d.body.removeChild(c);return b-a}function ra(a,d){var f,g,j,k,l,p,r=[],n=[],s=
e.ext.oSort,t=a.aoData,u=a.aoColumns,v=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||null!==a.aaSortingFixed)){r=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(f=0;f<r.length;f++)if(g=r[f][0],j=m(a,g),k=a.aoColumns[g].sSortDataType,e.ext.afnSortData[k])if(l=e.ext.afnSortData[k].call(a.oInstance,a,g,j),l.length===t.length){j=0;for(k=t.length;j<k;j++)D(a,j,g,l[j])}else ja(a,0,"Returned data sort array (col "+g+") is the wrong length");
f=0;for(g=a.aiDisplayMaster.length;f<g;f++)n[a.aiDisplayMaster[f]]=f;var w=r.length,y;f=0;for(g=t.length;f<g;f++)for(j=0;j<w;j++){y=u[r[j][0]].aDataSort;l=0;for(p=y.length;l<p;l++)k=u[y[l]].sType,k=s[(k?k:"string")+"-pre"],t[f]._aSortData[y[l]]=k?k(A(a,f,y[l],"sort")):A(a,f,y[l],"sort")}a.aiDisplayMaster.sort(function(a,b){var c,d,e,f,g;for(c=0;c<w;c++){g=u[r[c][0]].aDataSort;d=0;for(e=g.length;d<e;d++)if(f=u[g[d]].sType,f=s[(f?f:"string")+"-"+r[c][1]](t[a]._aSortData[g[d]],t[b]._aSortData[g[d]]),
0!==f)return f}return s["numeric-asc"](n[a],n[b])})}(d===c||d)&&!a.oFeatures.bDeferRender&&sa(a);f=0;for(g=a.aoColumns.length;f<g;f++)k=u[f].sTitle.replace(/<.*?>/g,""),j=u[f].nTh,j.removeAttribute("aria-sort"),j.removeAttribute("aria-label"),u[f].bSortable?0<r.length&&r[0][0]==f?(j.setAttribute("aria-sort","asc"==r[0][1]?"ascending":"descending"),j.setAttribute("aria-label",k+("asc"==(u[f].asSorting[r[0][2]+1]?u[f].asSorting[r[0][2]+1]:u[f].asSorting[0])?v.sSortAscending:v.sSortDescending))):j.setAttribute("aria-label",
k+("asc"==u[f].asSorting[0]?v.sSortAscending:v.sSortDescending)):j.setAttribute("aria-label",k);a.bSorted=!0;b(a.oInstance).trigger("sort",a);a.oFeatures.bFilter?da(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,aa(a),M(a))}function Ea(a,b,c,d){Ra(b,{},function(b){if(!1!==a.aoColumns[c].bSortable){var e=function(){var d,e;if(b.shiftKey){for(var f=!1,g=0;g<a.aaSorting.length;g++)if(a.aaSorting[g][0]==c){f=!0;d=a.aaSorting[g][0];e=a.aaSorting[g][2]+1;a.aoColumns[d].asSorting[e]?
(a.aaSorting[g][1]=a.aoColumns[d].asSorting[e],a.aaSorting[g][2]=e):a.aaSorting.splice(g,1);break}!1===f&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else 1==a.aaSorting.length&&a.aaSorting[0][0]==c?(d=a.aaSorting[0][0],e=a.aaSorting[0][2]+1,a.aoColumns[d].asSorting[e]||(e=0),a.aaSorting[0][1]=a.aoColumns[d].asSorting[e],a.aaSorting[0][2]=e):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]));ra(a)};a.oFeatures.bProcessing?(ia(a,!0),setTimeout(function(){e();
a.oFeatures.bServerSide||ia(a,!1)},0)):e();"function"==typeof d&&d(a)}})}function sa(a){var c,d,e,f,g,h=a.aoColumns.length,j=a.oClasses;for(c=0;c<h;c++)a.aoColumns[c].bSortable&&b(a.aoColumns[c].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[c].sSortingClass);d=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<a.aoColumns.length;c++)if(a.aoColumns[c].bSortable){g=a.aoColumns[c].sSortingClass;f=-1;for(e=0;e<d.length;e++)if(d[e][0]==c){g="asc"==
d[e][1]?j.sSortAsc:j.sSortDesc;f=e;break}b(a.aoColumns[c].nTh).addClass(g);a.bJUI&&(g=b("span."+j.sSortIcon,a.aoColumns[c].nTh),g.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed),g.addClass(-1==f?a.aoColumns[c].sSortingClassJUI:"asc"==d[f][1]?j.sSortJUIAsc:j.sSortJUIDesc))}else b(a.aoColumns[c].nTh).addClass(a.aoColumns[c].sSortingClass);g=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){a=pa(a);f=[];for(c=0;c<h;c++)f.push("");
c=0;for(e=1;c<d.length;c++)j=parseInt(d[c][0],10),f[j]=g+e,3>e&&e++;g=RegExp(g+"[123]");var k;c=0;for(d=a.length;c<d;c++)j=c%h,e=a[c].className,k=f[j],j=e.replace(g,k),j!=e?a[c].className=b.trim(j):0<k.length&&-1==e.indexOf(k)&&(a[c].className=e+" "+k)}}function Fa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var c,d;c=a.oScroll.bInfinite;var e={iCreate:(new Date).getTime(),iStart:c?0:a._iDisplayStart,iEnd:c?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:b.extend(!0,[],a.aaSorting),
oSearch:b.extend(!0,{},a.oPreviousSearch),aoSearchCols:b.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};c=0;for(d=a.aoColumns.length;c<d;c++)e.abVisCols.push(a.aoColumns[c].bVisible);ca(a,"aoStateSaveParams","stateSaveParams",[a,e]);a.fnStateSave.call(a.oInstance,a,e)}}function Sa(a,c){if(a.oFeatures.bStateSave){var d=a.fnStateLoad.call(a.oInstance,a);if(d){var e=ca(a,"aoStateLoadParams","stateLoadParams",[a,d]);if(-1===b.inArray(!1,e)){a.oLoadedState=b.extend(!0,{},d);a._iDisplayStart=d.iStart;a.iInitDisplayStart=
d.iStart;a._iDisplayEnd=d.iEnd;a._iDisplayLength=d.iLength;a.aaSorting=d.aaSorting.slice();a.saved_aaSorting=d.aaSorting.slice();b.extend(a.oPreviousSearch,d.oSearch);b.extend(!0,a.aoPreSearchCols,d.aoSearchCols);c.saved_aoColumns=[];for(e=0;e<d.abVisCols.length;e++)c.saved_aoColumns[e]={},c.saved_aoColumns[e].bVisible=d.abVisCols[e];ca(a,"aoStateLoaded","stateLoaded",[a,d])}}}}function S(a){for(var b=0;b<e.settings.length;b++)if(e.settings[b].nTable===a)return e.settings[b];return null}function wa(a){var b=
[];a=a.aoData;for(var c=0,d=a.length;c<d;c++)null!==a[c].nTr&&b.push(a[c].nTr);return b}function pa(a,b){var d=[],e,f,g,h,j,k;f=0;var l=a.aoData.length;b!==c&&(f=b,l=b+1);for(g=f;g<l;g++)if(k=a.aoData[g],null!==k.nTr){f=[];for(e=k.nTr.firstChild;e;)h=e.nodeName.toLowerCase(),("td"==h||"th"==h)&&f.push(e),e=e.nextSibling;h=e=0;for(j=a.aoColumns.length;h<j;h++)a.aoColumns[h].bVisible?d.push(f[h-e]):(d.push(k._anHidden[h]),e++)}return d}function ja(b,c,d){b=null===b?"DataTables warning: "+d:"DataTables warning (table id = '"+
b.sTableId+"'): "+d;if(0===c)if("alert"==e.ext.sErrMode)alert(b);else throw Error(b);else a.console&&console.log&&console.log(b)}function F(a,b,d,e){e===c&&(e=d);b[d]!==c&&(a[e]=b[d])}function Ta(a,c){var d,e;for(e in c)c.hasOwnProperty(e)&&(d=c[e],"object"===typeof f[e]&&null!==d&&!1===b.isArray(d)?b.extend(!0,a[e],d):a[e]=d);return a}function Ra(a,c,d){b(a).bind("click.DT",c,function(b){a.blur();d(b)}).bind("keypress.DT",c,function(a){13===a.which&&d(a)}).bind("selectstart.DT",function(){return!1})}
function ba(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function ca(a,c,d,e){c=a[c];for(var f=[],g=c.length-1;0<=g;g--)f.push(c[g].fn.apply(a.oInstance,e));null!==d&&b(a.oInstance).trigger(d,e);return f}function Ua(a){var c=b('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];d.body.appendChild(c);a.oBrowser.bScrollOversize=
100===b("#DT_BrowserTest",c)[0].offsetWidth?!0:!1;d.body.removeChild(c)}function Va(a){return function(){var b=[S(this[e.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return e.ext.oApi[a].apply(this,b)}}var xa=/\[.*?\]$/,Wa=a.JSON?JSON.stringify:function(a){var c=typeof a;if("object"!==c||null===a)return"string"===c&&(a='"'+a+'"'),a+"";var d,e,f=[],g=b.isArray(a);for(d in a)e=a[d],c=typeof e,"string"===c?e='"'+e+'"':"object"===c&&null!==e&&(e=Wa(e)),f.push((g?"":'"'+d+'":')+e);return(g?
"[":"{")+f+(g?"]":"}")};this.$=function(a,c){var d,f,g=[],j;f=S(this[e.ext.iApiIndex]);var k=f.aoData,l=f.aiDisplay,m=f.aiDisplayMaster;c||(c={});c=b.extend({},{filter:"none",order:"current",page:"all"},c);if("current"==c.page){d=f._iDisplayStart;for(f=f.fnDisplayEnd();d<f;d++)(j=k[l[d]].nTr)&&g.push(j)}else if("current"==c.order&&"none"==c.filter){d=0;for(f=m.length;d<f;d++)(j=k[m[d]].nTr)&&g.push(j)}else if("current"==c.order&&"applied"==c.filter){d=0;for(f=l.length;d<f;d++)(j=k[l[d]].nTr)&&g.push(j)}else if("original"==
c.order&&"none"==c.filter){d=0;for(f=k.length;d<f;d++)(j=k[d].nTr)&&g.push(j)}else if("original"==c.order&&"applied"==c.filter){d=0;for(f=k.length;d<f;d++)j=k[d].nTr,-1!==b.inArray(d,l)&&j&&g.push(j)}else ja(f,1,"Unknown selection options");g=b(g);d=g.filter(a);g=g.find(a);return b([].concat(b.makeArray(d),b.makeArray(g)))};this._=function(a,b){var c=[],d,e,f=this.$(a,b);d=0;for(e=f.length;d<e;d++)c.push(this.fnGetData(f[d]));return c};this.fnAddData=function(a,b){if(0===a.length)return[];var d=[],
f,g=S(this[e.ext.iApiIndex]);if("object"===typeof a[0]&&null!==a[0])for(var j=0;j<a.length;j++){f=v(g,a[j]);if(-1==f)return d;d.push(f)}else{f=v(g,a);if(-1==f)return d;d.push(f)}g.aiDisplay=g.aiDisplayMaster.slice();(b===c||b)&&N(g);return d};this.fnAdjustColumnSizing=function(a){var b=S(this[e.ext.iApiIndex]);g(b);a===c||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};this.fnClearTable=function(a){var b=S(this[e.ext.iApiIndex]);I(b);(a===c||a)&&M(b)};this.fnClose=
function(a){for(var b=S(this[e.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0;return 1};this.fnDeleteRow=function(a,d,f){var g=S(this[e.ext.iApiIndex]),j,k;a="object"===typeof a?z(g,a):a;var l=g.aoData.splice(a,1);j=0;for(k=g.aoData.length;j<k;j++)null!==g.aoData[j].nTr&&(g.aoData[j].nTr._DT_RowIndex=j);j=b.inArray(a,g.aiDisplay);g.asDataSearch.splice(j,1);V(g.aiDisplayMaster,
a);V(g.aiDisplay,a);"function"===typeof d&&d.call(this,g,l);g._iDisplayStart>=g.fnRecordsDisplay()&&(g._iDisplayStart-=g._iDisplayLength,0>g._iDisplayStart&&(g._iDisplayStart=0));if(f===c||f)aa(g),M(g);return l};this.fnDestroy=function(a){var d=S(this[e.ext.iApiIndex]),g=d.nTableWrapper.parentNode,j=d.nTBody,k,l;a=a===c?!1:a;d.bDestroying=!0;ca(d,"aoDestroyCallback","destroy",[d]);if(!a){k=0;for(l=d.aoColumns.length;k<l;k++)!1===d.aoColumns[k].bVisible&&this.fnSetColumnVis(k,!0)}b(d.nTableWrapper).find("*").andSelf().unbind(".DT");
b("tbody>tr>td."+d.oClasses.sRowEmpty,d.nTable).parent().remove();d.nTable!=d.nTHead.parentNode&&(b(d.nTable).children("thead").remove(),d.nTable.appendChild(d.nTHead));d.nTFoot&&d.nTable!=d.nTFoot.parentNode&&(b(d.nTable).children("tfoot").remove(),d.nTable.appendChild(d.nTFoot));d.nTable.parentNode.removeChild(d.nTable);b(d.nTableWrapper).remove();d.aaSorting=[];d.aaSortingFixed=[];sa(d);b(wa(d)).removeClass(d.asStripeClasses.join(" "));b("th, td",d.nTHead).removeClass([d.oClasses.sSortable,d.oClasses.sSortableAsc,
d.oClasses.sSortableDesc,d.oClasses.sSortableNone].join(" "));d.bJUI&&(b("th span."+d.oClasses.sSortIcon+", td span."+d.oClasses.sSortIcon,d.nTHead).remove(),b("th, td",d.nTHead).each(function(){var a=b("div."+d.oClasses.sSortJUIWrapper,this),c=a.contents();b(this).append(c);a.remove()}));!a&&d.nTableReinsertBefore?g.insertBefore(d.nTable,d.nTableReinsertBefore):a||g.appendChild(d.nTable);k=0;for(l=d.aoData.length;k<l;k++)null!==d.aoData[k].nTr&&j.appendChild(d.aoData[k].nTr);!0===d.oFeatures.bAutoWidth&&
(d.nTable.style.width=G(d.sDestroyWidth));if(l=d.asDestroyStripes.length){a=b(j).children("tr");for(k=0;k<l;k++)a.filter(":nth-child("+l+"n + "+k+")").addClass(d.asDestroyStripes[k])}k=0;for(l=e.settings.length;k<l;k++)e.settings[k]==d&&e.settings.splice(k,1);f=d=null};this.fnDraw=function(a){var b=S(this[e.ext.iApiIndex]);!1===a?(aa(b),M(b)):N(b)};this.fnFilter=function(a,f,g,j,k,l){var m=S(this[e.ext.iApiIndex]);if(m.oFeatures.bFilter){if(g===c||null===g)g=!1;if(j===c||null===j)j=!0;if(k===c||null===
k)k=!0;if(l===c||null===l)l=!0;if(f===c||null===f){if(da(m,{sSearch:a+"",bRegex:g,bSmart:j,bCaseInsensitive:l},1),k&&m.aanFeatures.f){f=m.aanFeatures.f;g=0;for(j=f.length;g<j;g++)try{f[g]._DT_Input!=d.activeElement&&b(f[g]._DT_Input).val(a)}catch(p){b(f[g]._DT_Input).val(a)}}}else b.extend(m.aoPreSearchCols[f],{sSearch:a+"",bRegex:g,bSmart:j,bCaseInsensitive:l}),da(m,m.oPreviousSearch,1)}};this.fnGetData=function(a,b){var d=S(this[e.ext.iApiIndex]);if(a!==c){var f=a;if("object"===typeof a){var g=
a.nodeName.toLowerCase();"tr"===g?f=z(d,a):"td"===g&&(f=z(d,a.parentNode),b=s(d,f,a))}return b!==c?A(d,f,b,""):d.aoData[f]!==c?d.aoData[f]._aData:null}return C(d)};this.fnGetNodes=function(a){var b=S(this[e.ext.iApiIndex]);return a!==c?b.aoData[a]!==c?b.aoData[a].nTr:null:wa(b)};this.fnGetPosition=function(a){var b=S(this[e.ext.iApiIndex]),c=a.nodeName.toUpperCase();return"TR"==c?z(b,a):"TD"==c||"TH"==c?(c=z(b,a.parentNode),a=s(b,c,a),[c,m(b,a),a]):null};this.fnIsOpen=function(a){for(var b=S(this[e.ext.iApiIndex]),
c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return!0;return!1};this.fnOpen=function(a,c,f){var g=S(this[e.ext.iApiIndex]),j=wa(g);if(-1!==b.inArray(a,j)){this.fnClose(a);var j=d.createElement("tr"),k=d.createElement("td");j.appendChild(k);k.className=f;k.colSpan=r(g);"string"===typeof c?k.innerHTML=c:b(k).html(c);c=b("tr",g.nTBody);-1!=b.inArray(a,c)&&b(j).insertAfter(a);g.aoOpenRows.push({nTr:j,nParent:a});return j}};this.fnPageChange=function(a,b){var d=S(this[e.ext.iApiIndex]);
Ca(d,a);aa(d);(b===c||b)&&M(d)};this.fnSetColumnVis=function(a,b,d){var f=S(this[e.ext.iApiIndex]),j,k,l=f.aoColumns,m=f.aoData,p,n;if(l[a].bVisible!=b){if(b){for(j=k=0;j<a;j++)l[j].bVisible&&k++;n=k>=r(f);if(!n)for(j=a;j<l.length;j++)if(l[j].bVisible){p=j;break}j=0;for(k=m.length;j<k;j++)null!==m[j].nTr&&(n?m[j].nTr.appendChild(m[j]._anHidden[a]):m[j].nTr.insertBefore(m[j]._anHidden[a],pa(f,j)[p]))}else{j=0;for(k=m.length;j<k;j++)null!==m[j].nTr&&(p=pa(f,j)[a],m[j]._anHidden[a]=p,p.parentNode.removeChild(p))}l[a].bVisible=
b;y(f,f.aoHeader);f.nTFoot&&y(f,f.aoFooter);j=0;for(k=f.aoOpenRows.length;j<k;j++)f.aoOpenRows[j].nTr.colSpan=r(f);if(d===c||d)g(f),M(f);Fa(f)}};this.fnSettings=function(){return S(this[e.ext.iApiIndex])};this.fnSort=function(a){var b=S(this[e.ext.iApiIndex]);b.aaSorting=a;ra(b)};this.fnSortListener=function(a,b,c){Ea(S(this[e.ext.iApiIndex]),a,b,c)};this.fnUpdate=function(a,d,f,j,k){var l=S(this[e.ext.iApiIndex]);d="object"===typeof d?z(l,d):d;if(b.isArray(a)&&f===c){l.aoData[d]._aData=a.slice();
for(f=0;f<l.aoColumns.length;f++)this.fnUpdate(A(l,d,f),d,f,!1,!1)}else if(b.isPlainObject(a)&&f===c){l.aoData[d]._aData=b.extend(!0,{},a);for(f=0;f<l.aoColumns.length;f++)this.fnUpdate(A(l,d,f),d,f,!1,!1)}else{D(l,d,f,a);a=A(l,d,f,"display");var m=l.aoColumns[f];null!==m.fnRender&&(a=R(l,d,f),m.bUseRendered&&D(l,d,f,a));null!==l.aoData[d].nTr&&(pa(l,d)[f].innerHTML=a)}f=b.inArray(d,l.aiDisplay);l.asDataSearch[f]=la(l,L(l,d,"filter",p(l,"bSearchable")));(k===c||k)&&g(l);(j===c||j)&&N(l);return 0};
this.fnVersionCheck=e.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:Va,_fnInitialise:ya,_fnInitComplete:za,_fnLanguageCompat:Ba,_fnAddColumn:k,_fnColumnOptions:j,_fnAddData:v,_fnCreateTr:ea,_fnGatherData:E,_fnBuildHead:P,_fnDrawHead:y,_fnDraw:M,_fnReDraw:N,_fnAjaxUpdate:Q,_fnAjaxParameters:T,_fnAjaxUpdateDraw:W,_fnServerParams:X,_fnAddOptionsHtml:J,_fnFeatureHtmlTable:Ka,_fnScrollDraw:La,_fnAdjustColumnSizing:g,_fnFeatureHtmlFilter:Y,_fnFilterComplete:da,_fnFilterCustom:Z,_fnFilterColumn:ma,_fnFilter:ka,
_fnBuildSearchArray:fa,_fnBuildSearchRow:la,_fnFilterCreateSearch:ha,_fnDataToSearch:ta,_fnSort:ra,_fnSortAttachListener:Ea,_fnSortingClasses:sa,_fnFeatureHtmlPaginate:Ia,_fnPageChange:Ca,_fnFeatureHtmlInfo:ua,_fnUpdateInfo:va,_fnFeatureHtmlLength:Ha,_fnFeatureHtmlProcessing:Ja,_fnProcessingDisplay:ia,_fnVisibleToColumnIndex:l,_fnColumnIndexToVisible:m,_fnNodeToDataIndex:z,_fnVisbleColumns:r,_fnCalculateEnd:aa,_fnConvertToWidth:Oa,_fnCalculateColumnWidths:Da,_fnScrollingWidthAdjust:Ma,_fnGetWidestNode:Na,
_fnGetMaxLenString:Pa,_fnStringToCss:G,_fnDetectType:t,_fnSettingsFromNode:S,_fnGetDataMaster:C,_fnGetTrNodes:wa,_fnGetTdNodes:pa,_fnEscapeRegex:qa,_fnDeleteIndex:V,_fnReOrderIndex:n,_fnColumnOrdering:u,_fnLog:ja,_fnClearTable:I,_fnSaveState:Fa,_fnLoadState:Sa,_fnCreateCookie:function(c,e,f,g,h){var j=new Date;j.setTime(j.getTime()+1E3*f);f=a.location.pathname.split("/");c=c+"_"+f.pop().replace(/[\/:]/g,"").toLowerCase();var k;null!==h?(k="function"===typeof b.parseJSON?b.parseJSON(e):eval("("+e+
")"),e=h(c,k,j.toGMTString(),f.join("/")+"/")):e=c+"="+encodeURIComponent(e)+"; expires="+j.toGMTString()+"; path="+f.join("/")+"/";c=d.cookie.split(";");h=e.split(";")[0].length;j=[];if(4096<h+d.cookie.length+10){for(var l=0,m=c.length;l<m;l++)if(-1!=c[l].indexOf(g)){var p=c[l].split("=");try{(k=eval("("+decodeURIComponent(p[1])+")"))&&k.iCreate&&j.push({name:p[0],time:k.iCreate})}catch(r){}}for(j.sort(function(a,b){return b.time-a.time});4096<h+d.cookie.length+10;){if(0===j.length)return;g=j.pop();
d.cookie=g.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+f.join("/")+"/"}}d.cookie=e},_fnReadCookie:function(b){var c=a.location.pathname.split("/");b=b+"_"+c[c.length-1].replace(/[\/:]/g,"").toLowerCase()+"=";for(var c=d.cookie.split(";"),e=0;e<c.length;e++){for(var f=c[e];" "==f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return decodeURIComponent(f.substring(b.length,f.length))}return null},_fnDetectHeader:O,_fnGetUniqueThs:K,_fnScrollBarWidth:Qa,_fnApplyToChildren:ga,_fnMap:F,
_fnGetRowData:L,_fnGetCellData:A,_fnSetCellData:D,_fnGetObjectDataFn:B,_fnSetObjectDataFn:H,_fnApplyColumnDefs:w,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:ba,_fnCallbackFire:ca,_fnJsonString:Wa,_fnRender:R,_fnNodeToColumnIndex:s,_fnInfoMacros:na,_fnBrowserDetect:Ua,_fnGetColumns:p};b.extend(e.ext.oApi,this.oApi);for(var Ga in e.ext.oApi)Ga&&(this[Ga]=Va(Ga));var Aa=this;this.each(function(){var a=0,g,l,m;l=this.getAttribute("id");var p=!1,r=!1;if("table"!=this.nodeName.toLowerCase())ja(null,0,
"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{a=0;for(g=e.settings.length;a<g;a++){if(e.settings[a].nTable==this){if(f===c||f.bRetrieve)return e.settings[a].oInstance;if(f.bDestroy){e.settings[a].oInstance.fnDestroy();break}else{ja(e.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(e.settings[a].sTableId==this.id){e.settings.splice(a,
1);break}}if(null===l||""===l)this.id=l="DataTables_Table_"+e.ext._oExternConfig.iNextUnique++;var n=b.extend(!0,{},e.models.oSettings,{nTable:this,oApi:Aa.oApi,oInit:f,sDestroyWidth:b(this).width(),sInstance:l,sTableId:l});e.settings.push(n);n.oInstance=1===Aa.length?Aa:b(this).dataTable();f||(f={});f.oLanguage&&Ba(f.oLanguage);f=Ta(b.extend(!0,{},e.defaults),f);F(n.oFeatures,f,"bPaginate");F(n.oFeatures,f,"bLengthChange");F(n.oFeatures,f,"bFilter");F(n.oFeatures,f,"bSort");F(n.oFeatures,f,"bInfo");
F(n.oFeatures,f,"bProcessing");F(n.oFeatures,f,"bAutoWidth");F(n.oFeatures,f,"bSortClasses");F(n.oFeatures,f,"bServerSide");F(n.oFeatures,f,"bDeferRender");F(n.oScroll,f,"sScrollX","sX");F(n.oScroll,f,"sScrollXInner","sXInner");F(n.oScroll,f,"sScrollY","sY");F(n.oScroll,f,"bScrollCollapse","bCollapse");F(n.oScroll,f,"bScrollInfinite","bInfinite");F(n.oScroll,f,"iScrollLoadGap","iLoadGap");F(n.oScroll,f,"bScrollAutoCss","bAutoCss");F(n,f,"asStripeClasses");F(n,f,"asStripClasses","asStripeClasses");
F(n,f,"fnServerData");F(n,f,"fnFormatNumber");F(n,f,"sServerMethod");F(n,f,"aaSorting");F(n,f,"aaSortingFixed");F(n,f,"aLengthMenu");F(n,f,"sPaginationType");F(n,f,"sAjaxSource");F(n,f,"sAjaxDataProp");F(n,f,"iCookieDuration");F(n,f,"sCookiePrefix");F(n,f,"sDom");F(n,f,"bSortCellsTop");F(n,f,"iTabIndex");F(n,f,"oSearch","oPreviousSearch");F(n,f,"aoSearchCols","aoPreSearchCols");F(n,f,"iDisplayLength","_iDisplayLength");F(n,f,"bJQueryUI","bJUI");F(n,f,"fnCookieCallback");F(n,f,"fnStateLoad");F(n,f,
"fnStateSave");F(n.oLanguage,f,"fnInfoCallback");ba(n,"aoDrawCallback",f.fnDrawCallback,"user");ba(n,"aoServerParams",f.fnServerParams,"user");ba(n,"aoStateSaveParams",f.fnStateSaveParams,"user");ba(n,"aoStateLoadParams",f.fnStateLoadParams,"user");ba(n,"aoStateLoaded",f.fnStateLoaded,"user");ba(n,"aoRowCallback",f.fnRowCallback,"user");ba(n,"aoRowCreatedCallback",f.fnCreatedRow,"user");ba(n,"aoHeaderCallback",f.fnHeaderCallback,"user");ba(n,"aoFooterCallback",f.fnFooterCallback,"user");ba(n,"aoInitComplete",
f.fnInitComplete,"user");ba(n,"aoPreDrawCallback",f.fnPreDrawCallback,"user");n.oFeatures.bServerSide&&n.oFeatures.bSort&&n.oFeatures.bSortClasses?ba(n,"aoDrawCallback",sa,"server_side_sort_classes"):n.oFeatures.bDeferRender&&ba(n,"aoDrawCallback",sa,"defer_sort_classes");f.bJQueryUI?(b.extend(n.oClasses,e.ext.oJUIClasses),f.sDom===e.defaults.sDom&&"lfrtip"===e.defaults.sDom&&(n.sDom='<"H"lfr>t<"F"ip>')):b.extend(n.oClasses,e.ext.oStdClasses);b(this).addClass(n.oClasses.sTable);if(""!==n.oScroll.sX||
""!==n.oScroll.sY)n.oScroll.iBarWidth=Qa();n.iInitDisplayStart===c&&(n.iInitDisplayStart=f.iDisplayStart,n._iDisplayStart=f.iDisplayStart);f.bStateSave&&(n.oFeatures.bStateSave=!0,Sa(n,f),ba(n,"aoDrawCallback",Fa,"state_save"));null!==f.iDeferLoading&&(n.bDeferLoading=!0,a=b.isArray(f.iDeferLoading),n._iRecordsDisplay=a?f.iDeferLoading[0]:f.iDeferLoading,n._iRecordsTotal=a?f.iDeferLoading[1]:f.iDeferLoading);null!==f.aaData&&(r=!0);""!==f.oLanguage.sUrl?(n.oLanguage.sUrl=f.oLanguage.sUrl,b.getJSON(n.oLanguage.sUrl,
null,function(a){Ba(a);b.extend(!0,n.oLanguage,f.oLanguage,a);ya(n)}),p=!0):b.extend(!0,n.oLanguage,f.oLanguage);null===f.asStripeClasses&&(n.asStripeClasses=[n.oClasses.sStripeOdd,n.oClasses.sStripeEven]);g=n.asStripeClasses.length;n.asDestroyStripes=[];if(g){l=!1;m=b(this).children("tbody").children("tr:lt("+g+")");for(a=0;a<g;a++)m.hasClass(n.asStripeClasses[a])&&(l=!0,n.asDestroyStripes.push(n.asStripeClasses[a]));l&&m.removeClass(n.asStripeClasses.join(" "))}l=[];a=this.getElementsByTagName("thead");
0!==a.length&&(O(n.aoHeader,a[0]),l=K(n));if(null===f.aoColumns){m=[];a=0;for(g=l.length;a<g;a++)m.push(null)}else m=f.aoColumns;a=0;for(g=m.length;a<g;a++)f.saved_aoColumns!==c&&f.saved_aoColumns.length==g&&(null===m[a]&&(m[a]={}),m[a].bVisible=f.saved_aoColumns[a].bVisible),k(n,l?l[a]:null);w(n,f.aoColumnDefs,m,function(a,b){j(n,a,b)});a=0;for(g=n.aaSorting.length;a<g;a++){n.aaSorting[a][0]>=n.aoColumns.length&&(n.aaSorting[a][0]=0);var s=n.aoColumns[n.aaSorting[a][0]];n.aaSorting[a][2]===c&&(n.aaSorting[a][2]=
0);f.aaSorting===c&&n.saved_aaSorting===c&&(n.aaSorting[a][1]=s.asSorting[0]);l=0;for(m=s.asSorting.length;l<m;l++)if(n.aaSorting[a][1]==s.asSorting[l]){n.aaSorting[a][2]=l;break}}sa(n);Ua(n);a=b(this).children("caption").each(function(){this._captionSide=b(this).css("caption-side")});g=b(this).children("thead");0===g.length&&(g=[d.createElement("thead")],this.appendChild(g[0]));n.nTHead=g[0];g=b(this).children("tbody");0===g.length&&(g=[d.createElement("tbody")],this.appendChild(g[0]));n.nTBody=
g[0];n.nTBody.setAttribute("role","alert");n.nTBody.setAttribute("aria-live","polite");n.nTBody.setAttribute("aria-relevant","all");g=b(this).children("tfoot");if(0===g.length&&0<a.length&&(""!==n.oScroll.sX||""!==n.oScroll.sY))g=[d.createElement("tfoot")],this.appendChild(g[0]);0<g.length&&(n.nTFoot=g[0],O(n.aoFooter,n.nTFoot));if(r)for(a=0;a<f.aaData.length;a++)v(n,f.aaData[a]);else E(n);n.aiDisplay=n.aiDisplayMaster.slice();n.bInitialised=!0;!1===p&&ya(n)}});Aa=null;return this};e.fnVersionCheck=
function(a){var b=function(a,b){for(;a.length<b;)a+="0";return a},c=e.ext.sVersion.split(".");a=a.split(".");for(var d="",l="",m=0,r=a.length;m<r;m++)d+=b(c[m],3),l+=b(a[m],3);return parseInt(d,10)>=parseInt(l,10)};e.fnIsDataTable=function(a){for(var b=e.settings,c=0;c<b.length;c++)if(b[c].nTable===a||b[c].nScrollHead===a||b[c].nScrollFoot===a)return!0;return!1};e.fnTables=function(a){var c=[];jQuery.each(e.settings,function(d,e){(!a||!0===a&&b(e.nTable).is(":visible"))&&c.push(e.nTable)});return c};
e.version="1.9.4";e.settings=[];e.models={};e.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:e.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:e.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};e.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};e.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};e.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,
bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};e.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,
bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){if(1E3>a)return a;var b=a+"";a=b.split("");for(var c="",b=b.length,d=0;d<b;d++)0===d%3&&0!==d&&(c=this.oLanguage.sInfoThousands+c),c=
a[b-d-1]+c;return c},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(a,c,d,e){e.jqXHR=b.ajax({url:a,data:c,success:function(a){a.sError&&e.oApi._fnLog(e,0,a.sError);b(e.oInstance).trigger("xhr",[e,a]);d(a)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(a,b){"parsererror"==b&&e.oApi._fnLog(e,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,
fnStateLoad:function(a){a=this.oApi._fnReadCookie(a.sCookiePrefix+a.sInstance);var c;try{c="function"===typeof b.parseJSON?b.parseJSON(a):eval("("+a+")")}catch(d){c=null}return c},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(a,b){this.oApi._fnCreateCookie(a.sCookiePrefix+a.sInstance,this.oApi._fnJsonString(b),a.iCookieDuration,a.sCookiePrefix,a.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,
oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",
sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:b.extend({},e.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};e.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",
sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};e.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],
aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],
sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],
fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,
sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};e.ext=b.extend(!0,{},e.models.ext);b.extend(e.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",
sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",
sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});b.extend(e.ext.oJUIClasses,e.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",
sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",
sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",
sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});
b.extend(e.ext.oPagination,{two_button:{fnInit:function(a,c,d){var e=a.oLanguage.oPaginate,h=function(b){a.oApi._fnPageChange(a,b.data.action)&&d(a)},e=!a.bJUI?'<a class="'+a.oClasses.sPagePrevDisabled+'" tabindex="'+a.iTabIndex+'" role="button">'+e.sPrevious+'</a><a class="'+a.oClasses.sPageNextDisabled+'" tabindex="'+a.iTabIndex+'" role="button">'+e.sNext+"</a>":'<a class="'+a.oClasses.sPagePrevDisabled+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+a.oClasses.sPageJUIPrev+'"></span></a><a class="'+
a.oClasses.sPageNextDisabled+'" tabindex="'+a.iTabIndex+'" role="button"><span class="'+a.oClasses.sPageJUINext+'"></span></a>';b(c).append(e);var m=b("a",c),e=m[0],m=m[1];a.oApi._fnBindAction(e,{action:"previous"},h);a.oApi._fnBindAction(m,{action:"next"},h);a.aanFeatures.p||(c.id=a.sTableId+"_paginate",e.id=a.sTableId+"_previous",m.id=a.sTableId+"_next",e.setAttribute("aria-controls",a.sTableId),m.setAttribute("aria-controls",a.sTableId))},fnUpdate:function(a){if(a.aanFeatures.p)for(var b=a.oClasses,
c=a.aanFeatures.p,d,e=0,h=c.length;e<h;e++)if(d=c[e].firstChild)d.className=0===a._iDisplayStart?b.sPagePrevDisabled:b.sPagePrevEnabled,d=d.nextSibling,d.className=a.fnDisplayEnd()==a.fnRecordsDisplay()?b.sPageNextDisabled:b.sPageNextEnabled}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(a,c,d){var e=a.oLanguage.oPaginate,h=a.oClasses,m=function(b){a.oApi._fnPageChange(a,b.data.action)&&d(a)};b(c).append('<a  tabindex="'+a.iTabIndex+'" class="'+h.sPageButton+" "+h.sPageFirst+'">'+e.sFirst+
'</a><a  tabindex="'+a.iTabIndex+'" class="'+h.sPageButton+" "+h.sPagePrevious+'">'+e.sPrevious+'</a><span></span><a tabindex="'+a.iTabIndex+'" class="'+h.sPageButton+" "+h.sPageNext+'">'+e.sNext+'</a><a tabindex="'+a.iTabIndex+'" class="'+h.sPageButton+" "+h.sPageLast+'">'+e.sLast+"</a>");var r=b("a",c),e=r[0],h=r[1],p=r[2],r=r[3];a.oApi._fnBindAction(e,{action:"first"},m);a.oApi._fnBindAction(h,{action:"previous"},m);a.oApi._fnBindAction(p,{action:"next"},m);a.oApi._fnBindAction(r,{action:"last"},
m);a.aanFeatures.p||(c.id=a.sTableId+"_paginate",e.id=a.sTableId+"_first",h.id=a.sTableId+"_previous",p.id=a.sTableId+"_next",r.id=a.sTableId+"_last")},fnUpdate:function(a,c){if(a.aanFeatures.p){var d=e.ext.oPagination.iFullNumbersShowPages,g=Math.floor(d/2),l=Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength),m=Math.ceil(a._iDisplayStart/a._iDisplayLength)+1,r="",p,t=a.oClasses,n,u=a.aanFeatures.p,w=function(b){a.oApi._fnBindAction(this,{page:b+p-1},function(b){a.oApi._fnPageChange(a,b.data.page);
c(a);b.preventDefault()})};-1===a._iDisplayLength?m=g=p=1:l<d?(p=1,g=l):m<=g?(p=1,g=d):m>=l-g?(p=l-d+1,g=l):(p=m-Math.ceil(d/2)+1,g=p+d-1);for(d=p;d<=g;d++)r+=m!==d?'<a tabindex="'+a.iTabIndex+'" class="'+t.sPageButton+'">'+a.fnFormatNumber(d)+"</a>":'<a tabindex="'+a.iTabIndex+'" class="'+t.sPageButtonActive+'">'+a.fnFormatNumber(d)+"</a>";d=0;for(g=u.length;d<g;d++)n=u[d],n.hasChildNodes()&&(b("span:eq(0)",n).html(r).children("a").each(w),n=n.getElementsByTagName("a"),n=[n[0],n[1],n[n.length-2],
n[n.length-1]],b(n).removeClass(t.sPageButton+" "+t.sPageButtonActive+" "+t.sPageButtonStaticDisabled),b([n[0],n[1]]).addClass(1==m?t.sPageButtonStaticDisabled:t.sPageButton),b([n[2],n[3]]).addClass(0===l||m===l||-1===a._iDisplayLength?t.sPageButtonStaticDisabled:t.sPageButton))}}}});b.extend(e.ext.oSort,{"string-pre":function(a){"string"!=typeof a&&(a=null!==a&&a.toString?a.toString():"");return a.toLowerCase()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<
b?1:a>b?-1:0},"html-pre":function(a){return a.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(a,b){return a<b?-1:a>b?1:0},"html-desc":function(a,b){return a<b?1:a>b?-1:0},"date-pre":function(a){a=Date.parse(a);if(isNaN(a)||""===a)a=Date.parse("01/01/1970 00:00:00");return a},"date-asc":function(a,b){return a-b},"date-desc":function(a,b){return b-a},"numeric-pre":function(a){return"-"==a||""===a?0:1*a},"numeric-asc":function(a,b){return a-b},"numeric-desc":function(a,b){return b-a}});b.extend(e.ext.aTypes,
[function(a){if("number"===typeof a)return"numeric";if("string"!==typeof a)return null;var b,c=!1;b=a.charAt(0);if(-1=="0123456789-".indexOf(b))return null;for(var d=1;d<a.length;d++){b=a.charAt(d);if(-1=="0123456789.".indexOf(b))return null;if("."==b){if(c)return null;c=!0}}return"numeric"},function(a){var b=Date.parse(a);return null!==b&&!isNaN(b)||"string"===typeof a&&0===a.length?"date":null},function(a){return"string"===typeof a&&-1!=a.indexOf("<")&&-1!=a.indexOf(">")?"html":null}]);b.fn.DataTable=
e;b.fn.dataTable=e;b.fn.dataTableSettings=e.settings;b.fn.dataTableExt=e.ext};"function"===typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.dataTable&&e(jQuery)})(window,document);$.fn.dataTableExt.oApi.fnPagingInfo=function(a){return{iStart:a._iDisplayStart,iEnd:a.fnDisplayEnd(),iLength:a._iDisplayLength,iTotal:a.fnRecordsTotal(),iFilteredTotal:a.fnRecordsDisplay(),iPage:Math.ceil(a._iDisplayStart/a._iDisplayLength),iTotalPages:Math.ceil(a.fnRecordsDisplay()/a._iDisplayLength)}};
$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(a,d,c){var e=a.oLanguage.oPaginate,b=function(b){b.preventDefault();a.oApi._fnPageChange(a,b.data.action)&&c(a)};$(d).addClass("pagination").append('<ul><li class="prev disabled"><a href="#">&larr; '+e.sPrevious+'</a></li><li class="next disabled"><a href="#">'+e.sNext+" &rarr; </a></li></ul>");d=$("a",d);$(d[0]).bind("click.DT",{action:"previous"},b);$(d[1]).bind("click.DT",{action:"next"},b)},fnUpdate:function(a,d){var c=a.oInstance.fnPagingInfo(),
e=a.aanFeatures.p,b,h,f,k,j;b=Math.floor(2.5);5>c.iTotalPages?(k=1,j=c.iTotalPages):c.iPage<=b?(k=1,j=5):c.iPage>=c.iTotalPages-b?(k=c.iTotalPages-5+1,j=c.iTotalPages):(k=c.iPage-b+1,j=k+5-1);b=0;for(iLen=e.length;b<iLen;b++){$("li:gt(0)",e[b]).filter(":not(:last)").remove();for(h=k;h<=j;h++)f=h==c.iPage+1?'class="active"':"",$("<li "+f+'><a href="#">'+h+"</a></li>").insertBefore($("li:last",e[b])[0]).bind("click",function(b){b.preventDefault();a._iDisplayStart=(parseInt($("a",this).text(),10)-1)*
c.iLength;d(a)});0===c.iPage?$("li:first",e[b]).addClass("disabled"):$("li:first",e[b]).removeClass("disabled");c.iPage===c.iTotalPages-1||0===c.iTotalPages?$("li:last",e[b]).addClass("disabled"):$("li:last",e[b]).removeClass("disabled")}}}});(function(){var a,d={zoom:8,draggable:!1,container:null};a=function(a){var e=null,b=[],h=[],f=[],k=angular.extend({},d,a),j=this;this.center=a.center;this.zoom=k.zoom;this.draggable=k.draggable;this.dragging=!1;this.selector=k.container;this.markers=[];this.draw=function(){null!=j.center&&(null==e?(e=new google.maps.Map(j.selector,{center:j.center,zoom:j.zoom,draggable:j.draggable,mapTypeId:google.maps.MapTypeId.ROADMAP}),google.maps.event.addListener(e,"dragstart",function(){j.dragging=!0}),google.maps.event.addListener(e,
"idle",function(){j.dragging=!1}),google.maps.event.addListener(e,"drag",function(){j.dragging=!0}),google.maps.event.addListener(e,"zoom_changed",function(){j.zoom=e.getZoom()}),google.maps.event.addListener(e,"center_changed",function(){j.center=e.getCenter()}),h.length&&angular.forEach(h,function(a){google.maps.event.addListener(e,a.on,a.handler)})):(e.setCenter(j.center),e.setZoom(j.zoom),google.maps.event.trigger(e,"resize")),angular.forEach(f,function(a){a.open(e)}))};this.fit=function(){if(e&&
b.length){var a=new google.maps.LatLngBounds;angular.forEach(b,function(b){a.extend(b.getPosition())});e.fitBounds(a)}};this.on=function(a,b){h.push({on:a,handler:b})};this.addMarker=function(a,c,d,f,h){if(null==j.findMarker(a,c)){var k=new google.maps.Marker({position:new google.maps.LatLng(a,c),map:e});b.unshift(k);j.markers.unshift({lat:a,lng:c,draggable:!1,label:d,url:f,thumbnail:h});return k}};this.findMarker=function(a,c){for(var d=0;d<b.length;d++){var e=b[d].getPosition();if(e.lat()==a&&e.lng()==
c)return b[d]}return null};this.findMarkerIndex=function(a,c){for(var d=0;d<b.length;d++){var e=b[d].getPosition();if(e.lat()==a&&e.lng()==c)return d}return-1};this.addInfoWindow=function(a,b,c){a=new google.maps.InfoWindow({content:c,position:new google.maps.LatLng(a,b)});f.push(a);return a};this.hasMarker=function(a,b){return null!==j.findMarker(a,b)};this.getMarkerInstances=function(){return b};this.removeMarkers=function(a){var c=this;angular.forEach(a,function(a){var d=a.getPosition(),e=d.lat(),
d=d.lng(),e=c.findMarkerIndex(e,d);b.splice(e,1);c.markers.splice(e,1);a.setMap(null)})}};angular.module("google-maps",[]).directive("googleMap",["$log","$timeout","$filter",function(c,d){return{restrict:"EC",priority:100,transclude:!0,template:"<div class='angular-google-map' ng-transclude></div>",replace:!1,scope:{center:"=center",markers:"=markers",latitude:"=latitude",longitude:"=longitude",zoom:"=zoom",refresh:"&refresh",windows:"=windows"},controller:function(a){var c=a.map;self.addInfoWindow=
function(a,b,d){c.addInfoWindow(a,b,d)}},link:function(b,h,f){if(!angular.isDefined(b.center)||!angular.isDefined(b.center.lat)||!angular.isDefined(b.center.lng))c.error("Could not find a valid center property");else{angular.element(h).addClass("angular-google-map");var k=new a({container:h[0],center:new google.maps.LatLng(b.center.lat,b.center.lng),draggable:"true"==f.draggable,zoom:b.zoom});k.on("drag",function(){var a=k.center;d(function(){b.$apply(function(){b.center.lat=a.lat();b.center.lng=
a.lng()})})});k.on("zoom_changed",function(){b.zoom!=k.zoom&&d(function(){b.$apply(function(){b.zoom=k.zoom})})});k.on("center_changed",function(){var a=k.center;d(function(){b.$apply(function(){k.dragging||(b.center.lat=a.lat(),b.center.lng=a.lng())})})});if("true"==f.markClick){var j=null;k.on("click",function(a){null==j?(j={latitude:a.latLng.lat(),longitude:a.latLng.lng()},b.markers.push(j)):(j.latitude=a.latLng.lat(),j.longitude=a.latLng.lng());d(function(){b.$apply()})})}k.draw();b.map=k;b.$watch("refresh()",
function(a){a&&k.draw()});b.$watch("markers",function(a){d(function(){angular.forEach(a,function(a){k.hasMarker(a.latitude,a.longitude)||k.addMarker(a.latitude,a.longitude)});var c=[];angular.forEach(k.getMarkerInstances(),function(a){for(var d=a.getPosition(),e=d.lat(),d=d.lng(),f=!1,g=0;g<b.markers.length;g++){var h=b.markers[g];h.latitude==e&&h.longitude==d&&(f=!0)}f||c.push(a)});k.removeMarkers(c);"true"==f.fit&&1<a.length&&k.fit()})},!0);b.$watch("center",function(a,b){a!==b&&!k.dragging&&(k.center=
new google.maps.LatLng(a.lat,a.lng),k.draw())},!0);b.$watch("zoom",function(a,b){a!==b&&(k.zoom=a,k.draw())})}}}}])})();google.load("visualization","1",{packages:["corechart"]});
(function(a){a.fn.attc=function(d){var c=/[^0-9\.]/g,e=this,b=e.find("tbody tr").length,h=a.extend({location:e.attr("id"),hideTable:!1,hideChart:!1,type:"bar",googleOptions:{},events:{ready:null,select:null,error:null,onmouseover:null,onmouseout:null},controls:{showHide:!0,create:!0,chartType:!0},controlsLabels:{showChart:"Show chart",hideChart:"Hide chart",showTable:"Show table",hideTable:"Hide table",createChart:"Edit chart",changeChart:"Change chart"},chartOptionList:'<option value="bar">Bar</option><option value="pie">Pie</option><option value="column">Column</option><option value="area">Area</option><option value="line">Line</option>'},
d),f=null;e.attr("data-attc-editing",!1);var k=function(d,e,j){var k=[];switch(d){case "pie":d=a("#"+j.attr("data-attc-colvalues"));var p=j.attr("data-attc-colDescription"),p=0<p.split(",").length?a("#"+p.split(",")[0]):a("#"+p),t=d.index()+1,n=p.index()+1;k[0]=[p.text(),d.text()];for(i=1;i<=b;i++){var p=j.find("tbody tr:nth-child("+i+") td:nth-child("+t+")").text(),p=parseFloat(p.replace(c,"")),u=j.find("tbody tr:nth-child("+i+") td:nth-child("+n+")").text();k[i]=[u,p]}t=new google.visualization.PieChart(document.getElementById(e));
break;case "bar":case "column":case "area":case "line":var p=a("#"+j.attr("data-attc-colDescription")),n=p.index()+1,w=j.attr("data-attc-colvalues").split(","),v=[],t=0,u=p="";for(x=0;x<w.length;x++)v.push(a("#"+w[x]).index()+1);j.find("thead th");var E=[],u=j.find("thead tr:nth-child(1) th:nth-child("+n+")").text();E.push(u);for(x=0;x<w.length;x++)t=v[x],p=j.find("thead tr:nth-child(1) th:nth-child("+t+")").text(),E.push(p);k[0]=E;for(i=1;i<=b;i++){E=[];u=j.find("tbody tr:nth-child("+i+") td:nth-child("+
n+")").text();E.push(u);for(x=0;x<w.length;x++)t=v[x],p=j.find("tbody tr:nth-child("+i+") td:nth-child("+t+")").text(),p=parseFloat(p.replace(c,"")),E.push(p);k[i]=E}switch(d){case "bar":t=new google.visualization.BarChart(document.getElementById(e));break;case "column":t=new google.visualization.ColumnChart(document.getElementById(e));break;case "area":t=new google.visualization.AreaChart(document.getElementById(e));break;case "line":t=new google.visualization.LineChart(document.getElementById(e));
break;default:t=new google.visualization.BarChart(document.getElementById(e))}}f=t;google.visualization.events.addListener(f,"select",function(){var a=f.getSelection()[0];a&&(a=z.getValue(a.row,0),h.events.click&&h.events.click(a),console.log("The user selected "+a))});var z=google.visualization.arrayToDataTable(k);t.draw(z,h.googleOptions)};void 0!=e.attr("data-attc-click")&&(h.events.click=e.attr("data-attc-click"));""!=e.attr("title")&&void 0==h.googleOptions.title&&(h.googleOptions.title=e.attr("title"));
void 0!=e.attr("data-attc-googleOptions")&&(h.googleOptions=jQuery.parseJSON(e.attr("data-attc-googleOptions")));void 0!=e.attr("data-attc-controls")&&(h.controls=jQuery.parseJSON(e.attr("data-attc-controls")));void 0!=e.attr("data-attc-type")&&(h.type=e.attr("data-attc-type"));void 0!=e.attr("data-attc-hideTable")&&(h.hideTable=e.attr("data-attc-hideTable"));void 0!=e.attr("data-attc-hideChart")&&(h.hideChart=e.attr("data-attc-hideChart"));void 0!=e.attr("data-attc-location")&&(h.location=e.attr("data-attc-location"));
if(0<e.length)if("TABLE"==e.get(0).tagName){if(k(h.type,h.location,e),"true"==h.hideTable&&e.hide(),"true"==h.hideChart&&a("#"+h.location).hide(),d="",h.controls.showHide&&(d+='<li><a href="#" \t\t    \t\t data-attc-textShow="'+h.controlsLabels.showChart+'" \t\t    \t\t data-attc-textHide="'+h.controlsLabels.hideChart+'" \t\t    \t\t data-attc-controls-showHide="'+h.location+'" \t\t    \t\t class="attcChartIcon">'+(h.hideChart?h.controlsLabels.showChart:h.controlsLabels.hideChart)+"</a></li>",d+=
'<li><a href="#" \t\t    \t\tdata-attc-textShow="'+h.controlsLabels.showTable+'" \t\t    \t\tdata-attc-textHide="'+h.controlsLabels.hideTable+'" \t\t    \t\tdata-attc-controls-showHide="'+e.attr("id")+'" \t\t    \t\tclass="attcTableIcon">'+(h.hideTable?h.controlsLabels.showTable:h.controlsLabels.hideTable)+"</a></li>"),h.controls.create&&(d+='<li><a href="#" \t\t    \t\tdata-attc-controls-addCreateOptions="'+e.attr("id")+'" \t\t    \t\tclass="attcTableIcon">'+h.controlsLabels.createChart+"</a></li>"),
h.controls.chartType&&(d+='<li><select data-attc-controls-updateChart="'+e.attr("id")+'" class="attcUpdateChart">'+h.chartOptionList+"</select></li>"),""!=d){var j=a('<div class="attcControls"><ul class="nav nav-pills">'+d+"</ul><div>");j.find("select[data-attc-controls-updateChart]").val(h.type);j.on("click","a[data-attc-controls-showHide]",function(b){b.preventDefault();b=a("#"+a(this).attr("data-attc-controls-showHide"));b.find("tbody").show();b.toggle();a(this).text(b.is(":visible")?a(this).attr("data-attc-textHide"):
a(this).attr("data-attc-textShow"))});j.on("change","select[data-attc-controls-updateChart]",function(){e.attr("data-attc-type",a(this).val());k(a(this).val(),h.location,e);"true"==e.attr("data-attc-editing")&&j.find("a[data-attc-controls-addCreateOptions]").click()});j.find("a[data-attc-controls-addCreateOptions]").on("click",function(b){b.preventDefault();e.is(":visible")||(e.show(),e.find("tbody").hide());e.attr("data-attc-editing",!0);e.find("thead th input.attcEditCheckRadioBoxes").remove();
e.find("thead th").each(function(b){var d=0,f=b+1,g="checkbox",j="value",n=e.attr("data-attc-colDescription"),u=e.attr("data-attc-colvalues").split(",");u.push(n);e.find("tbody>tr>td:nth-child("+f+")").each(function(){d+=parseFloat(a(this).text().replace(c,""))});isNaN(d)&&(g="radio",j="desc");"pie"==e.attr("data-attc-type")&&(g="radio");b='<input data-attc-colType="'+j+'" type="'+g+'" name=attc'+j+'" value="'+b+'"';-1<a.inArray(a(this).attr("id"),u)&&(b+=' checked="checked"');b=a(b+' class="attcEditCheckRadioBoxes"/>').on("click",
function(){var b="attcCol"+a(this).val();void 0!=a(this).parents("th").attr("id")?b=a(this).parents("th").attr("id"):a(this).parents("th").attr("id",b);"desc"==a(this).attr("data-attc-colType")?e.attr("data-attc-colDescription",b):("pie"!=e.attr("data-attc-type")&&(b=e.find("input[data-attc-colType=value]:checked").parents("th").map(function(){return this.id}).get().toString()),e.attr("data-attc-colValues",b));k(e.attr("data-attc-type"),h.location,e)});a(this).prepend(b)})});e.before(j)}}else alert(e.attr("id")+
" is not a table it's a: "+e.get(0).tagName);return this}})(jQuery);$(document).ready(function(){$("[data-attc-createChart]").attc()});